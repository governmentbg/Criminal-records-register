2019-11-28 11:38:42.555 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-11-28 11:38:42.610 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-11-28 11:38:42.621 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-11-28 11:38:42.621 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-11-28 11:38:42.621 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-11-28 11:38:42.621 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-11-28 11:38:42.653 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-11-28 11:38:42.653 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-11-28 11:38:43.520 +02:00 [DBG] Login Url: /Account/Login
2019-11-28 11:38:43.523 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-11-28 11:38:43.523 +02:00 [DBG] Logout Url: /Account/Logout
2019-11-28 11:38:43.523 +02:00 [DBG] ConsentUrl Url: /consent
2019-11-28 11:38:43.523 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-11-28 11:38:43.523 +02:00 [DBG] Error Url: /home/error
2019-11-28 11:38:43.523 +02:00 [DBG] Error Id Parameter: errorId
2019-11-28 11:39:15.653 +02:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-12-13 18:07:49.416 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 18:07:49.513 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 18:07:49.525 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 18:07:49.525 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 18:07:49.526 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 18:07:49.526 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 18:07:49.526 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 18:07:49.526 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 18:07:50.328 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 18:07:50.332 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 18:07:50.333 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 18:07:50.333 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 18:07:50.333 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 18:07:50.333 +02:00 [DBG] Error Url: /home/error
2019-12-13 18:07:50.333 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 18:12:19.404 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 18:12:19.415 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 18:12:19.415 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 18:12:19.423 +02:00 [DBG] Start discovery request
2019-12-13 18:12:32.397 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:12:32.850 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:12:32.850 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:12:32.861 +02:00 [DBG] Start token request.
2019-12-13 18:12:32.869 +02:00 [DBG] Start client validation
2019-12-13 18:12:32.877 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:12:32.882 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:12:32.893 +02:00 [DBG] No secret in post body found
2019-12-13 18:12:32.893 +02:00 [DBG] Parser found no secret
2019-12-13 18:12:32.898 +02:00 [ERR] No client identifier found
2019-12-13 18:12:55.186 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:12:55.187 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:12:55.187 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:12:55.187 +02:00 [DBG] Start token request.
2019-12-13 18:12:55.187 +02:00 [DBG] Start client validation
2019-12-13 18:12:55.187 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:12:55.187 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:12:55.188 +02:00 [DBG] No secret in post body found
2019-12-13 18:12:55.188 +02:00 [DBG] Parser found no secret
2019-12-13 18:12:55.188 +02:00 [ERR] No client identifier found
2019-12-13 18:12:57.081 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:12:57.081 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:12:57.081 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:12:57.081 +02:00 [DBG] Start token request.
2019-12-13 18:12:57.081 +02:00 [DBG] Start client validation
2019-12-13 18:12:57.082 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:12:57.082 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:12:57.082 +02:00 [DBG] No secret in post body found
2019-12-13 18:12:57.082 +02:00 [DBG] Parser found no secret
2019-12-13 18:12:57.082 +02:00 [ERR] No client identifier found
2019-12-13 18:12:59.738 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:12:59.742 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:12:59.742 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:12:59.742 +02:00 [DBG] Start token request.
2019-12-13 18:12:59.742 +02:00 [DBG] Start client validation
2019-12-13 18:12:59.742 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:12:59.742 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:12:59.742 +02:00 [DBG] No secret in post body found
2019-12-13 18:12:59.743 +02:00 [DBG] Parser found no secret
2019-12-13 18:12:59.743 +02:00 [ERR] No client identifier found
2019-12-13 18:13:00.450 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:13:00.454 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:13:00.454 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:13:00.454 +02:00 [DBG] Start token request.
2019-12-13 18:13:00.454 +02:00 [DBG] Start client validation
2019-12-13 18:13:00.454 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:13:00.454 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:13:00.455 +02:00 [DBG] No secret in post body found
2019-12-13 18:13:00.455 +02:00 [DBG] Parser found no secret
2019-12-13 18:13:00.455 +02:00 [ERR] No client identifier found
2019-12-13 18:13:00.632 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:13:00.632 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:13:00.632 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:13:00.633 +02:00 [DBG] Start token request.
2019-12-13 18:13:00.633 +02:00 [DBG] Start client validation
2019-12-13 18:13:00.633 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:13:00.633 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:13:00.633 +02:00 [DBG] No secret in post body found
2019-12-13 18:13:00.633 +02:00 [DBG] Parser found no secret
2019-12-13 18:13:00.633 +02:00 [ERR] No client identifier found
2019-12-13 18:13:00.802 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:13:00.802 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:13:00.802 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:13:00.803 +02:00 [DBG] Start token request.
2019-12-13 18:13:00.803 +02:00 [DBG] Start client validation
2019-12-13 18:13:00.803 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:13:00.803 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:13:00.803 +02:00 [DBG] No secret in post body found
2019-12-13 18:13:00.803 +02:00 [DBG] Parser found no secret
2019-12-13 18:13:00.804 +02:00 [ERR] No client identifier found
2019-12-13 18:13:17.525 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:13:17.525 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:13:17.526 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:13:17.526 +02:00 [DBG] Start token request.
2019-12-13 18:13:17.526 +02:00 [DBG] Start client validation
2019-12-13 18:13:17.526 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:13:17.526 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:13:17.526 +02:00 [DBG] No secret in post body found
2019-12-13 18:13:17.526 +02:00 [DBG] Parser found no secret
2019-12-13 18:13:17.526 +02:00 [ERR] No client identifier found
2019-12-13 18:13:59.747 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:13:59.748 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:13:59.748 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:13:59.748 +02:00 [DBG] Start token request.
2019-12-13 18:13:59.748 +02:00 [DBG] Start client validation
2019-12-13 18:13:59.748 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:13:59.748 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:13:59.749 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:13:59.749 +02:00 [DBG] Secret id found: regixinfo
2019-12-13 18:13:59.767 +02:00 [DBG] client configuration validation for client regixinfo succeeded.
2019-12-13 18:13:59.780 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:13:59.781 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:13:59.781 +02:00 [ERR] Client secret validation failed for client: regixinfo.
2019-12-13 18:14:35.046 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:14:35.047 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:14:35.047 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:14:35.047 +02:00 [DBG] Start token request.
2019-12-13 18:14:35.047 +02:00 [DBG] Start client validation
2019-12-13 18:14:35.047 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:14:35.047 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:14:35.047 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:14:35.047 +02:00 [DBG] Secret id found: regixinfo
2019-12-13 18:14:35.047 +02:00 [DBG] client configuration validation for client regixinfo succeeded.
2019-12-13 18:14:35.048 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:14:35.048 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:14:35.048 +02:00 [ERR] Client secret validation failed for client: regixinfo.
2019-12-13 18:14:47.813 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:14:47.813 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:14:47.813 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:14:47.813 +02:00 [DBG] Start token request.
2019-12-13 18:14:47.813 +02:00 [DBG] Start client validation
2019-12-13 18:14:47.813 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:14:47.813 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:14:47.814 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:14:47.814 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:14:47.814 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:14:47.814 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:14:47.814 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:14:47.814 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:16:32.533 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:16:32.534 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:16:32.534 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:16:32.534 +02:00 [DBG] Start token request.
2019-12-13 18:16:32.534 +02:00 [DBG] Start client validation
2019-12-13 18:16:32.534 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:16:32.534 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:16:32.535 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:16:32.535 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:16:32.535 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:16:32.535 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:16:32.535 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:16:32.535 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:18:21.757 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:18:21.757 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:18:21.758 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:18:21.758 +02:00 [DBG] Start token request.
2019-12-13 18:18:21.758 +02:00 [DBG] Start client validation
2019-12-13 18:18:21.758 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:18:21.758 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:18:21.758 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:18:21.758 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:18:21.759 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:18:21.759 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:18:21.759 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:18:21.759 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:18:23.156 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:18:23.156 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:18:23.156 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:18:23.156 +02:00 [DBG] Start token request.
2019-12-13 18:18:23.156 +02:00 [DBG] Start client validation
2019-12-13 18:18:23.156 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:18:23.156 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:18:23.157 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:18:23.157 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:18:23.157 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:18:23.157 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:18:23.157 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:18:23.157 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:19:35.366 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:19:35.371 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:19:35.375 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:19:35.375 +02:00 [DBG] Start token request.
2019-12-13 18:19:35.375 +02:00 [DBG] Start client validation
2019-12-13 18:19:35.375 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:19:35.375 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:19:35.376 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:19:35.376 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:19:35.376 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:19:35.376 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:19:35.376 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:19:35.376 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:20:03.880 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:20:03.880 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:20:03.880 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:20:03.881 +02:00 [DBG] Start token request.
2019-12-13 18:20:03.881 +02:00 [DBG] Start client validation
2019-12-13 18:20:03.881 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:20:03.881 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:20:03.881 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:20:03.881 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:20:03.881 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:20:03.881 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:20:03.881 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:20:03.881 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:20:04.250 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:20:04.250 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:20:04.250 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:20:04.250 +02:00 [DBG] Start token request.
2019-12-13 18:20:04.250 +02:00 [DBG] Start client validation
2019-12-13 18:20:04.250 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:20:04.250 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:20:04.251 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:20:04.251 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:20:04.251 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:20:04.251 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:20:04.251 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:20:04.251 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:20:04.407 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:20:04.408 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:20:04.408 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:20:04.408 +02:00 [DBG] Start token request.
2019-12-13 18:20:04.408 +02:00 [DBG] Start client validation
2019-12-13 18:20:04.408 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:20:04.408 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:20:04.408 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:20:04.408 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:20:04.409 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:20:04.409 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:20:04.409 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:20:04.409 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:20:04.718 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:20:04.718 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:20:04.718 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:20:04.718 +02:00 [DBG] Start token request.
2019-12-13 18:20:04.718 +02:00 [DBG] Start client validation
2019-12-13 18:20:04.718 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:20:04.718 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:20:04.719 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:20:04.719 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:20:04.719 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:20:04.719 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:20:04.719 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:20:04.719 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:20:04.894 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:20:04.894 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:20:04.894 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:20:04.895 +02:00 [DBG] Start token request.
2019-12-13 18:20:04.895 +02:00 [DBG] Start client validation
2019-12-13 18:20:04.895 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:20:04.895 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:20:04.896 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:20:04.896 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:20:04.897 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:20:04.897 +02:00 [DBG] No matching hashed secret found.
2019-12-13 18:20:04.897 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 18:20:04.897 +02:00 [ERR] Client secret validation failed for client: regixclientapi.
2019-12-13 18:22:24.122 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:22:24.123 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:22:24.123 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:22:24.123 +02:00 [DBG] Start token request.
2019-12-13 18:22:24.123 +02:00 [DBG] Start client validation
2019-12-13 18:22:24.123 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:22:24.123 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:22:24.124 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:22:24.124 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:22:24.124 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:22:24.124 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:22:24.124 +02:00 [DBG] Client validation success
2019-12-13 18:22:24.135 +02:00 [DBG] Start token request validation
2019-12-13 18:22:24.148 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:22:24.183 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:22:24.197 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:22:24.260 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:22:24.386 +02:00 [DBG] Token request success.
2019-12-13 18:22:59.319 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-12-13 18:22:59.325 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-12-13 18:22:59.325 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-12-13 18:22:59.325 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 18:22:59.326 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 18:22:59.326 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 18:22:59.326 +02:00 [DBG] Start discovery request
2019-12-13 18:23:19.944 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:19.944 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:19.944 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:19.945 +02:00 [DBG] Start token request.
2019-12-13 18:23:19.945 +02:00 [DBG] Start client validation
2019-12-13 18:23:19.945 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:19.945 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:19.945 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:19.946 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:19.946 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:19.946 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:19.946 +02:00 [DBG] Client validation success
2019-12-13 18:23:19.946 +02:00 [DBG] Start token request validation
2019-12-13 18:23:19.946 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:19.947 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:19.948 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:19.948 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:19.952 +02:00 [DBG] Token request success.
2019-12-13 18:23:20.498 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:20.498 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:20.498 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:20.498 +02:00 [DBG] Start token request.
2019-12-13 18:23:20.498 +02:00 [DBG] Start client validation
2019-12-13 18:23:20.498 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:20.498 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:20.498 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:20.499 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:20.499 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:20.499 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:20.499 +02:00 [DBG] Client validation success
2019-12-13 18:23:20.499 +02:00 [DBG] Start token request validation
2019-12-13 18:23:20.499 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:20.499 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:20.499 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:20.499 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:20.503 +02:00 [DBG] Token request success.
2019-12-13 18:23:20.989 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:20.990 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:20.990 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:20.990 +02:00 [DBG] Start token request.
2019-12-13 18:23:20.990 +02:00 [DBG] Start client validation
2019-12-13 18:23:20.990 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:20.990 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:20.991 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:20.991 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:20.991 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:20.991 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:20.991 +02:00 [DBG] Client validation success
2019-12-13 18:23:20.991 +02:00 [DBG] Start token request validation
2019-12-13 18:23:20.991 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:20.991 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:20.992 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:20.992 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:20.996 +02:00 [DBG] Token request success.
2019-12-13 18:23:21.436 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:21.436 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:21.436 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:21.437 +02:00 [DBG] Start token request.
2019-12-13 18:23:21.437 +02:00 [DBG] Start client validation
2019-12-13 18:23:21.437 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:21.437 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:21.437 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:21.437 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:21.437 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:21.437 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:21.437 +02:00 [DBG] Client validation success
2019-12-13 18:23:21.438 +02:00 [DBG] Start token request validation
2019-12-13 18:23:21.438 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:21.438 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:21.438 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:21.438 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:21.442 +02:00 [DBG] Token request success.
2019-12-13 18:23:21.721 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:21.722 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:21.722 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:21.722 +02:00 [DBG] Start token request.
2019-12-13 18:23:21.722 +02:00 [DBG] Start client validation
2019-12-13 18:23:21.722 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:21.722 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:21.722 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:21.722 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:21.722 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:21.722 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:21.722 +02:00 [DBG] Client validation success
2019-12-13 18:23:21.722 +02:00 [DBG] Start token request validation
2019-12-13 18:23:21.722 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:21.723 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:21.723 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:21.723 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:21.727 +02:00 [DBG] Token request success.
2019-12-13 18:23:21.927 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:21.928 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:21.928 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:21.928 +02:00 [DBG] Start token request.
2019-12-13 18:23:21.928 +02:00 [DBG] Start client validation
2019-12-13 18:23:21.928 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:21.928 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:21.928 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:21.929 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:21.929 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:21.929 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:21.929 +02:00 [DBG] Client validation success
2019-12-13 18:23:21.929 +02:00 [DBG] Start token request validation
2019-12-13 18:23:21.929 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:21.929 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:21.929 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:21.929 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:21.932 +02:00 [DBG] Token request success.
2019-12-13 18:23:22.117 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:22.121 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:22.121 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:22.121 +02:00 [DBG] Start token request.
2019-12-13 18:23:22.121 +02:00 [DBG] Start client validation
2019-12-13 18:23:22.121 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:22.121 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:22.121 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:22.121 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:22.122 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:22.122 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:22.122 +02:00 [DBG] Client validation success
2019-12-13 18:23:22.122 +02:00 [DBG] Start token request validation
2019-12-13 18:23:22.122 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:22.122 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:22.122 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:22.122 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:22.125 +02:00 [DBG] Token request success.
2019-12-13 18:23:22.309 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:22.309 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:22.310 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:22.310 +02:00 [DBG] Start token request.
2019-12-13 18:23:22.310 +02:00 [DBG] Start client validation
2019-12-13 18:23:22.310 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:22.310 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:22.310 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:22.310 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:22.311 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:22.311 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:22.311 +02:00 [DBG] Client validation success
2019-12-13 18:23:22.311 +02:00 [DBG] Start token request validation
2019-12-13 18:23:22.311 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:22.311 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:22.311 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:22.311 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:22.314 +02:00 [DBG] Token request success.
2019-12-13 18:23:22.502 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:22.503 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:22.503 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:22.503 +02:00 [DBG] Start token request.
2019-12-13 18:23:22.503 +02:00 [DBG] Start client validation
2019-12-13 18:23:22.503 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:22.503 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:22.503 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:22.503 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:22.503 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:22.503 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:22.503 +02:00 [DBG] Client validation success
2019-12-13 18:23:22.503 +02:00 [DBG] Start token request validation
2019-12-13 18:23:22.503 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:22.504 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:22.504 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:22.504 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:22.507 +02:00 [DBG] Token request success.
2019-12-13 18:23:22.691 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:22.691 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:22.691 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:22.691 +02:00 [DBG] Start token request.
2019-12-13 18:23:22.691 +02:00 [DBG] Start client validation
2019-12-13 18:23:22.692 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:22.692 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:22.692 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:22.693 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:22.693 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:22.693 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:22.693 +02:00 [DBG] Client validation success
2019-12-13 18:23:22.693 +02:00 [DBG] Start token request validation
2019-12-13 18:23:22.693 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:22.694 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:22.694 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:22.694 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:22.699 +02:00 [DBG] Token request success.
2019-12-13 18:23:22.882 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:22.883 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:22.883 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:22.883 +02:00 [DBG] Start token request.
2019-12-13 18:23:22.883 +02:00 [DBG] Start client validation
2019-12-13 18:23:22.883 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:22.883 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:22.884 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:22.884 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:22.884 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:22.884 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:22.884 +02:00 [DBG] Client validation success
2019-12-13 18:23:22.886 +02:00 [DBG] Start token request validation
2019-12-13 18:23:22.886 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:22.887 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:22.888 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:22.888 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:22.893 +02:00 [DBG] Token request success.
2019-12-13 18:23:23.058 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:23.058 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:23.059 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:23.059 +02:00 [DBG] Start token request.
2019-12-13 18:23:23.059 +02:00 [DBG] Start client validation
2019-12-13 18:23:23.059 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:23.059 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:23.059 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:23.059 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:23.059 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:23.059 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:23.060 +02:00 [DBG] Client validation success
2019-12-13 18:23:23.060 +02:00 [DBG] Start token request validation
2019-12-13 18:23:23.060 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:23.060 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:23.060 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:23.060 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:23.064 +02:00 [DBG] Token request success.
2019-12-13 18:23:23.295 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:23.295 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:23.295 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:23.296 +02:00 [DBG] Start token request.
2019-12-13 18:23:23.296 +02:00 [DBG] Start client validation
2019-12-13 18:23:23.296 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:23.296 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:23.297 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:23.297 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:23.297 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:23.297 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:23.297 +02:00 [DBG] Client validation success
2019-12-13 18:23:23.297 +02:00 [DBG] Start token request validation
2019-12-13 18:23:23.298 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:23.298 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:23.298 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:23.298 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:23.301 +02:00 [DBG] Token request success.
2019-12-13 18:23:23.478 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:23.478 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:23.478 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:23.478 +02:00 [DBG] Start token request.
2019-12-13 18:23:23.478 +02:00 [DBG] Start client validation
2019-12-13 18:23:23.478 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:23.478 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:23.479 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:23.479 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:23.479 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:23.479 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:23.479 +02:00 [DBG] Client validation success
2019-12-13 18:23:23.479 +02:00 [DBG] Start token request validation
2019-12-13 18:23:23.479 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:23.480 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:23.480 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:23.480 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:23.483 +02:00 [DBG] Token request success.
2019-12-13 18:23:23.664 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:23.664 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:23.664 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:23.664 +02:00 [DBG] Start token request.
2019-12-13 18:23:23.664 +02:00 [DBG] Start client validation
2019-12-13 18:23:23.664 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:23.664 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:23.665 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:23.665 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:23.665 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:23.665 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:23.665 +02:00 [DBG] Client validation success
2019-12-13 18:23:23.665 +02:00 [DBG] Start token request validation
2019-12-13 18:23:23.665 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:23.666 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:23.666 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:23.666 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:23.670 +02:00 [DBG] Token request success.
2019-12-13 18:23:23.829 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:23.829 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:23.829 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:23.829 +02:00 [DBG] Start token request.
2019-12-13 18:23:23.830 +02:00 [DBG] Start client validation
2019-12-13 18:23:23.830 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:23.830 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:23.830 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:23.830 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:23.830 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:23.830 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:23.831 +02:00 [DBG] Client validation success
2019-12-13 18:23:23.831 +02:00 [DBG] Start token request validation
2019-12-13 18:23:23.831 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:23.831 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:23.831 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:23.831 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:23.835 +02:00 [DBG] Token request success.
2019-12-13 18:23:24.011 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:23:24.012 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:23:24.012 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:23:24.012 +02:00 [DBG] Start token request.
2019-12-13 18:23:24.012 +02:00 [DBG] Start client validation
2019-12-13 18:23:24.012 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:23:24.012 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:23:24.012 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:23:24.013 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:23:24.013 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:23:24.013 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:23:24.013 +02:00 [DBG] Client validation success
2019-12-13 18:23:24.013 +02:00 [DBG] Start token request validation
2019-12-13 18:23:24.013 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:23:24.013 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:23:24.013 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:23:24.014 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:23:24.017 +02:00 [DBG] Token request success.
2019-12-13 18:23:49.589 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 18:24:34.434 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 18:24:34.434 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 18:24:34.434 +02:00 [DBG] Start token request.
2019-12-13 18:24:34.434 +02:00 [DBG] Start client validation
2019-12-13 18:24:34.434 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 18:24:34.434 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 18:24:34.435 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 18:24:34.435 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 18:24:34.435 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 18:24:34.435 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 18:24:34.435 +02:00 [DBG] Client validation success
2019-12-13 18:24:34.435 +02:00 [DBG] Start token request validation
2019-12-13 18:24:34.435 +02:00 [DBG] Start client credentials token request validation
2019-12-13 18:24:34.435 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 18:24:34.435 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 18:24:34.435 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 18:24:34.439 +02:00 [DBG] Token request success.
2019-12-13 18:27:36.445 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 18:27:36.532 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 18:27:36.550 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 18:27:36.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 18:27:36.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 18:27:36.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 18:27:36.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 18:27:36.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 18:27:37.194 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 18:27:37.201 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 18:27:37.201 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 18:27:37.201 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 18:27:37.201 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 18:27:37.201 +02:00 [DBG] Error Url: /home/error
2019-12-13 18:27:37.201 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 18:27:58.541 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 19:13:03.608 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 19:13:03.669 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 19:13:03.684 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 19:13:03.684 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 19:13:03.684 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 19:13:03.684 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 19:13:03.684 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 19:13:03.684 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 19:13:04.221 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 19:13:04.224 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 19:13:04.224 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 19:13:04.224 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 19:13:04.224 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 19:13:04.224 +02:00 [DBG] Error Url: /home/error
2019-12-13 19:13:04.224 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 19:13:08.799 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 19:13:15.471 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 19:13:15.472 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 19:13:15.481 +02:00 [DBG] Start token request.
2019-12-13 19:13:15.487 +02:00 [DBG] Start client validation
2019-12-13 19:13:15.492 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 19:13:15.497 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 19:13:15.515 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 19:13:15.515 +02:00 [DBG] Secret id found: regixclientapi
2019-12-13 19:13:15.529 +02:00 [DBG] client configuration validation for client regixclientapi succeeded.
2019-12-13 19:13:15.538 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 19:13:15.538 +02:00 [DBG] Client validation success
2019-12-13 19:13:15.548 +02:00 [DBG] Start token request validation
2019-12-13 19:13:15.555 +02:00 [DBG] Start client credentials token request validation
2019-12-13 19:13:15.586 +02:00 [DBG] regixclientapi credentials token request validation success
2019-12-13 19:13:15.599 +02:00 [INF] Token request validation success, {"ClientId":"regixclientapi","ClientName":"RegiX Client API","GrantType":"client_credentials","Scopes":"profile regixinfoapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixclientapi","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 19:13:15.645 +02:00 [DBG] Getting claims for access token for client: regixclientapi
2019-12-13 19:13:15.737 +02:00 [DBG] Token request success.
2019-12-13 20:19:33.703 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 20:19:33.752 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 20:19:33.761 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 20:19:33.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 20:19:33.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 20:19:33.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 20:19:33.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 20:19:33.761 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 20:19:34.059 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 20:19:34.062 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 20:19:34.062 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 20:19:34.062 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 20:19:34.062 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 20:19:34.062 +02:00 [DBG] Error Url: /home/error
2019-12-13 20:19:34.062 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 20:20:29.478 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:20:29.610 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:20:29.610 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:20:29.618 +02:00 [DBG] Start token request.
2019-12-13 20:20:29.625 +02:00 [DBG] Start client validation
2019-12-13 20:20:29.633 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:20:29.638 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:20:29.655 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:20:29.655 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:20:29.670 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:20:29.679 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:20:29.679 +02:00 [DBG] Client validation success
2019-12-13 20:20:29.689 +02:00 [DBG] Start token request validation
2019-12-13 20:20:29.696 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:20:29.729 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:20:29.742 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:20:29.775 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:20:29.840 +02:00 [DBG] Token request success.
2019-12-13 20:20:38.691 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:20:38.692 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:20:38.692 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:20:38.692 +02:00 [DBG] Start token request.
2019-12-13 20:20:38.692 +02:00 [DBG] Start client validation
2019-12-13 20:20:38.692 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:20:38.692 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:20:38.692 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:20:38.692 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:20:38.692 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:20:38.693 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:20:38.693 +02:00 [DBG] Client validation success
2019-12-13 20:20:38.693 +02:00 [DBG] Start token request validation
2019-12-13 20:20:38.693 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:20:38.693 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:20:38.693 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:20:38.693 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:20:38.697 +02:00 [DBG] Token request success.
2019-12-13 20:20:41.971 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:20:41.972 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:20:41.973 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:20:41.974 +02:00 [WRN] Invalid HTTP request for token endpoint
2019-12-13 20:20:49.401 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:20:49.401 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:20:49.401 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:20:49.401 +02:00 [DBG] Start token request.
2019-12-13 20:20:49.401 +02:00 [DBG] Start client validation
2019-12-13 20:20:49.401 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:20:49.401 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:20:49.401 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:20:49.401 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:20:49.401 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:20:49.401 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:20:49.402 +02:00 [DBG] Client validation success
2019-12-13 20:20:49.402 +02:00 [DBG] Start token request validation
2019-12-13 20:20:49.402 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:20:49.402 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:20:49.402 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:20:49.402 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:20:49.406 +02:00 [DBG] Token request success.
2019-12-13 20:20:55.131 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:20:55.132 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:20:55.132 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:20:55.132 +02:00 [DBG] Start token request.
2019-12-13 20:20:55.132 +02:00 [DBG] Start client validation
2019-12-13 20:20:55.132 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:20:55.132 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:20:55.132 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:20:55.133 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:20:55.133 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:20:55.133 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:20:55.133 +02:00 [DBG] Client validation success
2019-12-13 20:20:55.133 +02:00 [DBG] Start token request validation
2019-12-13 20:20:55.133 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:20:55.133 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:20:55.133 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:20:55.133 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:20:55.138 +02:00 [DBG] Token request success.
2019-12-13 20:24:02.592 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 20:24:02.654 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 20:24:02.663 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 20:24:02.663 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 20:24:02.663 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 20:24:02.663 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 20:24:02.664 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 20:24:02.664 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 20:24:03.167 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 20:24:03.171 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 20:24:03.171 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 20:24:03.171 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 20:24:03.171 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 20:24:03.171 +02:00 [DBG] Error Url: /home/error
2019-12-13 20:24:03.171 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 20:24:09.143 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:24:13.921 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:24:13.922 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:24:13.930 +02:00 [DBG] Start token request.
2019-12-13 20:24:13.936 +02:00 [DBG] Start client validation
2019-12-13 20:24:13.942 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:24:13.946 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:24:13.963 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:24:13.963 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:24:13.981 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:24:13.991 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:24:13.991 +02:00 [DBG] Client validation success
2019-12-13 20:24:14.000 +02:00 [DBG] Start token request validation
2019-12-13 20:24:14.009 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:24:14.041 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:24:14.054 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:24:14.101 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:24:14.131 +02:00 [DBG] Token request success.
2019-12-13 20:27:04.511 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:27:09.826 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:27:09.826 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:27:09.826 +02:00 [DBG] Start token request.
2019-12-13 20:27:09.826 +02:00 [DBG] Start client validation
2019-12-13 20:27:09.826 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:27:09.826 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:27:09.827 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:27:09.827 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:27:09.827 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:27:09.827 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:27:09.827 +02:00 [DBG] Client validation success
2019-12-13 20:27:09.827 +02:00 [DBG] Start token request validation
2019-12-13 20:27:09.827 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:27:09.828 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:27:09.828 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:27:09.828 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:27:09.828 +02:00 [DBG] Token request success.
2019-12-13 20:27:32.380 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:27:36.009 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:27:36.010 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:27:36.010 +02:00 [DBG] Start token request.
2019-12-13 20:27:36.010 +02:00 [DBG] Start client validation
2019-12-13 20:27:36.010 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:27:36.010 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:27:36.010 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:27:36.010 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:27:36.011 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:27:36.011 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:27:36.011 +02:00 [DBG] Client validation success
2019-12-13 20:27:36.011 +02:00 [DBG] Start token request validation
2019-12-13 20:27:36.011 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:27:36.011 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:27:36.011 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:27:36.011 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:27:36.012 +02:00 [DBG] Token request success.
2019-12-13 20:28:15.320 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:28:18.402 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:28:18.402 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:28:18.402 +02:00 [DBG] Start token request.
2019-12-13 20:28:18.402 +02:00 [DBG] Start client validation
2019-12-13 20:28:18.402 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:28:18.402 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:28:18.402 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:28:18.402 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:28:18.402 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:28:18.403 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:28:18.403 +02:00 [DBG] Client validation success
2019-12-13 20:28:18.403 +02:00 [DBG] Start token request validation
2019-12-13 20:28:18.403 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:28:18.403 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:28:18.403 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:28:18.403 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:28:18.403 +02:00 [DBG] Token request success.
2019-12-13 20:28:43.493 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:28:43.493 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:28:43.493 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:28:43.494 +02:00 [DBG] Start token request.
2019-12-13 20:28:43.494 +02:00 [DBG] Start client validation
2019-12-13 20:28:43.494 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:28:43.494 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:28:43.494 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:28:43.494 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:28:43.494 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:28:43.494 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:28:43.494 +02:00 [DBG] Client validation success
2019-12-13 20:28:43.494 +02:00 [DBG] Start token request validation
2019-12-13 20:28:43.494 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:28:43.495 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:28:43.495 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:28:43.495 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:28:43.495 +02:00 [DBG] Token request success.
2019-12-13 20:28:45.522 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:28:45.522 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:28:45.523 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:28:45.523 +02:00 [DBG] Start token request.
2019-12-13 20:28:45.523 +02:00 [DBG] Start client validation
2019-12-13 20:28:45.523 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:28:45.523 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:28:45.524 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:28:45.524 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:28:45.524 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:28:45.524 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:28:45.524 +02:00 [DBG] Client validation success
2019-12-13 20:28:45.524 +02:00 [DBG] Start token request validation
2019-12-13 20:28:45.525 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:28:45.525 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:28:45.525 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:28:45.525 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:28:45.526 +02:00 [DBG] Token request success.
2019-12-13 20:28:46.514 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:28:46.515 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:28:46.515 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:28:46.515 +02:00 [DBG] Start token request.
2019-12-13 20:28:46.515 +02:00 [DBG] Start client validation
2019-12-13 20:28:46.515 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:28:46.515 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:28:46.515 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:28:46.515 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:28:46.516 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:28:46.516 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:28:46.516 +02:00 [DBG] Client validation success
2019-12-13 20:28:46.516 +02:00 [DBG] Start token request validation
2019-12-13 20:28:46.516 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:28:46.516 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:28:46.516 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:28:46.516 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:28:46.517 +02:00 [DBG] Token request success.
2019-12-13 20:28:48.956 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:28:48.957 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:28:48.958 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:28:48.964 +02:00 [DBG] Start discovery request
2019-12-13 20:28:49.052 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:28:49.052 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:28:49.052 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:28:49.056 +02:00 [DBG] Start key discovery request
2019-12-13 20:29:42.413 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:29:42.413 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:29:42.413 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:29:42.413 +02:00 [DBG] Start token request.
2019-12-13 20:29:42.413 +02:00 [DBG] Start client validation
2019-12-13 20:29:42.413 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:29:42.413 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:29:42.414 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:29:42.414 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:29:42.414 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:29:42.414 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:29:42.414 +02:00 [DBG] Client validation success
2019-12-13 20:29:42.414 +02:00 [DBG] Start token request validation
2019-12-13 20:29:42.415 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:29:42.415 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:29:42.415 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:29:42.415 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:29:42.415 +02:00 [DBG] Token request success.
2019-12-13 20:30:57.801 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:30:57.801 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:30:57.801 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:30:57.801 +02:00 [DBG] Start token request.
2019-12-13 20:30:57.801 +02:00 [DBG] Start client validation
2019-12-13 20:30:57.801 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:30:57.801 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:30:57.802 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:30:57.802 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:30:57.802 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:30:57.802 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:30:57.802 +02:00 [DBG] Client validation success
2019-12-13 20:30:57.802 +02:00 [DBG] Start token request validation
2019-12-13 20:30:57.802 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:30:57.803 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:30:57.803 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:30:57.804 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:30:57.804 +02:00 [DBG] Token request success.
2019-12-13 20:31:28.948 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:31:28.948 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:31:28.948 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:31:28.948 +02:00 [DBG] Start token request.
2019-12-13 20:31:28.948 +02:00 [DBG] Start client validation
2019-12-13 20:31:28.948 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:31:28.948 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:31:28.949 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:31:28.949 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:31:28.949 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:31:28.949 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:31:28.949 +02:00 [DBG] Client validation success
2019-12-13 20:31:28.949 +02:00 [DBG] Start token request validation
2019-12-13 20:31:28.949 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:31:28.950 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:31:28.950 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:31:28.950 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:31:28.950 +02:00 [DBG] Token request success.
2019-12-13 20:31:48.791 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:31:48.791 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:31:48.791 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:31:48.791 +02:00 [DBG] Start token request.
2019-12-13 20:31:48.791 +02:00 [DBG] Start client validation
2019-12-13 20:31:48.792 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:31:48.792 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:31:48.792 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:31:48.792 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:31:48.792 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:31:48.792 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:31:48.792 +02:00 [DBG] Client validation success
2019-12-13 20:31:48.793 +02:00 [DBG] Start token request validation
2019-12-13 20:31:48.793 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:31:48.793 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:31:48.793 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:31:48.793 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:31:48.794 +02:00 [DBG] Token request success.
2019-12-13 20:32:13.432 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:32:13.433 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:32:13.433 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:32:13.433 +02:00 [DBG] Start token request.
2019-12-13 20:32:13.433 +02:00 [DBG] Start client validation
2019-12-13 20:32:13.433 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:32:13.433 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:32:13.433 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:32:13.433 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:32:13.433 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:13.433 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:32:13.434 +02:00 [DBG] Client validation success
2019-12-13 20:32:13.434 +02:00 [DBG] Start token request validation
2019-12-13 20:32:13.434 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:32:13.434 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:32:13.434 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:32:13.434 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:32:13.435 +02:00 [DBG] Token request success.
2019-12-13 20:32:25.773 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:32:25.774 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:32:25.774 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:32:25.774 +02:00 [DBG] Start discovery request
2019-12-13 20:32:25.784 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:32:25.784 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:32:25.784 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:32:25.784 +02:00 [DBG] Start key discovery request
2019-12-13 20:32:25.828 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:32:25.829 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:32:25.829 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:32:25.837 +02:00 [DBG] Starting introspection request.
2019-12-13 20:32:25.843 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:32:25.843 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:32:25.844 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:32:25.844 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:32:25.845 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:32:25.845 +02:00 [DBG] API resource validation success
2019-12-13 20:32:25.850 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:32:25.871 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:25.875 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:25.876 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:32:25.880 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"24d842c0bbbe89b0501fa1c8495cd8b247a32ba8c0fc2c84a0bc0872e91b6f16","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576261933,"exp":1576265533,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:32:25.882 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:32:25.891 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:32:25.892 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:32:29.186 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:32:29.186 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:32:29.186 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:32:29.186 +02:00 [DBG] Start token request.
2019-12-13 20:32:29.186 +02:00 [DBG] Start client validation
2019-12-13 20:32:29.187 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:32:29.187 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:32:29.187 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:32:29.187 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:32:29.187 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:29.187 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:32:29.187 +02:00 [DBG] Client validation success
2019-12-13 20:32:29.187 +02:00 [DBG] Start token request validation
2019-12-13 20:32:29.187 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:32:29.188 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:32:29.188 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:32:29.188 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:32:29.188 +02:00 [DBG] Token request success.
2019-12-13 20:32:30.714 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:32:30.715 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:32:30.715 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:32:30.715 +02:00 [DBG] Starting introspection request.
2019-12-13 20:32:30.715 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:32:30.715 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:32:30.716 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:32:30.716 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:32:30.716 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:32:30.716 +02:00 [DBG] API resource validation success
2019-12-13 20:32:30.716 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:32:30.717 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:30.717 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:32:30.717 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:32:30.717 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d2e6bb078431bc7b41d36b7aca55bc95abb3297efca018c47fd795d4eba4ac05","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576261949,"exp":1576265549,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:32:30.717 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:32:30.717 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:32:30.717 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:39:47.379 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:39:47.380 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:39:47.380 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:39:47.380 +02:00 [DBG] Start token request.
2019-12-13 20:39:47.380 +02:00 [DBG] Start client validation
2019-12-13 20:39:47.380 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:39:47.380 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:39:47.380 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:39:47.381 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:39:47.381 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:39:47.381 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:39:47.381 +02:00 [DBG] Client validation success
2019-12-13 20:39:47.381 +02:00 [DBG] Start token request validation
2019-12-13 20:39:47.381 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:39:47.381 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:39:47.382 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:39:47.382 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:39:47.382 +02:00 [DBG] Token request success.
2019-12-13 20:39:49.991 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:39:49.991 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:39:49.991 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:39:49.991 +02:00 [DBG] Start discovery request
2019-12-13 20:39:50.034 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:39:50.035 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:39:50.035 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:39:50.035 +02:00 [DBG] Start key discovery request
2019-12-13 20:39:50.085 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:39:50.085 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:39:50.086 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:39:50.086 +02:00 [DBG] Starting introspection request.
2019-12-13 20:39:50.086 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:39:50.086 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:39:50.086 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:39:50.086 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 20:39:50.087 +02:00 [DBG] No shared secret configured for client.
2019-12-13 20:39:50.087 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 20:39:50.087 +02:00 [ERR] API validation failed.
2019-12-13 20:39:50.087 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-13 20:40:53.173 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:40:53.174 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:40:53.174 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:40:53.174 +02:00 [DBG] Start token request.
2019-12-13 20:40:53.174 +02:00 [DBG] Start client validation
2019-12-13 20:40:53.174 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:40:53.174 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:40:53.175 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:40:53.175 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:40:53.175 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:40:53.175 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:40:53.175 +02:00 [DBG] Client validation success
2019-12-13 20:40:53.175 +02:00 [DBG] Start token request validation
2019-12-13 20:40:53.175 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:40:53.176 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:40:53.176 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:40:53.176 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:40:53.176 +02:00 [DBG] Token request success.
2019-12-13 20:40:54.772 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:40:54.772 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:40:54.772 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:40:54.772 +02:00 [DBG] Start token request.
2019-12-13 20:40:54.772 +02:00 [DBG] Start client validation
2019-12-13 20:40:54.772 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:40:54.772 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:40:54.773 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:40:54.773 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:40:54.773 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:40:54.773 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:40:54.773 +02:00 [DBG] Client validation success
2019-12-13 20:40:54.773 +02:00 [DBG] Start token request validation
2019-12-13 20:40:54.773 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:40:54.773 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:40:54.773 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:40:54.773 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:40:54.774 +02:00 [DBG] Token request success.
2019-12-13 20:40:56.806 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:40:56.806 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:40:56.806 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:40:56.806 +02:00 [DBG] Start discovery request
2019-12-13 20:40:56.856 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:40:56.856 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:40:56.856 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:40:56.856 +02:00 [DBG] Start key discovery request
2019-12-13 20:40:56.892 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:40:56.893 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:40:56.893 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:40:56.893 +02:00 [DBG] Starting introspection request.
2019-12-13 20:40:56.893 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:40:56.893 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:40:56.893 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:40:56.893 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:40:56.893 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:40:56.894 +02:00 [DBG] API resource validation success
2019-12-13 20:40:56.894 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:40:56.894 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:40:56.894 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:40:56.894 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:40:56.894 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:40:56.894 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:40:56.894 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:40:56.894 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:43:28.666 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:43:28.667 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:43:28.667 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:43:28.667 +02:00 [DBG] Starting introspection request.
2019-12-13 20:43:28.667 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:43:28.667 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:43:28.668 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:43:28.668 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:43:28.669 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:43:28.669 +02:00 [DBG] API resource validation success
2019-12-13 20:43:28.669 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:43:28.669 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:28.669 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:28.669 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:43:28.669 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:43:28.669 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:43:28.670 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:43:28.670 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:43:38.166 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:43:38.167 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:43:38.167 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:43:38.167 +02:00 [DBG] Starting introspection request.
2019-12-13 20:43:38.167 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:43:38.167 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:43:38.167 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:43:38.167 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:43:38.167 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:43:38.167 +02:00 [DBG] API resource validation success
2019-12-13 20:43:38.168 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:43:38.168 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:38.168 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:38.168 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:43:38.168 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:43:38.168 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:43:38.168 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:43:38.168 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:43:39.326 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:43:39.327 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:43:39.327 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:43:39.327 +02:00 [DBG] Starting introspection request.
2019-12-13 20:43:39.327 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:43:39.327 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:43:39.327 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:43:39.327 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:43:39.327 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:43:39.327 +02:00 [DBG] API resource validation success
2019-12-13 20:43:39.328 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:43:39.328 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.328 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.328 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:43:39.328 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:43:39.328 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:43:39.328 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:43:39.329 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:43:39.585 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:43:39.587 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:43:39.587 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:43:39.587 +02:00 [DBG] Starting introspection request.
2019-12-13 20:43:39.587 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:43:39.587 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:43:39.588 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:43:39.588 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:43:39.588 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:43:39.588 +02:00 [DBG] API resource validation success
2019-12-13 20:43:39.588 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:43:39.589 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.589 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.589 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:43:39.589 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:43:39.589 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:43:39.589 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:43:39.589 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:43:39.944 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:43:39.944 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:43:39.944 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:43:39.944 +02:00 [DBG] Starting introspection request.
2019-12-13 20:43:39.944 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:43:39.944 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:43:39.945 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:43:39.945 +02:00 [DBG] Secret id found: regixcoremetadataapi
2019-12-13 20:43:39.945 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:43:39.945 +02:00 [DBG] API resource validation success
2019-12-13 20:43:39.945 +02:00 [DBG] Introspection request validation started.
2019-12-13 20:43:39.945 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.945 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:43:39.945 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 20:43:39.946 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3f47d91a0ae9135a462e4bd236b8b80a5deab4b9b9dc1c3abb3e18a2248f9b8","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576262454,"exp":1576266054,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 20:43:39.946 +02:00 [DBG] Introspection request validation successful.
2019-12-13 20:43:39.946 +02:00 [ERR] Expected scope ["regixcoremetadataapi"] is missing in token
2019-12-13 20:43:39.946 +02:00 [INF] Success token introspection. Token active: true, for API name: regixcoremetadataapi
2019-12-13 20:46:01.473 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 20:46:01.538 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 20:46:01.550 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 20:46:01.550 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 20:46:01.551 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 20:46:01.551 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 20:46:01.551 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 20:46:01.551 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 20:46:02.125 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 20:46:02.127 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 20:46:02.127 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 20:46:02.127 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 20:46:02.127 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 20:46:02.127 +02:00 [DBG] Error Url: /home/error
2019-12-13 20:46:02.127 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 20:46:11.708 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:46:11.925 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:46:11.926 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:46:11.934 +02:00 [DBG] Start token request.
2019-12-13 20:46:11.943 +02:00 [DBG] Start client validation
2019-12-13 20:46:11.951 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:46:11.956 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:46:11.972 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:46:11.972 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:46:11.987 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:46:11.997 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:46:11.997 +02:00 [DBG] Client validation success
2019-12-13 20:46:12.007 +02:00 [DBG] Start token request validation
2019-12-13 20:46:12.014 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:46:12.045 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:46:12.058 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:46:12.103 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:46:12.136 +02:00 [DBG] Token request success.
2019-12-13 20:46:15.370 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:46:15.371 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:46:15.371 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:46:15.375 +02:00 [DBG] Start discovery request
2019-12-13 20:46:15.440 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:46:15.441 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:46:15.441 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:46:15.445 +02:00 [DBG] Start key discovery request
2019-12-13 20:46:15.511 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:46:15.514 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:46:15.514 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:46:15.523 +02:00 [DBG] Starting introspection request.
2019-12-13 20:46:15.532 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:46:15.532 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:46:15.533 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:46:15.533 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 20:46:15.534 +02:00 [DBG] No shared secret configured for client.
2019-12-13 20:46:15.535 +02:00 [DBG] Secret validators could not validate secret
2019-12-13 20:46:15.535 +02:00 [ERR] API validation failed.
2019-12-13 20:46:15.535 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-13 20:56:09.366 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 20:56:09.422 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 20:56:09.432 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 20:56:09.432 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 20:56:09.432 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 20:56:09.432 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 20:56:09.432 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 20:56:09.432 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 20:56:09.844 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 20:56:09.848 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 20:56:09.848 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 20:56:09.848 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 20:56:09.848 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 20:56:09.848 +02:00 [DBG] Error Url: /home/error
2019-12-13 20:56:09.848 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 20:56:19.439 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:56:19.674 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:56:19.674 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:56:19.684 +02:00 [DBG] Start token request.
2019-12-13 20:56:19.691 +02:00 [DBG] Start client validation
2019-12-13 20:56:19.698 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:56:19.702 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:56:19.721 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:56:19.722 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:56:19.741 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:56:19.751 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:56:19.751 +02:00 [DBG] Client validation success
2019-12-13 20:56:19.765 +02:00 [DBG] Start token request validation
2019-12-13 20:56:19.778 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:56:19.829 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:56:19.853 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:56:19.913 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:56:19.952 +02:00 [DBG] Token request success.
2019-12-13 20:56:24.024 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 20:56:24.025 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 20:56:24.025 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 20:56:24.029 +02:00 [DBG] Start discovery request
2019-12-13 20:56:24.099 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 20:56:24.099 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 20:56:24.099 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 20:56:24.104 +02:00 [DBG] Start key discovery request
2019-12-13 20:56:24.168 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:56:24.179 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:56:24.180 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:56:24.192 +02:00 [DBG] Starting introspection request.
2019-12-13 20:56:24.198 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:56:24.198 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:56:24.199 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:56:24.199 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-13 20:56:24.200 +02:00 [ERR] No API resource with that name found. aborting
2019-12-13 20:56:24.200 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-13 20:59:27.119 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 20:59:27.174 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 20:59:27.183 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 20:59:27.183 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 20:59:27.183 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 20:59:27.183 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 20:59:27.183 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 20:59:27.183 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 20:59:27.659 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 20:59:27.662 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 20:59:27.662 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 20:59:27.662 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 20:59:27.662 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 20:59:27.662 +02:00 [DBG] Error Url: /home/error
2019-12-13 20:59:27.662 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 20:59:37.319 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 20:59:37.531 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 20:59:37.531 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 20:59:37.540 +02:00 [DBG] Start token request.
2019-12-13 20:59:37.547 +02:00 [DBG] Start client validation
2019-12-13 20:59:37.552 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:59:37.556 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:59:37.574 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:59:37.574 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 20:59:37.591 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 20:59:37.602 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 20:59:37.602 +02:00 [DBG] Client validation success
2019-12-13 20:59:37.613 +02:00 [DBG] Start token request validation
2019-12-13 20:59:37.621 +02:00 [DBG] Start client credentials token request validation
2019-12-13 20:59:37.652 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 20:59:37.667 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 20:59:37.722 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 20:59:37.756 +02:00 [DBG] Token request success.
2019-12-13 20:59:39.296 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 20:59:39.298 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 20:59:39.298 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 20:59:39.309 +02:00 [DBG] Starting introspection request.
2019-12-13 20:59:39.315 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 20:59:39.315 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 20:59:39.316 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 20:59:39.316 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-13 20:59:39.317 +02:00 [ERR] No API resource with that name found. aborting
2019-12-13 20:59:39.317 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-13 21:00:25.346 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 21:00:25.347 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 21:00:25.347 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 21:00:25.347 +02:00 [DBG] Start token request.
2019-12-13 21:00:25.347 +02:00 [DBG] Start client validation
2019-12-13 21:00:25.347 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:00:25.347 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:00:25.348 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:00:25.348 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 21:00:25.348 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:00:25.348 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:00:25.348 +02:00 [DBG] Client validation success
2019-12-13 21:00:25.348 +02:00 [DBG] Start token request validation
2019-12-13 21:00:25.348 +02:00 [DBG] Start client credentials token request validation
2019-12-13 21:00:25.349 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 21:00:25.349 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 21:00:25.349 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 21:00:25.349 +02:00 [DBG] Token request success.
2019-12-13 21:00:27.221 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 21:00:27.222 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 21:00:27.222 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 21:00:27.227 +02:00 [DBG] Start discovery request
2019-12-13 21:00:27.293 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 21:00:27.294 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 21:00:27.294 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 21:00:27.298 +02:00 [DBG] Start key discovery request
2019-12-13 21:00:27.369 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:00:27.370 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:00:27.370 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:00:27.370 +02:00 [DBG] Starting introspection request.
2019-12-13 21:00:27.370 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:00:27.370 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:00:27.370 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:00:27.371 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:00:27.371 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:00:27.371 +02:00 [DBG] API resource validation success
2019-12-13 21:00:27.376 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:00:27.402 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:00:27.409 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:00:27.410 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:00:27.414 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:00:27.416 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:00:27.425 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:00:27.428 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:00:57.324 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:00:57.325 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:00:57.325 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:00:57.325 +02:00 [DBG] Starting introspection request.
2019-12-13 21:00:57.326 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:00:57.326 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:00:57.328 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:00:57.329 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:00:57.329 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:00:57.330 +02:00 [DBG] API resource validation success
2019-12-13 21:00:57.330 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:00:57.331 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:00:57.331 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:00:57.331 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:00:57.332 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:00:57.332 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:00:57.332 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:00:57.332 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:01:02.378 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:01:02.378 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:01:02.378 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:01:02.378 +02:00 [DBG] Starting introspection request.
2019-12-13 21:01:02.378 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:01:02.378 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:01:02.378 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:01:02.379 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:01:02.379 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:01:02.379 +02:00 [DBG] API resource validation success
2019-12-13 21:01:02.379 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:01:02.379 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:02.379 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:02.379 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:01:02.380 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:01:02.380 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:01:02.380 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:01:02.380 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:01:10.569 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:01:10.570 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:01:10.570 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:01:10.570 +02:00 [DBG] Starting introspection request.
2019-12-13 21:01:10.570 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:01:10.570 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:01:10.570 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:01:10.570 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:01:10.570 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:01:10.571 +02:00 [DBG] API resource validation success
2019-12-13 21:01:10.571 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:01:10.571 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:10.571 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:10.571 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:01:10.571 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:01:10.571 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:01:10.571 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:01:10.571 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:01:30.843 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:01:30.843 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:01:30.843 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:01:30.843 +02:00 [DBG] Starting introspection request.
2019-12-13 21:01:30.843 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:01:30.843 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:01:30.844 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:01:30.844 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:01:30.844 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:01:30.844 +02:00 [DBG] API resource validation success
2019-12-13 21:01:30.844 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:01:30.844 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:30.845 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:30.845 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:01:30.845 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:01:30.845 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:01:30.845 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:01:30.845 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:01:33.885 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:01:33.885 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:01:33.885 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:01:33.885 +02:00 [DBG] Starting introspection request.
2019-12-13 21:01:33.885 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:01:33.886 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:01:33.886 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:01:33.886 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:01:33.886 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:01:33.886 +02:00 [DBG] API resource validation success
2019-12-13 21:01:33.886 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:01:33.887 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:33.887 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:01:33.887 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:01:33.887 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"fba1400fb8fc2f311ba2da41c41a16e45c61f0c22d87e5b0cfd226b1a5c0b20c","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263625,"exp":1576267225,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:01:33.887 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:01:33.887 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:01:33.887 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:02:17.114 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 21:02:23.359 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 21:02:23.359 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 21:02:23.359 +02:00 [DBG] Start token request.
2019-12-13 21:02:23.359 +02:00 [DBG] Start client validation
2019-12-13 21:02:23.359 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:02:23.359 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:02:23.359 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:02:23.360 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 21:02:23.360 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:02:23.360 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:02:23.360 +02:00 [DBG] Client validation success
2019-12-13 21:02:23.360 +02:00 [DBG] Start token request validation
2019-12-13 21:02:23.360 +02:00 [DBG] Start client credentials token request validation
2019-12-13 21:02:23.360 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 21:02:23.361 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 21:02:23.361 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 21:02:23.361 +02:00 [DBG] Token request success.
2019-12-13 21:02:30.523 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:02:32.977 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:02:32.980 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:02:32.980 +02:00 [DBG] Starting introspection request.
2019-12-13 21:02:32.980 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:02:32.980 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:02:32.980 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:02:32.980 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:02:32.981 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:02:32.981 +02:00 [DBG] API resource validation success
2019-12-13 21:02:32.981 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:02:32.981 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:02:32.981 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:02:32.981 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:02:32.981 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"f6dc0d2a8e40ae8190b23efabfec08f352382b2a866d53eb29934c2257efd036","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576263743,"exp":1576267343,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:02:32.981 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:02:32.981 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:02:32.981 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:07:09.386 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 21:07:09.441 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 21:07:09.450 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 21:07:09.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 21:07:09.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 21:07:09.450 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 21:07:09.451 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 21:07:09.451 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 21:07:09.896 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 21:07:09.899 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 21:07:09.899 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 21:07:09.899 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 21:07:09.899 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 21:07:09.899 +02:00 [DBG] Error Url: /home/error
2019-12-13 21:07:09.899 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 21:07:35.068 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 21:07:40.126 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 21:07:40.126 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 21:07:40.135 +02:00 [DBG] Start token request.
2019-12-13 21:07:40.144 +02:00 [DBG] Start client validation
2019-12-13 21:07:40.150 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:07:40.154 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:07:40.173 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:07:40.174 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 21:07:40.189 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:07:40.198 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:07:40.198 +02:00 [DBG] Client validation success
2019-12-13 21:07:40.209 +02:00 [DBG] Start token request validation
2019-12-13 21:07:40.217 +02:00 [DBG] Start client credentials token request validation
2019-12-13 21:07:40.251 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 21:07:40.267 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 21:07:40.312 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 21:07:40.349 +02:00 [DBG] Token request success.
2019-12-13 21:07:43.882 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-13 21:07:43.884 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-13 21:07:43.884 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-13 21:07:43.888 +02:00 [DBG] Start discovery request
2019-12-13 21:07:43.964 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-13 21:07:43.965 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-13 21:07:43.965 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-13 21:07:43.970 +02:00 [DBG] Start key discovery request
2019-12-13 21:07:44.036 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:07:46.628 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:07:46.628 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:07:46.637 +02:00 [DBG] Starting introspection request.
2019-12-13 21:07:46.643 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:07:46.643 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:07:46.644 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:07:46.644 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:07:46.646 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:07:46.646 +02:00 [DBG] API resource validation success
2019-12-13 21:07:46.650 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:07:46.672 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:07:46.677 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:07:46.678 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:07:46.683 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"b162bbaa2188a88ecf794cef41effd85b68be1723a4a7c96909de566530ef71d","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576264060,"exp":1576267660,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","client_testtoken":"testbody","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:07:46.684 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:07:46.694 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:07:46.696 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:08:16.136 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:08:18.794 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:08:18.794 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:08:18.794 +02:00 [DBG] Starting introspection request.
2019-12-13 21:08:18.794 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:08:18.794 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:08:18.795 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:08:18.795 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:08:18.795 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:08:18.795 +02:00 [DBG] API resource validation success
2019-12-13 21:08:18.795 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:08:18.796 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:08:18.796 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:08:18.796 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:08:18.796 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"b162bbaa2188a88ecf794cef41effd85b68be1723a4a7c96909de566530ef71d","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576264060,"exp":1576267660,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","client_testtoken":"testbody","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:08:18.796 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:08:18.797 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:08:18.797 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-13 21:08:22.283 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:10:54.917 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-13 21:10:54.981 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-13 21:10:54.990 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-13 21:10:54.990 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-13 21:10:54.990 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-13 21:10:54.991 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-13 21:10:54.991 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-13 21:10:54.991 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-13 21:10:55.599 +02:00 [DBG] Login Url: /Account/Login
2019-12-13 21:10:55.601 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-13 21:10:55.601 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-13 21:10:55.601 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-13 21:10:55.601 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-13 21:10:55.601 +02:00 [DBG] Error Url: /home/error
2019-12-13 21:10:55.601 +02:00 [DBG] Error Id Parameter: errorId
2019-12-13 21:11:00.603 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-13 21:11:05.448 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-13 21:11:05.449 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-13 21:11:05.459 +02:00 [DBG] Start token request.
2019-12-13 21:11:05.465 +02:00 [DBG] Start client validation
2019-12-13 21:11:05.472 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:11:05.477 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:11:05.496 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:11:05.496 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-13 21:11:05.512 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:11:05.521 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:11:05.521 +02:00 [DBG] Client validation success
2019-12-13 21:11:05.531 +02:00 [DBG] Start token request validation
2019-12-13 21:11:05.539 +02:00 [DBG] Start client credentials token request validation
2019-12-13 21:11:05.570 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-13 21:11:05.585 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-13 21:11:05.630 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-13 21:11:05.670 +02:00 [DBG] Token request success.
2019-12-13 21:11:10.056 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-13 21:11:13.544 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-13 21:11:13.544 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-13 21:11:13.553 +02:00 [DBG] Starting introspection request.
2019-12-13 21:11:13.559 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-13 21:11:13.559 +02:00 [DBG] Start parsing for secret in post body
2019-12-13 21:11:13.560 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-13 21:11:13.560 +02:00 [DBG] Secret id found: regixadminapi
2019-12-13 21:11:13.562 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-13 21:11:13.562 +02:00 [DBG] API resource validation success
2019-12-13 21:11:13.566 +02:00 [DBG] Introspection request validation started.
2019-12-13 21:11:13.590 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:11:13.595 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-13 21:11:13.595 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-13 21:11:13.598 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"6207a6c387122e327b1d2328604c8dbd9b8d694bd0103f6779398cf6e72b66f0","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576264265,"exp":1576267865,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","client_role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-13 21:11:13.600 +02:00 [DBG] Introspection request validation successful.
2019-12-13 21:11:13.611 +02:00 [DBG] Creating introspection response for active token.
2019-12-13 21:11:13.614 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:19:34.114 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-14 00:19:34.163 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-14 00:19:34.174 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-14 00:19:34.174 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-14 00:19:34.174 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-14 00:19:34.174 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-14 00:19:34.174 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-14 00:19:34.174 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-14 00:19:34.611 +02:00 [DBG] Login Url: /Account/Login
2019-12-14 00:19:34.614 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-14 00:19:34.614 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-14 00:19:34.614 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-14 00:19:34.614 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-14 00:19:34.614 +02:00 [DBG] Error Url: /home/error
2019-12-14 00:19:34.614 +02:00 [DBG] Error Id Parameter: errorId
2019-12-14 00:19:46.102 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-14 00:19:46.293 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-14 00:19:46.294 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-14 00:19:46.302 +02:00 [DBG] Start token request.
2019-12-14 00:19:46.311 +02:00 [DBG] Start client validation
2019-12-14 00:19:46.319 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:19:46.324 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:19:46.344 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:19:46.344 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-14 00:19:46.360 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:19:46.370 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:19:46.370 +02:00 [DBG] Client validation success
2019-12-14 00:19:46.379 +02:00 [DBG] Start token request validation
2019-12-14 00:19:46.389 +02:00 [DBG] Start client credentials token request validation
2019-12-14 00:19:46.426 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-14 00:19:46.441 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-14 00:19:46.484 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-14 00:19:46.515 +02:00 [DBG] Token request success.
2019-12-14 00:20:02.640 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:02.646 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:02.646 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:02.660 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:02.667 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:02.667 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:02.668 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:02.668 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:02.669 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:02.669 +02:00 [DBG] API resource validation success
2019-12-14 00:20:02.674 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:02.697 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:02.702 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:02.702 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:02.705 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:02.707 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:02.716 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:02.718 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:03.703 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:03.704 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:03.704 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:03.704 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:03.704 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:03.704 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:03.705 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:03.705 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:03.705 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:03.705 +02:00 [DBG] API resource validation success
2019-12-14 00:20:03.705 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:03.705 +02:00 [DBG] reference_token grant with value: 6207a6c387122e327b1d2328604c8dbd9b8d694bd0103f6779398cf6e72b66f0 not found in store.
2019-12-14 00:20:03.706 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"6207a6c387122e327b1d2328604c8dbd9b8d694bd0103f6779398cf6e72b66f0","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-14 00:20:03.706 +02:00 [DBG] Token is invalid.
2019-12-14 00:20:03.706 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-14 00:20:03.706 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-14 00:20:13.364 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:13.364 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:13.364 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:13.364 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:13.364 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:13.364 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:13.364 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:13.365 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:13.365 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:13.365 +02:00 [DBG] API resource validation success
2019-12-14 00:20:13.365 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:13.365 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:13.365 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:13.365 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:13.365 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:13.365 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:13.365 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:13.366 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:18.549 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:18.549 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:18.549 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:18.549 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:18.549 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:18.549 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:18.549 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:18.549 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:18.550 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:18.550 +02:00 [DBG] API resource validation success
2019-12-14 00:20:18.550 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:18.550 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:18.550 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:18.550 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:18.550 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:18.550 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:18.550 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:18.551 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:18.616 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:18.616 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:18.616 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:18.616 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:18.616 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:18.616 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:18.617 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:18.617 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:18.617 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:18.617 +02:00 [DBG] API resource validation success
2019-12-14 00:20:18.617 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:18.617 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:18.618 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:18.618 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:18.618 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:18.618 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:18.618 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:18.618 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:20.717 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:20.717 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:20.718 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:20.718 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:20.718 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:20.719 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:20.720 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:20.720 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:20.720 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:20.720 +02:00 [DBG] API resource validation success
2019-12-14 00:20:20.721 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:20.721 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:20.722 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:20.722 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:20.722 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:20.722 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:20.722 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:20.723 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:20.791 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:20.792 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:20.792 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:20.792 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:20.793 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:20.793 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:20.793 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:20.793 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:20.793 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:20.793 +02:00 [DBG] API resource validation success
2019-12-14 00:20:20.794 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:20.794 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:20.794 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:20.794 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:20.794 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:20.794 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:20.794 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:20.795 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:26.600 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:26.600 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:26.600 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:26.600 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:26.600 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:26.600 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:26.601 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:26.601 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:26.601 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:26.601 +02:00 [DBG] API resource validation success
2019-12-14 00:20:26.601 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:26.601 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:26.601 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:26.601 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:26.601 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:26.602 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:26.602 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:26.602 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:33.499 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:33.499 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:33.500 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:33.500 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:33.500 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:33.500 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:33.500 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:33.500 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:33.500 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:33.500 +02:00 [DBG] API resource validation success
2019-12-14 00:20:33.500 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:33.501 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:33.501 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:33.501 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:33.501 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:33.501 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:33.501 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:33.501 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:34.836 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:34.837 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:34.837 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:34.837 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:34.837 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:34.837 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:34.837 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:34.837 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:34.837 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:34.838 +02:00 [DBG] API resource validation success
2019-12-14 00:20:34.838 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:34.838 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:34.838 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:34.838 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:34.838 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:34.838 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:34.838 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:34.838 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:39.300 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-14 00:20:39.301 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-14 00:20:39.301 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-14 00:20:39.301 +02:00 [DBG] Start token request.
2019-12-14 00:20:39.301 +02:00 [DBG] Start client validation
2019-12-14 00:20:39.301 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:39.301 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:39.301 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:39.301 +02:00 [DBG] Secret id found: testclientglobaladmin
2019-12-14 00:20:39.301 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:39.301 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:39.301 +02:00 [DBG] Client validation success
2019-12-14 00:20:39.302 +02:00 [DBG] Start token request validation
2019-12-14 00:20:39.302 +02:00 [DBG] Start client credentials token request validation
2019-12-14 00:20:39.302 +02:00 [DBG] testclientglobaladmin credentials token request validation success
2019-12-14 00:20:39.302 +02:00 [INF] Token request validation success, {"ClientId":"testclientglobaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testclientglobaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-14 00:20:39.302 +02:00 [DBG] Getting claims for access token for client: testclientglobaladmin
2019-12-14 00:20:39.302 +02:00 [DBG] Token request success.
2019-12-14 00:20:40.611 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:40.612 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:40.612 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:40.612 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:40.612 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:40.612 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:40.612 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:40.612 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:40.613 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:40.613 +02:00 [DBG] API resource validation success
2019-12-14 00:20:40.613 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:40.613 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:40.613 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:40.613 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:40.614 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"abb8564a3662b0f469b8924f9628f4ef4d6581a35eadf58578a440a2f047e408","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275639,"exp":1576279239,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:40.614 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:40.614 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:40.614 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:42.337 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:42.337 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:42.337 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:42.337 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:42.337 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:42.337 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:42.337 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:42.337 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:42.337 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:42.338 +02:00 [DBG] API resource validation success
2019-12-14 00:20:42.338 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:42.338 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:42.338 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:42.338 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:42.338 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:42.338 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:42.338 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:42.338 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:49.321 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:49.322 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:49.322 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:49.322 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:49.322 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:49.322 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:49.322 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:49.323 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:49.323 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:49.323 +02:00 [DBG] API resource validation success
2019-12-14 00:20:49.323 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:49.323 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.323 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.323 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:49.323 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"abb8564a3662b0f469b8924f9628f4ef4d6581a35eadf58578a440a2f047e408","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275639,"exp":1576279239,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:49.323 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:49.324 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:49.324 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:49.359 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:49.359 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:49.360 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:49.360 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:49.360 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:49.360 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:49.360 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:49.360 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:49.360 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:49.360 +02:00 [DBG] API resource validation success
2019-12-14 00:20:49.361 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:49.361 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.361 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.361 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:49.361 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:49.361 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:49.361 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:49.362 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:49.395 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:49.396 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:49.396 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:49.396 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:49.396 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:49.396 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:49.397 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:49.397 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:49.397 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:49.397 +02:00 [DBG] API resource validation success
2019-12-14 00:20:49.397 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:49.397 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.398 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:49.398 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:49.398 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:49.398 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:49.398 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:49.398 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:50.282 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:50.282 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:50.282 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:50.282 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:50.282 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:50.282 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:50.283 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:50.283 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:50.283 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:50.283 +02:00 [DBG] API resource validation success
2019-12-14 00:20:50.283 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:50.283 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:50.283 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:50.283 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:50.283 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:50.283 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:50.283 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:50.284 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:51.581 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:51.582 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:51.582 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:51.582 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:51.582 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:51.582 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:51.582 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:51.582 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:51.582 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:51.582 +02:00 [DBG] API resource validation success
2019-12-14 00:20:51.583 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:51.583 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:51.583 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:51.583 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:51.583 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:51.583 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:51.583 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:51.583 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:20:57.957 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:20:57.957 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:20:57.957 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:20:57.957 +02:00 [DBG] Starting introspection request.
2019-12-14 00:20:57.957 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:20:57.957 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:20:57.958 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:20:57.958 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:20:57.958 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:20:57.958 +02:00 [DBG] API resource validation success
2019-12-14 00:20:57.958 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:20:57.958 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:57.959 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:20:57.959 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:20:57.959 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"3634dc6abf02089be9f9c29fd62406b1a5cfbe74992d2a3c84cc395fe8f0d8ed","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275586,"exp":1576279186,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:20:57.959 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:20:57.959 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:20:57.959 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:21:05.833 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-14 00:21:05.833 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-14 00:21:05.833 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-14 00:21:05.833 +02:00 [DBG] Starting introspection request.
2019-12-14 00:21:05.834 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:21:05.834 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:21:05.834 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-14 00:21:05.834 +02:00 [DBG] Secret id found: regixadminapi
2019-12-14 00:21:05.834 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-14 00:21:05.834 +02:00 [DBG] API resource validation success
2019-12-14 00:21:05.834 +02:00 [DBG] Introspection request validation started.
2019-12-14 00:21:05.834 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:21:05.834 +02:00 [DBG] client configuration validation for client testclientglobaladmin succeeded.
2019-12-14 00:21:05.835 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-14 00:21:05.835 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"abb8564a3662b0f469b8924f9628f4ef4d6581a35eadf58578a440a2f047e408","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576275639,"exp":1576279239,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testclientglobaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-14 00:21:05.835 +02:00 [DBG] Introspection request validation successful.
2019-12-14 00:21:05.835 +02:00 [DBG] Creating introspection response for active token.
2019-12-14 00:21:05.835 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-14 00:22:06.746 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-14 00:22:06.793 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-14 00:22:06.802 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-14 00:22:06.802 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-14 00:22:06.802 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-14 00:22:06.802 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-14 00:22:06.802 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-14 00:22:06.802 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-14 00:22:07.133 +02:00 [DBG] Login Url: /Account/Login
2019-12-14 00:22:07.136 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-14 00:22:07.136 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-14 00:22:07.136 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-14 00:22:07.136 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-14 00:22:07.136 +02:00 [DBG] Error Url: /home/error
2019-12-14 00:22:07.136 +02:00 [DBG] Error Id Parameter: errorId
2019-12-14 00:22:07.163 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-14 00:22:07.284 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-14 00:22:07.284 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-14 00:22:07.291 +02:00 [DBG] Start token request.
2019-12-14 00:22:07.297 +02:00 [DBG] Start client validation
2019-12-14 00:22:07.302 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-14 00:22:07.306 +02:00 [DBG] Start parsing for secret in post body
2019-12-14 00:22:07.324 +02:00 [DBG] No secret in post body found
2019-12-14 00:22:07.325 +02:00 [DBG] Parser found no secret
2019-12-14 00:22:07.328 +02:00 [ERR] No client identifier found
2019-12-16 09:52:55.465 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-16 09:52:55.531 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-16 09:52:55.542 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-16 09:52:55.542 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-16 09:52:55.542 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-16 09:52:55.542 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-16 09:52:55.542 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-16 09:52:55.542 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-16 09:52:56.120 +02:00 [DBG] Login Url: /Account/Login
2019-12-16 09:52:56.124 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 09:52:56.125 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-16 09:52:56.125 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-16 09:52:56.125 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 09:52:56.125 +02:00 [DBG] Error Url: /home/error
2019-12-16 09:52:56.125 +02:00 [DBG] Error Id Parameter: errorId
2019-12-16 09:53:06.362 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 09:53:06.561 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 09:53:06.562 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 09:53:06.570 +02:00 [DBG] Start token request.
2019-12-16 09:53:06.576 +02:00 [DBG] Start client validation
2019-12-16 09:53:06.584 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 09:53:06.589 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 09:53:06.606 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 09:53:06.606 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 09:53:06.628 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 09:53:06.641 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 09:53:06.641 +02:00 [DBG] Client validation success
2019-12-16 09:53:06.654 +02:00 [DBG] Start token request validation
2019-12-16 09:53:06.663 +02:00 [DBG] Start client credentials token request validation
2019-12-16 09:53:06.700 +02:00 [DBG] testc-lient-globaladmin credentials token request validation success
2019-12-16 09:53:06.716 +02:00 [INF] Token request validation success, {"ClientId":"testc-lient-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testc-lient-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 09:53:06.760 +02:00 [DBG] Getting claims for access token for client: testc-lient-globaladmin
2019-12-16 09:53:06.794 +02:00 [DBG] Token request success.
2019-12-16 09:55:09.814 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 09:55:09.815 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 09:55:09.815 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 09:55:09.815 +02:00 [DBG] Start token request.
2019-12-16 09:55:09.815 +02:00 [DBG] Start client validation
2019-12-16 09:55:09.815 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 09:55:09.815 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 09:55:09.816 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 09:55:09.816 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 09:55:09.816 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 09:55:09.816 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 09:55:09.816 +02:00 [DBG] Client validation success
2019-12-16 09:55:09.816 +02:00 [DBG] Start token request validation
2019-12-16 09:55:09.816 +02:00 [DBG] Start client credentials token request validation
2019-12-16 09:55:09.817 +02:00 [DBG] testc-lient-globaladmin credentials token request validation success
2019-12-16 09:55:09.817 +02:00 [INF] Token request validation success, {"ClientId":"testc-lient-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testc-lient-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 09:55:09.818 +02:00 [DBG] Getting claims for access token for client: testc-lient-globaladmin
2019-12-16 09:55:09.819 +02:00 [DBG] Token request success.
2019-12-16 09:55:11.901 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-16 09:55:11.902 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-16 09:55:11.902 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-16 09:55:11.906 +02:00 [DBG] Start discovery request
2019-12-16 09:55:11.978 +02:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-12-16 09:55:11.978 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-12-16 09:55:11.978 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-12-16 09:55:11.983 +02:00 [DBG] Start key discovery request
2019-12-16 09:55:12.050 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 09:55:12.052 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 09:55:12.052 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 09:55:12.060 +02:00 [DBG] Starting introspection request.
2019-12-16 09:55:12.066 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 09:55:12.066 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 09:55:12.066 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 09:55:12.066 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 09:55:12.068 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 09:55:12.068 +02:00 [DBG] API resource validation success
2019-12-16 09:55:12.072 +02:00 [DBG] Introspection request validation started.
2019-12-16 09:55:12.094 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 09:55:12.098 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 09:55:12.099 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-16 09:55:12.103 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3b5f6c3f49038c25445a3c2826d039d8ef47e0d9d5580866aaf360bbd10faf4","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576482909,"exp":1576486509,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testc-lient-globaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-16 09:55:12.105 +02:00 [DBG] Introspection request validation successful.
2019-12-16 09:55:12.113 +02:00 [DBG] Creating introspection response for active token.
2019-12-16 09:55:12.117 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-16 10:03:04.667 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:03:04.668 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:03:04.668 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:03:04.668 +02:00 [DBG] Starting introspection request.
2019-12-16 10:03:04.669 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:03:04.669 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:03:04.669 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:03:04.670 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 10:03:04.670 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:03:04.670 +02:00 [DBG] API resource validation success
2019-12-16 10:03:04.670 +02:00 [DBG] Introspection request validation started.
2019-12-16 10:03:04.671 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:03:04.671 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:03:04.671 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-16 10:03:04.671 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"d3b5f6c3f49038c25445a3c2826d039d8ef47e0d9d5580866aaf360bbd10faf4","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576482909,"exp":1576486509,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testc-lient-globaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-16 10:03:04.671 +02:00 [DBG] Introspection request validation successful.
2019-12-16 10:03:04.671 +02:00 [DBG] Creating introspection response for active token.
2019-12-16 10:03:04.672 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-16 10:03:06.762 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:03:06.772 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:03:06.772 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:03:06.772 +02:00 [DBG] Start token request.
2019-12-16 10:03:06.772 +02:00 [DBG] Start client validation
2019-12-16 10:03:06.772 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:03:06.772 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:03:06.772 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:03:06.772 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:03:06.773 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:03:06.773 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:03:06.773 +02:00 [DBG] Client validation success
2019-12-16 10:03:06.773 +02:00 [DBG] Start token request validation
2019-12-16 10:03:06.773 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:03:06.773 +02:00 [DBG] testc-lient-globaladmin credentials token request validation success
2019-12-16 10:03:06.774 +02:00 [INF] Token request validation success, {"ClientId":"testc-lient-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testc-lient-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:03:06.774 +02:00 [DBG] Getting claims for access token for client: testc-lient-globaladmin
2019-12-16 10:03:06.774 +02:00 [DBG] Token request success.
2019-12-16 10:03:08.154 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:03:08.155 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:03:08.155 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:03:08.155 +02:00 [DBG] Starting introspection request.
2019-12-16 10:03:08.155 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:03:08.155 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:03:08.155 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:03:08.156 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 10:03:08.156 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:03:08.156 +02:00 [DBG] API resource validation success
2019-12-16 10:03:08.156 +02:00 [DBG] Introspection request validation started.
2019-12-16 10:03:08.156 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:03:08.156 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:03:08.156 +02:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-12-16 10:03:08.156 +02:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"0e61f0ee9aa9282170924d1c425c5c4a759b27ead11ec87b3f8c1dc2972444a9","JwtId":null,"Claims":{"iss":"https://localhost:44398","nbf":1576483386,"exp":1576486986,"aud":["https://localhost:44398/resources","regixadminapi"],"client_id":"testc-lient-globaladmin","role":"Admin","scope":"regixadminapi"},"$type":"TokenValidationLog"}
2019-12-16 10:03:08.157 +02:00 [DBG] Introspection request validation successful.
2019-12-16 10:03:08.157 +02:00 [DBG] Creating introspection response for active token.
2019-12-16 10:03:08.157 +02:00 [INF] Success token introspection. Token active: true, for API name: regixadminapi
2019-12-16 10:25:39.942 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-16 10:25:40.004 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-16 10:25:40.014 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-16 10:25:40.014 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-16 10:25:40.014 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-16 10:25:40.014 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-16 10:25:40.014 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-16 10:25:40.014 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-16 10:25:40.768 +02:00 [DBG] Login Url: /Account/Login
2019-12-16 10:25:40.772 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 10:25:40.772 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-16 10:25:40.772 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-16 10:25:40.772 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 10:25:40.773 +02:00 [DBG] Error Url: /home/error
2019-12-16 10:25:40.773 +02:00 [DBG] Error Id Parameter: errorId
2019-12-16 10:28:23.851 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:28:24.178 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:28:24.178 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:28:24.189 +02:00 [DBG] Start token request.
2019-12-16 10:28:24.195 +02:00 [DBG] Start client validation
2019-12-16 10:28:24.202 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:28:24.206 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:28:24.225 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:28:24.225 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:28:24.242 +02:00 [DBG] client configuration validation for client testc-lient-globaladmin succeeded.
2019-12-16 10:28:24.252 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:28:24.252 +02:00 [DBG] Client validation success
2019-12-16 10:28:24.262 +02:00 [DBG] Start token request validation
2019-12-16 10:28:24.272 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:28:24.311 +02:00 [DBG] testc-lient-globaladmin credentials token request validation success
2019-12-16 10:28:24.327 +02:00 [INF] Token request validation success, {"ClientId":"testc-lient-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"testc-lient-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:28:24.373 +02:00 [DBG] Getting claims for access token for client: testc-lient-globaladmin
2019-12-16 10:28:24.407 +02:00 [DBG] Token request success.
2019-12-16 10:28:27.624 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:28:27.625 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:28:27.625 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:28:27.625 +02:00 [DBG] Start token request.
2019-12-16 10:28:27.625 +02:00 [DBG] Start client validation
2019-12-16 10:28:27.625 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:28:27.625 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:28:27.626 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:28:27.626 +02:00 [DBG] Secret id found: test-client-admin
2019-12-16 10:28:27.627 +02:00 [ERR] No client with id 'test-client-admin' found. aborting
2019-12-16 10:29:44.554 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-16 10:29:44.602 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-16 10:29:44.611 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-16 10:29:44.611 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-16 10:29:44.612 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-16 10:29:44.612 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-16 10:29:44.612 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-16 10:29:44.612 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-16 10:29:45.194 +02:00 [DBG] Login Url: /Account/Login
2019-12-16 10:29:45.197 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 10:29:45.197 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-16 10:29:45.197 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-16 10:29:45.197 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 10:29:45.197 +02:00 [DBG] Error Url: /home/error
2019-12-16 10:29:45.197 +02:00 [DBG] Error Id Parameter: errorId
2019-12-16 10:29:55.842 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:29:56.065 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:29:56.065 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:29:56.085 +02:00 [DBG] Start token request.
2019-12-16 10:29:56.095 +02:00 [DBG] Start client validation
2019-12-16 10:29:56.101 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:29:56.106 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:29:56.123 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:29:56.123 +02:00 [DBG] Secret id found: test-client-admin
2019-12-16 10:29:56.140 +02:00 [DBG] client configuration validation for client test-client-admin succeeded.
2019-12-16 10:29:56.150 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:29:56.150 +02:00 [DBG] Client validation success
2019-12-16 10:29:56.160 +02:00 [DBG] Start token request validation
2019-12-16 10:29:56.168 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:29:56.201 +02:00 [DBG] test-client-admin credentials token request validation success
2019-12-16 10:29:56.216 +02:00 [INF] Token request validation success, {"ClientId":"test-client-admin","ClientName":"RegiX Client API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:29:56.267 +02:00 [DBG] Getting claims for access token for client: test-client-admin
2019-12-16 10:29:56.306 +02:00 [DBG] Token request success.
2019-12-16 10:29:58.221 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:29:58.221 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:29:58.221 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:29:58.222 +02:00 [DBG] Start token request.
2019-12-16 10:29:58.222 +02:00 [DBG] Start client validation
2019-12-16 10:29:58.222 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:29:58.222 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:29:58.222 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:29:58.222 +02:00 [DBG] Secret id found: test-client-public
2019-12-16 10:29:58.223 +02:00 [DBG] client configuration validation for client test-client-public succeeded.
2019-12-16 10:29:58.223 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:29:58.223 +02:00 [DBG] Client validation success
2019-12-16 10:29:58.224 +02:00 [DBG] Start token request validation
2019-12-16 10:29:58.224 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:29:58.224 +02:00 [DBG] test-client-public credentials token request validation success
2019-12-16 10:29:58.225 +02:00 [INF] Token request validation success, {"ClientId":"test-client-public","ClientName":"RegiX Client API Client - PUBLIC","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-public","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:29:58.225 +02:00 [DBG] Getting claims for access token for client: test-client-public
2019-12-16 10:29:58.226 +02:00 [DBG] Token request success.
2019-12-16 10:29:59.960 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:29:59.960 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:29:59.960 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:29:59.960 +02:00 [DBG] Start token request.
2019-12-16 10:29:59.960 +02:00 [DBG] Start client validation
2019-12-16 10:29:59.961 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:29:59.961 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:29:59.961 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:29:59.961 +02:00 [DBG] Secret id found: test-client-basic
2019-12-16 10:29:59.961 +02:00 [DBG] client configuration validation for client test-client-basic succeeded.
2019-12-16 10:29:59.961 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:29:59.961 +02:00 [DBG] Client validation success
2019-12-16 10:29:59.961 +02:00 [DBG] Start token request validation
2019-12-16 10:29:59.961 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:29:59.962 +02:00 [DBG] test-client-basic credentials token request validation success
2019-12-16 10:29:59.962 +02:00 [INF] Token request validation success, {"ClientId":"test-client-basic","ClientName":"RegiX Client API Client - BASIC","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-basic","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:29:59.962 +02:00 [DBG] Getting claims for access token for client: test-client-basic
2019-12-16 10:29:59.962 +02:00 [DBG] Token request success.
2019-12-16 10:30:01.770 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:01.771 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:01.771 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:01.771 +02:00 [DBG] Start token request.
2019-12-16 10:30:01.771 +02:00 [DBG] Start client validation
2019-12-16 10:30:01.771 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:01.772 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:01.772 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:01.772 +02:00 [DBG] Secret id found: test-client-basicadmin
2019-12-16 10:30:01.772 +02:00 [DBG] client configuration validation for client test-client-basicadmin succeeded.
2019-12-16 10:30:01.773 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:01.773 +02:00 [DBG] Client validation success
2019-12-16 10:30:01.773 +02:00 [DBG] Start token request validation
2019-12-16 10:30:01.773 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:01.773 +02:00 [DBG] test-client-basicadmin credentials token request validation success
2019-12-16 10:30:01.773 +02:00 [INF] Token request validation success, {"ClientId":"test-client-basicadmin","ClientName":"RegiX Client API Client - BASIC-ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-basicadmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:01.773 +02:00 [DBG] Getting claims for access token for client: test-client-basicadmin
2019-12-16 10:30:01.774 +02:00 [DBG] Token request success.
2019-12-16 10:30:03.638 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:03.638 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:03.638 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:03.638 +02:00 [DBG] Start token request.
2019-12-16 10:30:03.639 +02:00 [DBG] Start client validation
2019-12-16 10:30:03.639 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:03.639 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:03.639 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:03.639 +02:00 [DBG] Secret id found: test-admin-admin
2019-12-16 10:30:03.639 +02:00 [DBG] client configuration validation for client test-admin-admin succeeded.
2019-12-16 10:30:03.639 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:03.640 +02:00 [DBG] Client validation success
2019-12-16 10:30:03.640 +02:00 [DBG] Start token request validation
2019-12-16 10:30:03.640 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:03.640 +02:00 [DBG] test-admin-admin credentials token request validation success
2019-12-16 10:30:03.640 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-admin","ClientName":"RegiX Admin API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:03.640 +02:00 [DBG] Getting claims for access token for client: test-admin-admin
2019-12-16 10:30:03.640 +02:00 [DBG] Token request success.
2019-12-16 10:30:05.310 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:05.311 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:05.311 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:05.311 +02:00 [DBG] Start token request.
2019-12-16 10:30:05.311 +02:00 [DBG] Start client validation
2019-12-16 10:30:05.311 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:05.311 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:05.311 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:05.311 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:30:05.312 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:30:05.312 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:05.312 +02:00 [DBG] Client validation success
2019-12-16 10:30:05.312 +02:00 [DBG] Start token request validation
2019-12-16 10:30:05.312 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:05.312 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:30:05.312 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:05.312 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:30:05.313 +02:00 [DBG] Token request success.
2019-12-16 10:30:08.489 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:08.489 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:08.489 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:08.489 +02:00 [DBG] Start token request.
2019-12-16 10:30:08.489 +02:00 [DBG] Start client validation
2019-12-16 10:30:08.489 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:08.489 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:08.490 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:08.490 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:30:08.491 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:30:08.491 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:08.491 +02:00 [DBG] Client validation success
2019-12-16 10:30:08.491 +02:00 [DBG] Start token request validation
2019-12-16 10:30:08.491 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:08.492 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:30:08.492 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:08.492 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:30:08.492 +02:00 [DBG] Token request success.
2019-12-16 10:30:11.529 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:11.530 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:11.530 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:11.530 +02:00 [DBG] Start token request.
2019-12-16 10:30:11.530 +02:00 [DBG] Start client validation
2019-12-16 10:30:11.530 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:11.530 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:11.530 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:11.530 +02:00 [DBG] Secret id found: test-admin-admin
2019-12-16 10:30:11.530 +02:00 [DBG] client configuration validation for client test-admin-admin succeeded.
2019-12-16 10:30:11.531 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:11.531 +02:00 [DBG] Client validation success
2019-12-16 10:30:11.531 +02:00 [DBG] Start token request validation
2019-12-16 10:30:11.531 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:11.531 +02:00 [DBG] test-admin-admin credentials token request validation success
2019-12-16 10:30:11.531 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-admin","ClientName":"RegiX Admin API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:11.531 +02:00 [DBG] Getting claims for access token for client: test-admin-admin
2019-12-16 10:30:11.532 +02:00 [DBG] Token request success.
2019-12-16 10:30:14.422 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:14.422 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:14.423 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:14.423 +02:00 [DBG] Start token request.
2019-12-16 10:30:14.423 +02:00 [DBG] Start client validation
2019-12-16 10:30:14.423 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:14.423 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:14.423 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:14.423 +02:00 [DBG] Secret id found: test-client-basicadmin
2019-12-16 10:30:14.423 +02:00 [DBG] client configuration validation for client test-client-basicadmin succeeded.
2019-12-16 10:30:14.424 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:14.424 +02:00 [DBG] Client validation success
2019-12-16 10:30:14.424 +02:00 [DBG] Start token request validation
2019-12-16 10:30:14.424 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:14.424 +02:00 [DBG] test-client-basicadmin credentials token request validation success
2019-12-16 10:30:14.424 +02:00 [INF] Token request validation success, {"ClientId":"test-client-basicadmin","ClientName":"RegiX Client API Client - BASIC-ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-basicadmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:14.424 +02:00 [DBG] Getting claims for access token for client: test-client-basicadmin
2019-12-16 10:30:14.424 +02:00 [DBG] Token request success.
2019-12-16 10:30:15.824 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:15.824 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:15.824 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:15.824 +02:00 [DBG] Start token request.
2019-12-16 10:30:15.825 +02:00 [DBG] Start client validation
2019-12-16 10:30:15.825 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:15.825 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:15.825 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:15.825 +02:00 [DBG] Secret id found: test-client-basic
2019-12-16 10:30:15.825 +02:00 [DBG] client configuration validation for client test-client-basic succeeded.
2019-12-16 10:30:15.825 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:15.825 +02:00 [DBG] Client validation success
2019-12-16 10:30:15.825 +02:00 [DBG] Start token request validation
2019-12-16 10:30:15.825 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:15.826 +02:00 [DBG] test-client-basic credentials token request validation success
2019-12-16 10:30:15.826 +02:00 [INF] Token request validation success, {"ClientId":"test-client-basic","ClientName":"RegiX Client API Client - BASIC","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-basic","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:15.826 +02:00 [DBG] Getting claims for access token for client: test-client-basic
2019-12-16 10:30:15.826 +02:00 [DBG] Token request success.
2019-12-16 10:30:19.153 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:19.153 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:19.153 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:19.153 +02:00 [DBG] Start token request.
2019-12-16 10:30:19.153 +02:00 [DBG] Start client validation
2019-12-16 10:30:19.153 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:19.153 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:19.154 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:19.154 +02:00 [DBG] Secret id found: test-client-public
2019-12-16 10:30:19.154 +02:00 [DBG] client configuration validation for client test-client-public succeeded.
2019-12-16 10:30:19.154 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:19.154 +02:00 [DBG] Client validation success
2019-12-16 10:30:19.154 +02:00 [DBG] Start token request validation
2019-12-16 10:30:19.154 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:19.154 +02:00 [DBG] test-client-public credentials token request validation success
2019-12-16 10:30:19.154 +02:00 [INF] Token request validation success, {"ClientId":"test-client-public","ClientName":"RegiX Client API Client - PUBLIC","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-public","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:19.154 +02:00 [DBG] Getting claims for access token for client: test-client-public
2019-12-16 10:30:19.154 +02:00 [DBG] Token request success.
2019-12-16 10:30:22.356 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:22.357 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:22.357 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:22.357 +02:00 [DBG] Start token request.
2019-12-16 10:30:22.357 +02:00 [DBG] Start client validation
2019-12-16 10:30:22.357 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:22.357 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:22.357 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:22.357 +02:00 [DBG] Secret id found: test-client-admin
2019-12-16 10:30:22.357 +02:00 [DBG] client configuration validation for client test-client-admin succeeded.
2019-12-16 10:30:22.358 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:22.358 +02:00 [DBG] Client validation success
2019-12-16 10:30:22.358 +02:00 [DBG] Start token request validation
2019-12-16 10:30:22.358 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:22.358 +02:00 [DBG] test-client-admin credentials token request validation success
2019-12-16 10:30:22.358 +02:00 [INF] Token request validation success, {"ClientId":"test-client-admin","ClientName":"RegiX Client API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:22.358 +02:00 [DBG] Getting claims for access token for client: test-client-admin
2019-12-16 10:30:22.358 +02:00 [DBG] Token request success.
2019-12-16 10:30:24.073 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:24.073 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:24.073 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:24.073 +02:00 [DBG] Start token request.
2019-12-16 10:30:24.074 +02:00 [DBG] Start client validation
2019-12-16 10:30:24.074 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:24.074 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:24.074 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:24.074 +02:00 [DBG] Secret id found: test-client-admin
2019-12-16 10:30:24.074 +02:00 [DBG] client configuration validation for client test-client-admin succeeded.
2019-12-16 10:30:24.074 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:30:24.074 +02:00 [DBG] Client validation success
2019-12-16 10:30:24.074 +02:00 [DBG] Start token request validation
2019-12-16 10:30:24.074 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:30:24.075 +02:00 [DBG] test-client-admin credentials token request validation success
2019-12-16 10:30:24.075 +02:00 [INF] Token request validation success, {"ClientId":"test-client-admin","ClientName":"RegiX Client API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:30:24.075 +02:00 [DBG] Getting claims for access token for client: test-client-admin
2019-12-16 10:30:24.075 +02:00 [DBG] Token request success.
2019-12-16 10:30:29.675 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:29.675 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:29.675 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:29.675 +02:00 [DBG] Start token request.
2019-12-16 10:30:29.675 +02:00 [DBG] Start client validation
2019-12-16 10:30:29.675 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:29.675 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:29.676 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:29.676 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:30:29.676 +02:00 [ERR] No client with id 'testc-lient-globaladmin' found. aborting
2019-12-16 10:30:34.841 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:34.842 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:34.842 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:34.842 +02:00 [DBG] Start token request.
2019-12-16 10:30:34.842 +02:00 [DBG] Start client validation
2019-12-16 10:30:34.842 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:34.842 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:34.842 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:34.842 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:30:34.842 +02:00 [ERR] No client with id 'testc-lient-globaladmin' found. aborting
2019-12-16 10:30:35.782 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:35.782 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:35.782 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:35.782 +02:00 [DBG] Start token request.
2019-12-16 10:30:35.782 +02:00 [DBG] Start client validation
2019-12-16 10:30:35.782 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:35.782 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:35.783 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:35.783 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:30:35.783 +02:00 [ERR] No client with id 'testc-lient-globaladmin' found. aborting
2019-12-16 10:30:36.006 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:30:36.006 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:30:36.007 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:30:36.007 +02:00 [DBG] Start token request.
2019-12-16 10:30:36.007 +02:00 [DBG] Start client validation
2019-12-16 10:30:36.007 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:30:36.007 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:30:36.007 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:30:36.007 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 10:30:36.007 +02:00 [ERR] No client with id 'testc-lient-globaladmin' found. aborting
2019-12-16 10:31:00.215 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:31:00.216 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:31:00.216 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:31:00.216 +02:00 [DBG] Start token request.
2019-12-16 10:31:00.216 +02:00 [DBG] Start client validation
2019-12-16 10:31:00.216 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:31:00.216 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:31:00.216 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:31:00.216 +02:00 [DBG] Secret id found: test-client-globaladmin
2019-12-16 10:31:00.216 +02:00 [DBG] client configuration validation for client test-client-globaladmin succeeded.
2019-12-16 10:31:00.216 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:31:00.217 +02:00 [DBG] Client validation success
2019-12-16 10:31:00.217 +02:00 [DBG] Start token request validation
2019-12-16 10:31:00.217 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:31:00.217 +02:00 [DBG] test-client-globaladmin credentials token request validation success
2019-12-16 10:31:00.217 +02:00 [INF] Token request validation success, {"ClientId":"test-client-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:31:00.217 +02:00 [DBG] Getting claims for access token for client: test-client-globaladmin
2019-12-16 10:31:00.217 +02:00 [DBG] Token request success.
2019-12-16 10:35:18.669 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:35:18.669 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:35:18.669 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:35:18.669 +02:00 [DBG] Start token request.
2019-12-16 10:35:18.670 +02:00 [DBG] Start client validation
2019-12-16 10:35:18.670 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:35:18.670 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:35:18.671 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:35:18.671 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:35:18.671 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:35:18.671 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:35:18.671 +02:00 [DBG] Client validation success
2019-12-16 10:35:18.671 +02:00 [DBG] Start token request validation
2019-12-16 10:35:18.671 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:35:18.672 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:35:18.672 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:35:18.672 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:35:18.672 +02:00 [DBG] Token request success.
2019-12-16 10:35:20.916 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:35:20.918 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:35:20.919 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:35:20.923 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:37:04.115 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:37:04.116 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:37:04.116 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:37:04.123 +02:00 [DBG] Starting introspection request.
2019-12-16 10:37:04.131 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:37:04.132 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:37:04.132 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:37:04.132 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:37:04.133 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 10:37:04.135 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:37:04.135 +02:00 [DBG] API resource validation success
2019-12-16 10:37:04.141 +02:00 [DBG] Introspection request validation started.
2019-12-16 10:37:04.141 +02:00 [ERR] Token is missing
2019-12-16 10:37:04.141 +02:00 [ERR] Failed token introspection: missing_token, for API name: regixadminapi
2019-12-16 10:37:07.319 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:37:07.320 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:37:07.320 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:37:07.320 +02:00 [DBG] Start token request.
2019-12-16 10:37:07.320 +02:00 [DBG] Start client validation
2019-12-16 10:37:07.320 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:37:07.320 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:37:07.320 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:37:07.321 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:37:07.321 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:37:07.321 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:37:07.321 +02:00 [DBG] Client validation success
2019-12-16 10:37:07.321 +02:00 [DBG] Start token request validation
2019-12-16 10:37:07.321 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:37:07.321 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:37:07.321 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:37:07.321 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:37:07.322 +02:00 [DBG] Token request success.
2019-12-16 10:37:08.745 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:37:08.745 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:37:08.746 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:37:08.746 +02:00 [DBG] Starting introspection request.
2019-12-16 10:37:08.746 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:37:08.746 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:37:08.746 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:37:08.747 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:37:08.747 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 10:37:08.747 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:37:08.747 +02:00 [DBG] API resource validation success
2019-12-16 10:37:08.747 +02:00 [DBG] Introspection request validation started.
2019-12-16 10:37:08.747 +02:00 [ERR] Token is missing
2019-12-16 10:37:08.747 +02:00 [ERR] Failed token introspection: missing_token, for API name: regixadminapi
2019-12-16 10:37:38.456 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:37:38.456 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:37:38.456 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:37:38.456 +02:00 [DBG] Start token request.
2019-12-16 10:37:38.456 +02:00 [DBG] Start client validation
2019-12-16 10:37:38.456 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:37:38.457 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:37:38.457 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:37:38.457 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:37:38.457 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:37:38.457 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:37:38.457 +02:00 [DBG] Client validation success
2019-12-16 10:37:38.457 +02:00 [DBG] Start token request validation
2019-12-16 10:37:38.457 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:37:38.457 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:37:38.458 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:37:38.458 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:37:38.458 +02:00 [DBG] Token request success.
2019-12-16 10:37:39.877 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:37:39.877 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:37:39.877 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:37:39.877 +02:00 [DBG] Starting introspection request.
2019-12-16 10:37:39.877 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:37:39.877 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:37:39.878 +02:00 [DBG] No secret in post body found
2019-12-16 10:37:39.878 +02:00 [DBG] Parser found no secret
2019-12-16 10:37:39.878 +02:00 [ERR] No API secret found
2019-12-16 10:37:39.878 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 10:38:19.044 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:38:19.045 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:38:19.045 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:38:19.045 +02:00 [DBG] Start token request.
2019-12-16 10:38:19.045 +02:00 [DBG] Start client validation
2019-12-16 10:38:19.045 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:38:19.045 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:38:19.046 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:38:19.046 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 10:38:19.046 +02:00 [ERR] No client with id 'regixadminapi' found. aborting
2019-12-16 10:39:05.377 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:39:05.378 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:39:05.378 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:39:05.378 +02:00 [DBG] Start token request.
2019-12-16 10:39:05.378 +02:00 [DBG] Start client validation
2019-12-16 10:39:05.378 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:39:05.378 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:39:05.379 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:39:05.379 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:39:05.379 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:39:05.379 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:39:05.379 +02:00 [DBG] Client validation success
2019-12-16 10:39:05.380 +02:00 [DBG] Start token request validation
2019-12-16 10:39:05.380 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:39:05.380 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:39:05.380 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:39:05.380 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:39:05.477 +02:00 [DBG] Token request success.
2019-12-16 10:40:14.635 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:40:14.636 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:40:14.636 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:40:14.636 +02:00 [DBG] Start token request.
2019-12-16 10:40:14.636 +02:00 [DBG] Start client validation
2019-12-16 10:40:14.636 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:40:14.636 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:40:14.637 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:40:14.637 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 10:40:14.637 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 10:40:14.637 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:40:14.637 +02:00 [DBG] Client validation success
2019-12-16 10:40:14.637 +02:00 [DBG] Start token request validation
2019-12-16 10:40:14.637 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:40:14.638 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 10:40:14.638 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:40:14.638 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 10:40:14.638 +02:00 [DBG] Token request success.
2019-12-16 10:40:17.786 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:40:17.786 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:40:17.786 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:40:17.786 +02:00 [DBG] Start token request.
2019-12-16 10:40:17.786 +02:00 [DBG] Start client validation
2019-12-16 10:40:17.786 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:40:17.786 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:40:17.787 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:40:17.787 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:40:17.787 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:40:17.787 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:40:17.787 +02:00 [DBG] Client validation success
2019-12-16 10:40:17.787 +02:00 [DBG] Start token request validation
2019-12-16 10:40:17.787 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:40:17.788 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:40:17.788 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:40:17.788 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:40:17.791 +02:00 [DBG] Token request success.
2019-12-16 10:40:19.644 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:40:19.644 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:40:19.644 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:40:19.644 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:40:47.729 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:40:47.729 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:40:47.729 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:40:47.729 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:40:48.724 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:40:48.724 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:40:48.724 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:40:48.724 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:40:50.015 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:40:50.016 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:40:50.016 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:40:50.016 +02:00 [DBG] Start token request.
2019-12-16 10:40:50.016 +02:00 [DBG] Start client validation
2019-12-16 10:40:50.016 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:40:50.016 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:40:50.016 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:40:50.016 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:40:50.017 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:40:50.017 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:40:50.017 +02:00 [DBG] Client validation success
2019-12-16 10:40:50.017 +02:00 [DBG] Start token request validation
2019-12-16 10:40:50.017 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:40:50.017 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:40:50.017 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:40:50.018 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:40:50.021 +02:00 [DBG] Token request success.
2019-12-16 10:40:51.611 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:40:51.611 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:40:51.612 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:40:51.612 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:41:00.585 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:41:00.586 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:41:00.586 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:41:00.586 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:41:02.636 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:41:02.636 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:41:02.637 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:41:02.637 +02:00 [DBG] Start token request.
2019-12-16 10:41:02.637 +02:00 [DBG] Start client validation
2019-12-16 10:41:02.637 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:41:02.637 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:41:02.637 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:41:02.637 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:41:02.637 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:41:02.637 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:41:02.637 +02:00 [DBG] Client validation success
2019-12-16 10:41:02.637 +02:00 [DBG] Start token request validation
2019-12-16 10:41:02.637 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:41:02.638 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:41:02.638 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:41:02.638 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:41:02.641 +02:00 [DBG] Token request success.
2019-12-16 10:41:03.497 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:41:03.497 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:41:03.497 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:41:03.497 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:41:26.390 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:41:26.390 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:41:26.390 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:41:26.390 +02:00 [DBG] Start token request.
2019-12-16 10:41:26.390 +02:00 [DBG] Start client validation
2019-12-16 10:41:26.390 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:41:26.390 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:41:26.391 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:41:26.391 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:41:26.391 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:41:26.391 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:41:26.391 +02:00 [DBG] Client validation success
2019-12-16 10:41:26.391 +02:00 [DBG] Start token request validation
2019-12-16 10:41:26.391 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:41:26.391 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:41:26.392 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:41:26.392 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:41:26.396 +02:00 [DBG] Token request success.
2019-12-16 10:41:27.765 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:41:27.766 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:41:27.766 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:41:27.766 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:42:03.320 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:42:03.320 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:42:03.320 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:42:03.320 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:42:05.028 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:42:05.029 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:42:05.029 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:42:05.029 +02:00 [DBG] Start token request.
2019-12-16 10:42:05.029 +02:00 [DBG] Start client validation
2019-12-16 10:42:05.029 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:42:05.029 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:42:05.030 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:42:05.030 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:42:05.030 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:42:05.030 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:42:05.030 +02:00 [DBG] Client validation success
2019-12-16 10:42:05.030 +02:00 [DBG] Start token request validation
2019-12-16 10:42:05.030 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:42:05.031 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:42:05.031 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:42:05.031 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:42:05.035 +02:00 [DBG] Token request success.
2019-12-16 10:42:05.760 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:42:05.760 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:42:05.760 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:42:05.761 +02:00 [WRN] Invalid media type for introspection endpoint
2019-12-16 10:42:36.492 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:42:36.492 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:42:36.492 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:42:36.492 +02:00 [DBG] Starting introspection request.
2019-12-16 10:42:36.492 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:42:36.493 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:42:36.493 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:42:36.493 +02:00 [DBG] No secret in post body found
2019-12-16 10:42:36.493 +02:00 [DBG] Parser found no secret
2019-12-16 10:42:36.493 +02:00 [ERR] No API secret found
2019-12-16 10:42:36.493 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 10:42:38.734 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:42:38.734 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:42:38.735 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:42:38.735 +02:00 [DBG] Start token request.
2019-12-16 10:42:38.735 +02:00 [DBG] Start client validation
2019-12-16 10:42:38.735 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:42:38.735 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:42:38.735 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:42:38.735 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:42:38.735 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:42:38.735 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:42:38.735 +02:00 [DBG] Client validation success
2019-12-16 10:42:38.736 +02:00 [DBG] Start token request validation
2019-12-16 10:42:38.736 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:42:38.736 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:42:38.736 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:42:38.736 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:42:38.739 +02:00 [DBG] Token request success.
2019-12-16 10:42:39.990 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:42:39.991 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:42:39.991 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:42:39.991 +02:00 [DBG] Starting introspection request.
2019-12-16 10:42:39.991 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:42:39.991 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:42:39.991 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:42:39.991 +02:00 [DBG] No secret in post body found
2019-12-16 10:42:39.992 +02:00 [DBG] Parser found no secret
2019-12-16 10:42:39.992 +02:00 [ERR] No API secret found
2019-12-16 10:42:39.992 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 10:42:56.510 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:42:56.510 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:42:56.510 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:42:56.511 +02:00 [DBG] Start token request.
2019-12-16 10:42:56.511 +02:00 [DBG] Start client validation
2019-12-16 10:42:56.511 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:42:56.511 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:42:56.511 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:42:56.511 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:42:56.511 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:42:56.511 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:42:56.511 +02:00 [DBG] Client validation success
2019-12-16 10:42:56.511 +02:00 [DBG] Start token request validation
2019-12-16 10:42:56.511 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:42:56.512 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:42:56.512 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:42:56.512 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:42:56.515 +02:00 [DBG] Token request success.
2019-12-16 10:43:12.014 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:43:12.014 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:43:12.014 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:43:12.014 +02:00 [DBG] Start token request.
2019-12-16 10:43:12.014 +02:00 [DBG] Start client validation
2019-12-16 10:43:12.014 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:43:12.015 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:43:12.015 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:43:12.015 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:43:12.015 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:43:12.015 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:43:12.015 +02:00 [DBG] Client validation success
2019-12-16 10:43:12.015 +02:00 [DBG] Start token request validation
2019-12-16 10:43:12.015 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:43:12.016 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:43:12.016 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:43:12.016 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:43:12.020 +02:00 [DBG] Token request success.
2019-12-16 10:43:26.837 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:43:26.837 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:43:26.838 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:43:26.838 +02:00 [DBG] Start token request.
2019-12-16 10:43:26.838 +02:00 [DBG] Start client validation
2019-12-16 10:43:26.838 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:43:26.838 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:43:26.838 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:43:26.838 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:43:26.838 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:43:26.838 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:43:26.838 +02:00 [DBG] Client validation success
2019-12-16 10:43:26.838 +02:00 [DBG] Start token request validation
2019-12-16 10:43:26.838 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:43:26.839 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:43:26.839 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:43:26.839 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:43:26.842 +02:00 [DBG] Token request success.
2019-12-16 10:43:44.054 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:43:44.054 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:43:44.054 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:43:44.054 +02:00 [DBG] Start token request.
2019-12-16 10:43:44.054 +02:00 [DBG] Start client validation
2019-12-16 10:43:44.054 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:43:44.054 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:43:44.054 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:43:44.055 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:43:44.055 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:43:44.055 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:43:44.055 +02:00 [DBG] Client validation success
2019-12-16 10:43:44.055 +02:00 [DBG] Start token request validation
2019-12-16 10:43:44.055 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:43:44.055 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:43:44.055 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:43:44.055 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:43:44.059 +02:00 [DBG] Token request success.
2019-12-16 10:43:45.708 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:43:45.708 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:43:45.708 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:43:45.708 +02:00 [DBG] Starting introspection request.
2019-12-16 10:43:45.709 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:43:45.709 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:43:45.709 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:43:45.709 +02:00 [DBG] No secret in post body found
2019-12-16 10:43:45.710 +02:00 [DBG] Parser found no secret
2019-12-16 10:43:45.710 +02:00 [ERR] No API secret found
2019-12-16 10:43:45.710 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 10:45:28.754 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 10:45:28.755 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 10:45:28.755 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 10:45:28.755 +02:00 [DBG] Start token request.
2019-12-16 10:45:28.755 +02:00 [DBG] Start client validation
2019-12-16 10:45:28.755 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:45:28.755 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:45:28.755 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 10:45:28.756 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 10:45:28.756 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 10:45:28.756 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 10:45:28.756 +02:00 [DBG] Client validation success
2019-12-16 10:45:28.756 +02:00 [DBG] Start token request validation
2019-12-16 10:45:28.756 +02:00 [DBG] Start client credentials token request validation
2019-12-16 10:45:28.756 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 10:45:28.757 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 10:45:28.757 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 10:45:28.760 +02:00 [DBG] Token request success.
2019-12-16 10:45:34.183 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:45:34.183 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:45:34.183 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:45:34.183 +02:00 [DBG] Starting introspection request.
2019-12-16 10:45:34.183 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:45:34.184 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:45:34.184 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:45:34.184 +02:00 [DBG] No secret in post body found
2019-12-16 10:45:34.184 +02:00 [DBG] Parser found no secret
2019-12-16 10:45:34.184 +02:00 [ERR] No API secret found
2019-12-16 10:45:34.184 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 10:46:08.807 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 10:46:08.807 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 10:46:08.807 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 10:46:08.807 +02:00 [DBG] Starting introspection request.
2019-12-16 10:46:08.807 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 10:46:08.807 +02:00 [WRN] Malformed Basic Authentication credential.
2019-12-16 10:46:08.808 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 10:46:08.808 +02:00 [DBG] No secret in post body found
2019-12-16 10:46:08.808 +02:00 [DBG] Parser found no secret
2019-12-16 10:46:08.808 +02:00 [ERR] No API secret found
2019-12-16 10:46:08.808 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 11:02:57.830 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:02:57.830 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:02:57.830 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:02:57.830 +02:00 [DBG] Start token request.
2019-12-16 11:02:57.830 +02:00 [DBG] Start client validation
2019-12-16 11:02:57.830 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:02:57.831 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:02:57.831 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:02:57.831 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 11:02:57.831 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 11:02:57.831 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:02:57.831 +02:00 [DBG] Client validation success
2019-12-16 11:02:57.831 +02:00 [DBG] Start token request validation
2019-12-16 11:02:57.831 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:02:57.832 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 11:02:57.832 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:02:57.832 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 11:02:57.835 +02:00 [DBG] Token request success.
2019-12-16 11:03:33.268 +02:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: https://jwt.io
2019-12-16 11:03:33.273 +02:00 [DBG] Client list checked and origin: https://jwt.io is not allowed
2019-12-16 11:03:33.273 +02:00 [WRN] CorsPolicyService did not allow origin: https://jwt.io
2019-12-16 11:03:33.274 +02:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-12-16 11:03:33.275 +02:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-12-16 11:03:33.275 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-12-16 11:03:33.281 +02:00 [DBG] Start discovery request
2019-12-16 11:10:31.326 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:10:31.326 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:10:31.326 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:10:31.327 +02:00 [DBG] Start token request.
2019-12-16 11:10:31.327 +02:00 [DBG] Start client validation
2019-12-16 11:10:31.327 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:10:31.327 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:10:31.327 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:10:31.327 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 11:10:31.327 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 11:10:31.328 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:10:31.328 +02:00 [DBG] Client validation success
2019-12-16 11:10:31.328 +02:00 [DBG] Start token request validation
2019-12-16 11:10:31.328 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:10:31.328 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 11:10:31.328 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:10:31.329 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 11:10:31.332 +02:00 [DBG] Token request success.
2019-12-16 11:10:44.014 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:10:44.014 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:10:44.014 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:10:44.014 +02:00 [DBG] Starting introspection request.
2019-12-16 11:10:44.015 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:10:44.015 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:10:44.015 +02:00 [DBG] No secret in post body found
2019-12-16 11:10:44.015 +02:00 [DBG] Parser found no secret
2019-12-16 11:10:44.015 +02:00 [ERR] No API secret found
2019-12-16 11:10:44.015 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 11:10:46.775 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:10:46.790 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:10:46.791 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:10:46.791 +02:00 [DBG] Start token request.
2019-12-16 11:10:46.791 +02:00 [DBG] Start client validation
2019-12-16 11:10:46.791 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:10:46.791 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:10:46.791 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:10:46.791 +02:00 [DBG] Secret id found: regixadminapiclient
2019-12-16 11:10:46.791 +02:00 [DBG] client configuration validation for client regixadminapiclient succeeded.
2019-12-16 11:10:46.791 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:10:46.791 +02:00 [DBG] Client validation success
2019-12-16 11:10:46.792 +02:00 [DBG] Start token request validation
2019-12-16 11:10:46.792 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:10:46.792 +02:00 [DBG] regixadminapiclient credentials token request validation success
2019-12-16 11:10:46.792 +02:00 [INF] Token request validation success, {"ClientId":"regixadminapiclient","ClientName":"RegiX Admin API","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"regixadminapiclient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:10:46.792 +02:00 [DBG] Getting claims for access token for client: regixadminapiclient
2019-12-16 11:10:46.797 +02:00 [DBG] Token request success.
2019-12-16 11:10:48.119 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:10:48.119 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:10:48.119 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:10:48.119 +02:00 [DBG] Starting introspection request.
2019-12-16 11:10:48.119 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:10:48.119 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:10:48.119 +02:00 [DBG] No secret in post body found
2019-12-16 11:10:48.120 +02:00 [DBG] Parser found no secret
2019-12-16 11:10:48.120 +02:00 [ERR] No API secret found
2019-12-16 11:10:48.120 +02:00 [ERR] API unauthorized to call introspection endpoint. aborting.
2019-12-16 11:14:53.896 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-16 11:14:53.953 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-16 11:14:53.964 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-16 11:14:53.964 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-16 11:14:53.964 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-16 11:14:53.964 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-16 11:14:53.964 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-16 11:14:53.964 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-16 11:14:54.361 +02:00 [DBG] Login Url: /Account/Login
2019-12-16 11:14:54.364 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 11:14:54.364 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-16 11:14:54.365 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-16 11:14:54.365 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 11:14:54.365 +02:00 [DBG] Error Url: /home/error
2019-12-16 11:14:54.365 +02:00 [DBG] Error Id Parameter: errorId
2019-12-16 11:14:54.400 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:14:54.567 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:14:54.567 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:14:54.576 +02:00 [DBG] Start token request.
2019-12-16 11:14:54.585 +02:00 [DBG] Start client validation
2019-12-16 11:14:54.593 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:14:54.599 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:14:54.619 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:14:54.619 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:14:54.637 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:14:54.649 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:14:54.649 +02:00 [DBG] Client validation success
2019-12-16 11:14:54.661 +02:00 [DBG] Start token request validation
2019-12-16 11:14:54.670 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:14:54.705 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:14:54.722 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:14:54.763 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:14:54.802 +02:00 [DBG] Token request success.
2019-12-16 11:14:56.872 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:14:56.874 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:14:56.874 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:14:56.887 +02:00 [DBG] Starting introspection request.
2019-12-16 11:14:56.894 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:14:56.895 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:14:56.896 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:14:56.899 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:14:56.899 +02:00 [DBG] API resource validation success
2019-12-16 11:14:56.906 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:14:56.931 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:14:56.967 +02:00 [DBG] Token is invalid.
2019-12-16 11:14:56.972 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:14:56.974 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:15:19.215 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:15:19.215 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:15:19.215 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:15:19.215 +02:00 [DBG] Start token request.
2019-12-16 11:15:19.215 +02:00 [DBG] Start client validation
2019-12-16 11:15:19.215 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:15:19.215 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:15:19.216 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:15:19.216 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:15:19.216 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:15:19.216 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:15:19.216 +02:00 [DBG] Client validation success
2019-12-16 11:15:19.217 +02:00 [DBG] Start token request validation
2019-12-16 11:15:19.217 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:15:19.217 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:15:19.218 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:15:19.218 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:15:19.218 +02:00 [DBG] Token request success.
2019-12-16 11:15:20.930 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:15:20.930 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:15:20.931 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:15:20.931 +02:00 [DBG] Starting introspection request.
2019-12-16 11:15:20.931 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:15:20.931 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:15:20.931 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:15:20.931 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:15:20.931 +02:00 [DBG] API resource validation success
2019-12-16 11:15:20.931 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:15:20.932 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:15:20.932 +02:00 [DBG] Token is invalid.
2019-12-16 11:15:20.932 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:15:20.933 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:15:47.078 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:15:47.078 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:15:47.078 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:15:47.078 +02:00 [DBG] Start token request.
2019-12-16 11:15:47.078 +02:00 [DBG] Start client validation
2019-12-16 11:15:47.078 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:15:47.079 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:15:47.079 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:15:47.079 +02:00 [DBG] Secret id found: test-client-globaladmin
2019-12-16 11:15:47.079 +02:00 [DBG] client configuration validation for client test-client-globaladmin succeeded.
2019-12-16 11:15:47.079 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:15:47.080 +02:00 [DBG] Client validation success
2019-12-16 11:15:47.080 +02:00 [DBG] Start token request validation
2019-12-16 11:15:47.080 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:15:47.080 +02:00 [DBG] test-client-globaladmin credentials token request validation success
2019-12-16 11:15:47.080 +02:00 [INF] Token request validation success, {"ClientId":"test-client-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:15:47.081 +02:00 [DBG] Getting claims for access token for client: test-client-globaladmin
2019-12-16 11:15:47.081 +02:00 [DBG] Token request success.
2019-12-16 11:15:58.776 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:15:58.776 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:15:58.776 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:15:58.777 +02:00 [DBG] Starting introspection request.
2019-12-16 11:15:58.777 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:15:58.777 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:15:58.777 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:15:58.777 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:15:58.777 +02:00 [DBG] API resource validation success
2019-12-16 11:15:58.777 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:15:58.777 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:15:58.778 +02:00 [DBG] Token is invalid.
2019-12-16 11:15:58.778 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:15:58.778 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:16:31.966 +02:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-12-16 11:16:32.021 +02:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-12-16 11:16:32.033 +02:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-12-16 11:16:32.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-12-16 11:16:32.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-12-16 11:16:32.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-12-16 11:16:32.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-12-16 11:16:32.033 +02:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-12-16 11:16:32.566 +02:00 [DBG] Login Url: /Account/Login
2019-12-16 11:16:32.569 +02:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-12-16 11:16:32.569 +02:00 [DBG] Logout Url: /Account/Logout
2019-12-16 11:16:32.569 +02:00 [DBG] ConsentUrl Url: /consent
2019-12-16 11:16:32.569 +02:00 [DBG] Consent Return Url Parameter: returnUrl
2019-12-16 11:16:32.569 +02:00 [DBG] Error Url: /home/error
2019-12-16 11:16:32.569 +02:00 [DBG] Error Id Parameter: errorId
2019-12-16 11:16:44.866 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:16:45.091 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:16:45.091 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:16:45.098 +02:00 [DBG] Start token request.
2019-12-16 11:16:45.105 +02:00 [DBG] Start client validation
2019-12-16 11:16:45.111 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:16:45.115 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:16:45.132 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:16:45.132 +02:00 [DBG] Secret id found: test-client-globaladmin
2019-12-16 11:16:45.149 +02:00 [DBG] client configuration validation for client test-client-globaladmin succeeded.
2019-12-16 11:16:45.161 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:16:45.161 +02:00 [DBG] Client validation success
2019-12-16 11:16:45.172 +02:00 [DBG] Start token request validation
2019-12-16 11:16:45.180 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:16:45.221 +02:00 [DBG] test-client-globaladmin credentials token request validation success
2019-12-16 11:16:45.239 +02:00 [INF] Token request validation success, {"ClientId":"test-client-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:16:45.287 +02:00 [DBG] Getting claims for access token for client: test-client-globaladmin
2019-12-16 11:16:45.322 +02:00 [DBG] Token request success.
2019-12-16 11:16:46.712 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:16:46.714 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:16:46.714 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:16:46.714 +02:00 [DBG] Start token request.
2019-12-16 11:16:46.714 +02:00 [DBG] Start client validation
2019-12-16 11:16:46.714 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:16:46.714 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:16:46.715 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:16:46.715 +02:00 [DBG] Secret id found: test-client-globaladmin
2019-12-16 11:16:46.715 +02:00 [DBG] client configuration validation for client test-client-globaladmin succeeded.
2019-12-16 11:16:46.715 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:16:46.715 +02:00 [DBG] Client validation success
2019-12-16 11:16:46.716 +02:00 [DBG] Start token request validation
2019-12-16 11:16:46.716 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:16:46.716 +02:00 [DBG] test-client-globaladmin credentials token request validation success
2019-12-16 11:16:46.716 +02:00 [INF] Token request validation success, {"ClientId":"test-client-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:16:46.716 +02:00 [DBG] Getting claims for access token for client: test-client-globaladmin
2019-12-16 11:16:46.717 +02:00 [DBG] Token request success.
2019-12-16 11:16:51.246 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:16:51.247 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:16:51.248 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:16:51.256 +02:00 [DBG] Starting introspection request.
2019-12-16 11:16:51.263 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:16:51.264 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:16:51.264 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:16:51.265 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:16:51.266 +02:00 [DBG] API resource validation success
2019-12-16 11:16:51.271 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:16:51.318 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:16:51.380 +02:00 [DBG] Token is invalid.
2019-12-16 11:16:51.385 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:16:51.387 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:17:08.616 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:17:08.616 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:17:08.616 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:17:08.617 +02:00 [DBG] Start token request.
2019-12-16 11:17:08.617 +02:00 [DBG] Start client validation
2019-12-16 11:17:08.617 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:17:08.617 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:17:08.617 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:17:08.617 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:17:08.617 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:17:08.617 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:17:08.617 +02:00 [DBG] Client validation success
2019-12-16 11:17:08.618 +02:00 [DBG] Start token request validation
2019-12-16 11:17:08.618 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:17:08.618 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:17:08.618 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:17:08.618 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:17:08.619 +02:00 [DBG] Token request success.
2019-12-16 11:17:11.679 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:17:11.680 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:17:11.680 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:17:11.680 +02:00 [DBG] Start token request.
2019-12-16 11:17:11.680 +02:00 [DBG] Start client validation
2019-12-16 11:17:11.680 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:17:11.680 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:17:11.682 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:17:11.682 +02:00 [DBG] Secret id found: test-admin-admin
2019-12-16 11:17:11.682 +02:00 [DBG] client configuration validation for client test-admin-admin succeeded.
2019-12-16 11:17:11.682 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:17:11.682 +02:00 [DBG] Client validation success
2019-12-16 11:17:11.683 +02:00 [DBG] Start token request validation
2019-12-16 11:17:11.683 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:17:11.683 +02:00 [DBG] test-admin-admin credentials token request validation success
2019-12-16 11:17:11.683 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-admin","ClientName":"RegiX Admin API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:17:11.683 +02:00 [DBG] Getting claims for access token for client: test-admin-admin
2019-12-16 11:17:11.684 +02:00 [DBG] Token request success.
2019-12-16 11:17:25.098 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:17:25.098 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:17:25.098 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:17:25.098 +02:00 [DBG] Start token request.
2019-12-16 11:17:25.098 +02:00 [DBG] Start client validation
2019-12-16 11:17:25.098 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:17:25.098 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:17:25.099 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:17:25.099 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:17:25.099 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:17:25.099 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:17:25.099 +02:00 [DBG] Client validation success
2019-12-16 11:17:25.099 +02:00 [DBG] Start token request validation
2019-12-16 11:17:25.099 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:17:25.100 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:17:31.904 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:17:31.904 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:17:31.904 +02:00 [DBG] Token request success.
2019-12-16 11:17:55.127 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:17:55.128 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:17:55.128 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:17:55.128 +02:00 [DBG] Starting introspection request.
2019-12-16 11:17:55.128 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:17:55.128 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:17:55.128 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:17:55.128 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:17:55.129 +02:00 [DBG] API resource validation success
2019-12-16 11:17:55.129 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:17:55.130 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:17:55.130 +02:00 [DBG] Token is invalid.
2019-12-16 11:17:55.130 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:17:55.130 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:32.970 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:32.971 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:32.971 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:32.971 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:32.971 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:32.971 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:32.971 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:32.971 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:32.971 +02:00 [DBG] API resource validation success
2019-12-16 11:18:32.972 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:32.985 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:32.988 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:32.988 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:32.988 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:32.989 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:34.072 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:34.072 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:34.072 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:34.072 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:34.072 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:34.072 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:34.072 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:34.072 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:34.072 +02:00 [DBG] API resource validation success
2019-12-16 11:18:34.073 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:34.073 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:34.073 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:34.073 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:34.073 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:34.073 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:34.593 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:34.593 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:34.593 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:34.593 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:34.594 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:34.594 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:34.594 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:34.594 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:34.594 +02:00 [DBG] API resource validation success
2019-12-16 11:18:34.594 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:34.594 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:34.594 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:34.594 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:34.594 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:34.595 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:34.954 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:34.955 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:34.955 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:34.955 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:34.955 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:34.955 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:34.955 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:34.955 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:34.955 +02:00 [DBG] API resource validation success
2019-12-16 11:18:34.956 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:34.956 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:34.956 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:34.956 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:34.956 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:34.956 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:35.112 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:35.112 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:35.112 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:35.112 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:35.112 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:35.113 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:35.113 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:35.113 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:35.113 +02:00 [DBG] API resource validation success
2019-12-16 11:18:35.114 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:35.114 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:35.114 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:35.115 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:35.115 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:35.115 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:35.290 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:35.291 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:35.291 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:35.291 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:35.291 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:35.291 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:35.291 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:35.292 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:35.292 +02:00 [DBG] API resource validation success
2019-12-16 11:18:35.292 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:35.293 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:35.293 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:35.293 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:35.293 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:35.293 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:35.479 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:35.479 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:35.480 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:35.480 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:35.480 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:35.480 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:35.480 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:35.480 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:35.480 +02:00 [DBG] API resource validation success
2019-12-16 11:18:35.481 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:35.481 +02:00 [DBG] reference_token grant with value: blah not found in store.
2019-12-16 11:18:35.481 +02:00 [ERR] Invalid reference token.
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":null,"TokenHandle":"blah","JwtId":null,"Claims":null,"$type":"TokenValidationLog"}
2019-12-16 11:18:35.481 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:35.481 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:35.481 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:18:45.666 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:18:45.666 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:18:45.666 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:18:45.666 +02:00 [DBG] Start token request.
2019-12-16 11:18:45.666 +02:00 [DBG] Start client validation
2019-12-16 11:18:45.666 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:45.666 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:18:45.667 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:18:45.667 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:18:45.667 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:18:45.667 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:45.667 +02:00 [DBG] Client validation success
2019-12-16 11:18:45.667 +02:00 [DBG] Start token request validation
2019-12-16 11:18:45.667 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:18:45.667 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:18:47.275 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:18:47.275 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:18:47.275 +02:00 [DBG] Token request success.
2019-12-16 11:18:55.045 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:18:55.045 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:18:55.045 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:18:55.045 +02:00 [DBG] Starting introspection request.
2019-12-16 11:18:55.045 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:18:55.045 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:18:55.046 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:18:55.046 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:18:55.046 +02:00 [DBG] API resource validation success
2019-12-16 11:18:55.046 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:18:55.047 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:18:55.047 +02:00 [DBG] Token is invalid.
2019-12-16 11:18:55.047 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:18:55.047 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2019-12-16 11:19:38.704 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:19:38.705 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:19:38.705 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:19:38.705 +02:00 [DBG] Start token request.
2019-12-16 11:19:38.705 +02:00 [DBG] Start client validation
2019-12-16 11:19:38.705 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:19:38.705 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:19:38.705 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:19:38.705 +02:00 [DBG] Secret id found: testc-lient-globaladmin
2019-12-16 11:19:38.706 +02:00 [ERR] No client with id 'testc-lient-globaladmin' found. aborting
2019-12-16 11:19:51.567 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:19:51.567 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:19:51.567 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:19:51.567 +02:00 [DBG] Start token request.
2019-12-16 11:19:51.567 +02:00 [DBG] Start client validation
2019-12-16 11:19:51.567 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:19:51.567 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:19:51.568 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:19:51.568 +02:00 [DBG] Secret id found: test-client-globaladmin
2019-12-16 11:19:51.568 +02:00 [DBG] client configuration validation for client test-client-globaladmin succeeded.
2019-12-16 11:19:51.568 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:19:51.568 +02:00 [DBG] Client validation success
2019-12-16 11:19:51.568 +02:00 [DBG] Start token request validation
2019-12-16 11:19:51.568 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:19:51.568 +02:00 [DBG] test-client-globaladmin credentials token request validation success
2019-12-16 11:19:52.733 +02:00 [INF] Token request validation success, {"ClientId":"test-client-globaladmin","ClientName":"RegiX Client API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:19:52.733 +02:00 [DBG] Getting claims for access token for client: test-client-globaladmin
2019-12-16 11:19:52.733 +02:00 [DBG] Token request success.
2019-12-16 11:20:03.479 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:20:03.479 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:20:03.479 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:20:03.479 +02:00 [DBG] Start token request.
2019-12-16 11:20:03.479 +02:00 [DBG] Start client validation
2019-12-16 11:20:03.480 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:20:03.480 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:20:03.480 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:20:03.480 +02:00 [DBG] Secret id found: test-client-admin
2019-12-16 11:20:03.480 +02:00 [DBG] client configuration validation for client test-client-admin succeeded.
2019-12-16 11:20:03.480 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:20:03.480 +02:00 [DBG] Client validation success
2019-12-16 11:20:03.480 +02:00 [DBG] Start token request validation
2019-12-16 11:20:03.480 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:20:03.481 +02:00 [DBG] test-client-admin credentials token request validation success
2019-12-16 11:20:04.678 +02:00 [INF] Token request validation success, {"ClientId":"test-client-admin","ClientName":"RegiX Client API Client - ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-client-admin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:20:04.678 +02:00 [DBG] Getting claims for access token for client: test-client-admin
2019-12-16 11:20:04.678 +02:00 [DBG] Token request success.
2019-12-16 11:20:49.708 +02:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-12-16 11:20:49.708 +02:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-12-16 11:20:49.708 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-12-16 11:20:49.708 +02:00 [DBG] Start token request.
2019-12-16 11:20:49.708 +02:00 [DBG] Start client validation
2019-12-16 11:20:49.708 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:20:49.708 +02:00 [DBG] Start parsing for secret in post body
2019-12-16 11:20:49.708 +02:00 [DBG] Parser found secret: PostBodySecretParser
2019-12-16 11:20:49.709 +02:00 [DBG] Secret id found: test-admin-globaladmin
2019-12-16 11:20:49.709 +02:00 [DBG] client configuration validation for client test-admin-globaladmin succeeded.
2019-12-16 11:20:49.709 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:20:49.709 +02:00 [DBG] Client validation success
2019-12-16 11:20:49.709 +02:00 [DBG] Start token request validation
2019-12-16 11:20:49.709 +02:00 [DBG] Start client credentials token request validation
2019-12-16 11:20:49.709 +02:00 [DBG] test-admin-globaladmin credentials token request validation success
2019-12-16 11:20:50.859 +02:00 [INF] Token request validation success, {"ClientId":"test-admin-globaladmin","ClientName":"RegiX Admin API Client - GLOBAL_ADMIN","GrantType":"client_credentials","Scopes":"regixadminapi","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"test-admin-globaladmin","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-12-16 11:20:50.859 +02:00 [DBG] Getting claims for access token for client: test-admin-globaladmin
2019-12-16 11:20:50.859 +02:00 [DBG] Token request success.
2019-12-16 11:20:53.895 +02:00 [DBG] Request path /connect/introspect matched to endpoint type Introspection
2019-12-16 11:20:53.896 +02:00 [DBG] Endpoint enabled: Introspection, successfully created handler: IdentityServer4.Endpoints.IntrospectionEndpoint
2019-12-16 11:20:53.896 +02:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.IntrospectionEndpoint for /connect/introspect
2019-12-16 11:20:53.896 +02:00 [DBG] Starting introspection request.
2019-12-16 11:20:53.896 +02:00 [DBG] Start parsing Basic Authentication secret
2019-12-16 11:20:53.896 +02:00 [DBG] Parser found secret: BasicAuthenticationSecretParser
2019-12-16 11:20:53.896 +02:00 [DBG] Secret id found: regixadminapi
2019-12-16 11:20:53.896 +02:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-12-16 11:20:53.896 +02:00 [DBG] API resource validation success
2019-12-16 11:20:53.897 +02:00 [DBG] Introspection request validation started.
2019-12-16 11:20:53.897 +02:00 [ERR] JWT token validation error: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
System.ArgumentException: IDX12741: JWT: '[PII is hidden]' must have three segments (JWS) or five segments (JWE).
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\15\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 733
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-12-16 11:20:53.898 +02:00 [DBG] Token is invalid.
2019-12-16 11:20:53.898 +02:00 [DBG] Creating introspection response for inactive token.
2019-12-16 11:20:53.898 +02:00 [INF] Success token introspection. Token active: false, for API name: regixadminapi
2020-04-05 23:07:32.022 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-05 23:07:32.082 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-05 23:07:32.092 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-05 23:07:32.092 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-05 23:07:32.092 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-05 23:07:32.092 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-05 23:07:32.092 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-05 23:07:32.092 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-05 23:07:32.877 +03:00 [DBG] Login Url: /Account/Login
2020-04-05 23:07:32.880 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-05 23:07:32.880 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-05 23:07:32.880 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-05 23:07:32.880 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-05 23:07:32.880 +03:00 [DBG] Error Url: /home/error
2020-04-05 23:07:32.880 +03:00 [DBG] Error Id Parameter: errorId
2020-04-05 23:11:22.356 +03:00 [ERR] Failed executing DbCommand (336ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = Decimal), @p2='?' (DbType = DateTime), @p3='?' (Size = 200) (DbType = AnsiString), @p4='?', @p5='?' (DbType = DateTime), @p6='?', @p7='?' (DbType = DateTime), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = DateTime), @p16='?' (Size = 200) (DbType = AnsiString), @p17='?' (Size = 4000) (DbType = AnsiString), @p18='?' (Size = 4000) (DbType = AnsiString), @p19='?' (Size = 4000) (DbType = AnsiString), @p20='?' (DbType = DateTime), @p21='?' (Size = 128), @p22='?' (Size = 4000) (DbType = AnsiString), @p23='?' (Size = 200) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [USERS] ([ACTIVE], [ADMINISTRATION_ID], [CREATE_DATE], [EMAIL], [FAILED_PSWD_ANS_ATMP_COUNT], [FAILED_PSWD_ANS_ATMP_WDW_START], [FAILED_PSWD_ATMP_COUNT], [FAILED_PSWD_ATMP_WDW_START], [IS_ADMIN], [IS_ANONYMOUS], [IS_APPROVED], [IS_LOCKED_OUT], [LAST_ACTIVITY_DATE], [LAST_LOCKOUT_DATE], [LAST_LOGIN_DATE], [LAST_PASSWORD_CHANGED_DATE], [NAME], [PASSWORD], [PASSWORD_ANSWER], [PASSWORD_QUESTION], [PSWD_VER_TOKEN_EXPIRATION_DATE], [PSWD_VERIFICATION_TOKEN], [USER_COMMENT], [USER_NAME])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
SELECT [USER_ID], [CREATED_BY], [UPDATED_BY], [UPDATED_ON]
FROM [USERS]
WHERE @@ROWCOUNT = 1 AND [USER_ID] = scope_identity();
System.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_USER_ADMINISTRATION". The conflict occurred in database "regix2.NewTableTests", table "dbo.ADMINISTRATIONS", column 'ADMINISTRATION_ID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
ClientConnectionId:2e5dd0f4-4d49-4da3-8d4b-f8c0882a8f0e
Error Number:547,State:0,Class:16
2020-04-05 23:11:22.695 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'RegiX.IdentityServer.RegiXAdminContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_USER_ADMINISTRATION". The conflict occurred in database "regix2.NewTableTests", table "dbo.ADMINISTRATIONS", column 'ADMINISTRATION_ID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_USER_ADMINISTRATION". The conflict occurred in database "regix2.NewTableTests", table "dbo.ADMINISTRATIONS", column 'ADMINISTRATION_ID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2020-04-05 23:11:23.407 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: The INSERT statement conflicted with the FOREIGN KEY constraint "FK_USER_ADMINISTRATION". The conflict occurred in database "regix2.NewTableTests", table "dbo.ADMINISTRATIONS", column 'ADMINISTRATION_ID'.
The statement has been terminated.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at TechnoLogica.RegiX.IdentityServer.AdminAppCredentials.AdminProfileService.RegisterUser(String name, String userName, String email, String password, Int32 administrationID) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer.AdminAppCredentials\AdminProfileService.cs:line 109
   at RegiX.IdentityServer.UserValidator.RegisterUser(String clientID, String name, String userName, String email, String password, Int32 administrationID) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\UserValidator.cs:line 40
   at RegiX.IdentityServer.AccountController.Register(String client, RegisterRequestViewModel model) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 244
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-06 18:14:30.071 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-06 18:14:30.148 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-06 18:14:30.162 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-06 18:14:30.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-06 18:14:30.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-06 18:14:30.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-06 18:14:30.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-06 18:14:30.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-06 18:14:30.943 +03:00 [DBG] Login Url: /Account/Login
2020-04-06 18:14:30.946 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-06 18:14:30.946 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-06 18:14:30.947 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-06 18:14:30.947 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-06 18:14:30.947 +03:00 [DBG] Error Url: /home/error
2020-04-06 18:14:30.947 +03:00 [DBG] Error Id Parameter: errorId
2020-04-06 18:14:48.146 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: The method or operation is not implemented.
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.GetCertificateStoreName(String key) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 76
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 173
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.ExternalController.ProcessEAuthLoginAsync(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\ExternalController.cs:line 155
   at RegiX.IdentityServer.ExternalController.Challenge(String provider, String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\ExternalController.cs:line 70
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 00:12:30.711 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:12:30.896 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:12:30.927 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:12:30.927 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:12:30.927 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:12:30.927 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:12:30.927 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:12:30.928 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:12:32.273 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:12:32.280 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:12:32.280 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:12:32.280 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:12:32.281 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:12:32.281 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:12:32.281 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:12:52.050 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: The method or operation is not implemented.
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.GetCertificateStoreName(String key) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 76
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 173
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.Quickstart.Account.LoginController.PersonalSignature(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 23
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 00:22:50.656 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:22:50.779 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:22:50.795 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:22:50.795 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:22:50.795 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:22:50.795 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:22:50.795 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:22:50.795 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:22:51.635 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:22:51.639 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:22:51.639 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:22:51.639 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:22:51.640 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:22:51.640 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:22:51.640 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:25:41.202 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:25:41.313 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:25:41.323 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:25:41.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:25:41.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:25:41.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:25:41.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:25:41.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:25:42.379 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:25:42.386 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:25:42.386 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:25:42.387 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:25:42.387 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:25:42.387 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:25:42.387 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:26:01.993 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The layout view '~/Views/Shared/_LayoutLogin.cshtml' could not be located. The following locations were searched:
~/Views/Shared/_LayoutLogin.cshtml
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.GetLayoutPage(ViewContext context, String executingFilePath, String layoutPath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderLayoutAsync(ViewContext context, ViewBufferTextWriter bodyWriter)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 00:26:53.656 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:26:53.797 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:26:53.824 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:26:53.824 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:26:53.824 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:26:53.824 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:26:53.825 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:26:53.825 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:26:54.966 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:26:54.975 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:26:54.975 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:26:54.975 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:26:54.976 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:26:54.976 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:26:54.976 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:30:04.676 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:30:04.746 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:30:04.758 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:30:04.758 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:30:04.759 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:30:04.759 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:30:04.759 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:30:04.759 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:30:05.662 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:30:05.667 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:30:05.668 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:30:05.668 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:30:05.668 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:30:05.668 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:30:05.668 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:30:49.104 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:30:49.179 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:30:49.223 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:30:49.224 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:30:49.224 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:30:49.224 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:30:49.224 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:30:49.224 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:30:50.001 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:30:50.007 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:30:50.008 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:30:50.008 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:30:50.008 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:30:50.008 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:30:50.008 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:38:15.677 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:38:15.744 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:38:15.756 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:38:15.756 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:38:15.756 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:38:15.756 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:38:15.756 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:38:15.756 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:38:16.593 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:38:16.599 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:38:16.599 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:38:16.599 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:38:16.599 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:38:16.600 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:38:16.600 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 00:41:15.629 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 00:41:15.752 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 00:41:15.783 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 00:41:15.783 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 00:41:15.783 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 00:41:15.783 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 00:41:15.784 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 00:41:15.784 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 00:41:16.692 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 00:41:16.694 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 00:41:16.694 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 00:41:16.695 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 00:41:16.695 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 00:41:16.695 +03:00 [DBG] Error Url: /home/error
2020-04-07 00:41:16.695 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 07:51:42.806 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 07:51:42.865 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 07:51:42.878 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 07:51:42.878 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 07:51:42.878 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 07:51:42.878 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 07:51:42.878 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 07:51:42.878 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 07:51:43.364 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 07:51:43.367 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 07:51:43.367 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 07:51:43.367 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 07:51:43.367 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 07:51:43.367 +03:00 [DBG] Error Url: /home/error
2020-04-07 07:51:43.367 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 07:57:50.529 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 07:57:50.589 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 07:57:50.598 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 07:57:50.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 07:57:50.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 07:57:50.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 07:57:50.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 07:57:50.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 07:57:51.097 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 07:57:51.100 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 07:57:51.100 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 07:57:51.100 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 07:57:51.100 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 07:57:51.101 +03:00 [DBG] Error Url: /home/error
2020-04-07 07:57:51.101 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 08:31:31.011 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 08:31:31.069 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 08:31:31.080 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 08:31:31.080 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 08:31:31.080 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 08:31:31.080 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 08:31:31.080 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 08:31:31.080 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 08:31:31.668 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 08:31:31.671 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 08:31:31.671 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 08:31:31.671 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 08:31:31.671 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 08:31:31.672 +03:00 [DBG] Error Url: /home/error
2020-04-07 08:31:31.672 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 11:37:33.291 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 11:37:33.373 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 11:37:33.384 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 11:37:33.384 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 11:37:33.384 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 11:37:33.384 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 11:37:33.384 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 11:37:33.384 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 11:37:34.316 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 11:37:34.319 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 11:37:34.319 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 11:37:34.319 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 11:37:34.319 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 11:37:34.319 +03:00 [DBG] Error Url: /home/error
2020-04-07 11:37:34.319 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 11:39:29.566 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 11:39:29.613 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 11:39:29.622 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 11:39:29.622 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 11:39:29.622 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 11:39:29.622 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 11:39:29.622 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 11:39:29.622 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 11:39:30.115 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 11:39:30.119 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 11:39:30.120 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 11:39:30.120 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 11:39:30.120 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 11:39:30.120 +03:00 [DBG] Error Url: /home/error
2020-04-07 11:39:30.120 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 11:42:42.873 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 11:42:42.919 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 11:42:42.929 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 11:42:42.930 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 11:42:42.930 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 11:42:42.930 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 11:42:42.930 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 11:42:42.930 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 11:42:43.367 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 11:42:43.370 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 11:42:43.370 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 11:42:43.370 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 11:42:43.370 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 11:42:43.370 +03:00 [DBG] Error Url: /home/error
2020-04-07 11:42:43.370 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 11:59:39.957 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 11:59:40.041 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 11:59:40.054 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 11:59:40.055 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 11:59:40.055 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 11:59:40.055 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 11:59:40.055 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 11:59:40.055 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 11:59:40.762 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 11:59:40.767 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 11:59:40.767 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 11:59:40.767 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 11:59:40.767 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 11:59:40.767 +03:00 [DBG] Error Url: /home/error
2020-04-07 11:59:40.767 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:08:25.529 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:08:25.589 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:08:25.598 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:08:25.598 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:08:25.599 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:08:25.599 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:08:25.599 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:08:25.599 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:08:26.084 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:08:26.088 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:08:26.088 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:08:26.088 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:08:26.088 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:08:26.088 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:08:26.088 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:10:50.100 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:10:50.153 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:10:50.162 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:10:50.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:10:50.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:10:50.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:10:50.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:10:50.162 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:10:50.811 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:10:50.813 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:10:50.813 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:10:50.814 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:10:50.814 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:10:50.814 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:10:50.814 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:28:57.060 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:28:57.122 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:28:57.133 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:28:57.133 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:28:57.133 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:28:57.134 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:28:57.134 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:28:57.134 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:28:57.686 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:28:57.688 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:28:57.688 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:28:57.688 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:28:57.688 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:28:57.688 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:28:57.688 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:35:00.182 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:35:00.274 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:35:00.286 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:35:00.286 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:35:00.286 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:35:00.286 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:35:00.286 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:35:00.286 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:35:00.901 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:35:00.904 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:35:00.904 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:35:00.904 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:35:00.904 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:35:00.904 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:35:00.904 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:35:15.064 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Requested value 'LocalUser' was not found.
   at System.Enum.TryParseEnum(Type enumType, String value, Boolean ignoreCase, EnumResult& parseResult)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.GetCertificateStoreLocation(String key) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 69
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 171
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.Quickstart.Account.LoginController.PersonalSignature(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 23
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 12:35:26.119 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Requested value 'LocalUser' was not found.
   at System.Enum.TryParseEnum(Type enumType, String value, Boolean ignoreCase, EnumResult& parseResult)
   at System.Enum.Parse(Type enumType, String value, Boolean ignoreCase)
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.GetCertificateStoreLocation(String key) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 69
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 171
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.Quickstart.Account.LoginController.PersonalSignature(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 23
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 12:36:12.261 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:36:12.316 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:36:12.327 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:36:12.327 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:36:12.328 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:36:12.328 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:36:12.328 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:36:12.328 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:36:12.928 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:36:12.931 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:36:12.931 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:36:12.931 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:36:12.931 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:36:12.931 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:36:12.931 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 12:44:16.670 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 12:44:16.719 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 12:44:16.730 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 12:44:16.730 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 12:44:16.730 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 12:44:16.730 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 12:44:16.730 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 12:44:16.730 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 12:44:17.332 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 12:44:17.334 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 12:44:17.334 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 12:44:17.334 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 12:44:17.334 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 12:44:17.334 +03:00 [DBG] Error Url: /home/error
2020-04-07 12:44:17.334 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 13:18:02.745 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 13:18:02.797 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 13:18:02.806 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 13:18:02.806 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 13:18:02.806 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 13:18:02.806 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 13:18:02.806 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 13:18:02.806 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 13:18:03.346 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 13:18:03.348 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 13:18:03.348 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 13:18:03.348 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 13:18:03.348 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 13:18:03.348 +03:00 [DBG] Error Url: /home/error
2020-04-07 13:18:03.348 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 13:18:11.432 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Internal.Cryptography.CryptoThrowHelper+WindowsCryptographicException: Keyset does not exist
   at Internal.NativeCrypto.CapiHelper.CreateProvHandle(CspParameters parameters, Boolean randomKeyContainer)
   at System.Security.Cryptography.RSACryptoServiceProvider.get_SafeProvHandle()
   at System.Security.Cryptography.RSACryptoServiceProvider.get_SafeKeyHandle()
   at System.Security.Cryptography.RSACryptoServiceProvider..ctor(Int32 keySize, CspParameters parameters, Boolean useDefaultKeySize)
   at System.Security.Cryptography.RSACryptoServiceProvider..ctor(CspParameters parameters)
   at Internal.Cryptography.Pal.CertificatePal.<>c.<GetRSAPrivateKey>b__61_0(CspParameters csp)
   at Internal.Cryptography.Pal.CertificatePal.GetPrivateKey[T](Func`2 createCsp, Func`2 createCng)
   at Internal.Cryptography.Pal.CertificatePal.GetRSAPrivateKey()
   at System.Security.Cryptography.X509Certificates.X509Certificate2.get_PrivateKey()
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateSignatureWithCertificate(XmlElement doc, X509Certificate2 cert) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 136
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 179
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.Quickstart.Account.LoginController.PersonalSignature(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 23
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 13:19:23.860 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 13:19:23.914 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 13:19:23.923 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 13:19:23.923 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 13:19:23.923 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 13:19:23.923 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 13:19:23.923 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 13:19:23.923 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 13:19:24.458 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 13:19:24.461 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 13:19:24.461 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 13:19:24.461 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 13:19:24.461 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 13:19:24.461 +03:00 [DBG] Error Url: /home/error
2020-04-07 13:19:24.461 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 13:21:47.157 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 13:21:47.213 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 13:21:47.222 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 13:21:47.222 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 13:21:47.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 13:21:47.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 13:21:47.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 13:21:47.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 13:21:47.754 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 13:21:47.757 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 13:21:47.757 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 13:21:47.757 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 13:21:47.757 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 13:21:47.757 +03:00 [DBG] Error Url: /home/error
2020-04-07 13:21:47.757 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 14:37:23.540 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 14:37:23.652 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 14:37:23.672 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 14:37:23.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 14:37:23.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 14:37:23.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 14:37:23.674 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 14:37:23.674 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 14:37:24.297 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 14:37:24.300 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 14:37:24.300 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 14:37:24.301 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 14:37:24.301 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 14:37:24.301 +03:00 [DBG] Error Url: /home/error
2020-04-07 14:37:24.301 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 15:53:13.524 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 15:53:13.612 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 15:53:13.621 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 15:53:13.621 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 15:53:13.621 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 15:53:13.621 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 15:53:13.621 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 15:53:13.621 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 15:53:14.574 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 15:53:14.580 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 15:53:14.580 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 15:53:14.580 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 15:53:14.580 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 15:53:14.580 +03:00 [DBG] Error Url: /home/error
2020-04-07 15:53:14.580 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 15:57:05.533 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 15:57:05.587 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 15:57:05.597 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 15:57:05.597 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 15:57:05.597 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 15:57:05.597 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 15:57:05.597 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 15:57:05.597 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 15:57:06.045 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 15:57:06.048 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 15:57:06.048 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 15:57:06.048 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 15:57:06.048 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 15:57:06.048 +03:00 [DBG] Error Url: /home/error
2020-04-07 15:57:06.048 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 15:59:24.998 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 15:59:25.075 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 15:59:25.085 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 15:59:25.085 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 15:59:25.085 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 15:59:25.085 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 15:59:25.086 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 15:59:25.086 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 15:59:25.628 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 15:59:25.634 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 15:59:25.634 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 15:59:25.634 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 15:59:25.634 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 15:59:25.634 +03:00 [DBG] Error Url: /home/error
2020-04-07 15:59:25.634 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 16:27:14.501 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 16:27:14.552 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 16:27:14.562 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 16:27:14.562 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 16:27:14.562 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 16:27:14.563 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 16:27:14.563 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 16:27:14.563 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 16:27:15.298 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 16:27:15.301 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 16:27:15.301 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 16:27:15.301 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 16:27:15.301 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 16:27:15.301 +03:00 [DBG] Error Url: /home/error
2020-04-07 16:27:15.301 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 16:59:20.294 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 16:59:20.343 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 16:59:20.352 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 16:59:20.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 16:59:20.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 16:59:20.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 16:59:20.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 16:59:20.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 16:59:20.773 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 16:59:20.775 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 16:59:20.776 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 16:59:20.776 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 16:59:20.776 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 16:59:20.776 +03:00 [DBG] Error Url: /home/error
2020-04-07 16:59:20.776 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 17:04:10.180 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 17:04:10.254 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 17:04:10.264 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 17:04:10.264 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 17:04:10.264 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 17:04:10.264 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 17:04:10.264 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 17:04:10.264 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 17:04:10.871 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 17:04:10.874 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 17:04:10.874 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 17:04:10.874 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 17:04:10.874 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 17:04:10.874 +03:00 [DBG] Error Url: /home/error
2020-04-07 17:04:10.874 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 17:04:20.427 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Security.Cryptography.RSACng' to type 'System.Security.Cryptography.DSA'.
   at System.Security.Cryptography.DSASignatureFormatter.SetKey(AsymmetricAlgorithm key)
   at System.Security.Cryptography.Xml.DSASignatureDescription.CreateFormatter(AsymmetricAlgorithm key)
   at System.Security.Cryptography.Xml.SignedXml.ComputeSignature()
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateSignatureWithCertificate(XmlElement doc, X509Certificate2 cert) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 158
   at RegiX.IdentityServer.Quickstart.Account.SigningUtils.CreateEAuthSignature[T](T obj, XmlSerializerNamespaces ns) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\SigningUtils.cs:line 181
   at ESTI.Common.EAuthUtils.SignRequestWithCertificate(AuthnRequestType arg) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 103
   at RegiX.IdentityServer.Quickstart.Account.LoginController.PersonalSignature(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 23
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 17:10:20.825 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 17:10:20.907 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 17:10:20.921 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 17:10:20.921 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 17:10:20.921 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 17:10:20.921 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 17:10:20.921 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 17:10:20.921 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 17:10:21.585 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 17:10:21.588 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 17:10:21.588 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 17:10:21.588 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 17:10:21.588 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 17:10:21.588 +03:00 [DBG] Error Url: /home/error
2020-04-07 17:10:21.588 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 18:42:07.706 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 18:42:07.758 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 18:42:07.767 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 18:42:07.767 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 18:42:07.767 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 18:42:07.767 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 18:42:07.767 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 18:42:07.768 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 18:42:08.394 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 18:42:08.398 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 18:42:08.398 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 18:42:08.399 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 18:42:08.399 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 18:42:08.399 +03:00 [DBG] Error Url: /home/error
2020-04-07 18:42:08.399 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 18:43:28.018 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 18:43:28.065 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 18:43:28.074 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 18:43:28.074 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 18:43:28.074 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 18:43:28.074 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 18:43:28.074 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 18:43:28.074 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 18:43:28.593 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 18:43:28.596 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 18:43:28.596 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 18:43:28.596 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 18:43:28.596 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 18:43:28.596 +03:00 [DBG] Error Url: /home/error
2020-04-07 18:43:28.596 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 18:44:15.832 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 18:44:39.364 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: The method or operation is not implemented.
   at RegiX.IdentityServer.Quickstart.Account.LoginController.AuthenticateCertificate() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 134
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 18:49:17.760 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 18:49:17.810 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 18:49:17.819 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 18:49:17.819 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 18:49:17.819 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 18:49:17.819 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 18:49:17.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 18:49:17.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 18:49:18.229 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 18:49:18.232 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 18:49:18.232 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 18:49:18.232 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 18:49:18.232 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 18:49:18.232 +03:00 [DBG] Error Url: /home/error
2020-04-07 18:49:18.232 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 18:50:16.333 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 19:03:07.861 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 19:03:07.913 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 19:03:07.922 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 19:03:07.922 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 19:03:07.922 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 19:03:07.922 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 19:03:07.922 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 19:03:07.922 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 19:03:08.776 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 19:03:08.778 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 19:03:08.778 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 19:03:08.778 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 19:03:08.778 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 19:03:08.778 +03:00 [DBG] Error Url: /home/error
2020-04-07 19:03:08.778 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 19:04:03.685 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 19:40:15.365 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.IO.FileNotFoundException: Could not find file 'E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\bgEgovEAuthenticatorSigning.cer'.
File name: 'E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\bgEgovEAuthenticatorSigning.cer'
   at System.IO.FileStream.ValidateFileHandle(SafeFileHandle fileHandle)
   at System.IO.FileStream.CreateFileOpenHandle(FileMode mode, FileShare share, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize)
   at System.IO.File.ReadAllBytes(String path)
   at RegiX.IdentityServer.Quickstart.Account.LoginController.AuthenticateCertificate() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\LoginController.cs:line 84
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 19:41:28.606 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 19:41:28.662 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 19:41:28.672 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 19:41:28.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 19:41:28.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 19:41:28.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 19:41:28.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 19:41:28.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 19:41:29.185 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 19:41:29.189 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 19:41:29.189 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 19:41:29.189 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 19:41:29.189 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 19:41:29.189 +03:00 [DBG] Error Url: /home/error
2020-04-07 19:41:29.189 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 19:42:20.734 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 19:54:17.442 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 19:54:17.493 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 19:54:17.502 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 19:54:17.502 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 19:54:17.502 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 19:54:17.503 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 19:54:17.503 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 19:54:17.503 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 19:54:17.867 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 19:54:17.870 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 19:54:17.870 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 19:54:17.870 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 19:54:17.870 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 19:54:17.870 +03:00 [DBG] Error Url: /home/error
2020-04-07 19:54:17.870 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 19:55:05.243 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 19:57:42.763 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 19:57:42.811 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 19:57:42.819 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 19:57:42.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 19:57:42.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 19:57:42.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 19:57:42.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 19:57:42.820 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 19:57:43.381 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 19:57:43.384 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 19:57:43.384 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 19:57:43.384 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 19:57:43.384 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 19:57:43.384 +03:00 [DBG] Error Url: /home/error
2020-04-07 19:57:43.384 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 19:58:38.064 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 20:03:12.480 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 20:03:12.530 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 20:03:12.539 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 20:03:12.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 20:03:12.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 20:03:12.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 20:03:12.540 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 20:03:12.540 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 20:03:13.034 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 20:03:13.036 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 20:03:13.036 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 20:03:13.036 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 20:03:13.037 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 20:03:13.037 +03:00 [DBG] Error Url: /home/error
2020-04-07 20:03:13.037 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 20:04:07.162 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 20:09:44.529 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Login/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-07 20:09:45.219 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Login/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-07 20:11:12.098 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-07 20:18:21.630 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-07 20:18:21.688 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-07 20:18:21.699 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-07 20:18:21.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-07 20:18:21.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-07 20:18:21.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-07 20:18:21.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-07 20:18:21.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-07 20:18:22.583 +03:00 [DBG] Login Url: /Account/Login
2020-04-07 20:18:22.585 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-07 20:18:22.585 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-07 20:18:22.585 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-07 20:18:22.585 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-07 20:18:22.585 +03:00 [DBG] Error Url: /home/error
2020-04-07 20:18:22.586 +03:00 [DBG] Error Id Parameter: errorId
2020-04-07 20:19:22.974 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 10:37:50.565 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 10:37:50.685 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 10:37:50.714 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 10:37:50.714 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 10:37:50.714 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 10:37:50.714 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 10:37:50.714 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 10:37:50.714 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 10:37:51.566 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 10:37:51.571 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 10:37:51.571 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 10:37:51.572 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 10:37:51.572 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 10:37:51.572 +03:00 [DBG] Error Url: /home/error
2020-04-08 10:37:51.572 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 10:44:16.905 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 10:44:16.980 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 10:44:16.997 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 10:44:16.997 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 10:44:16.997 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 10:44:16.997 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 10:44:16.997 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 10:44:16.998 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 10:44:17.610 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 10:44:17.614 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 10:44:17.614 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 10:44:17.615 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 10:44:17.615 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 10:44:17.615 +03:00 [DBG] Error Url: /home/error
2020-04-08 10:44:17.615 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 10:44:35.891 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 10:44:35.973 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 10:44:35.987 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 10:44:35.987 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 10:44:35.987 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 10:44:35.987 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 10:44:35.987 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 10:44:35.987 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 10:44:36.700 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 10:44:36.703 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 10:44:36.703 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 10:44:36.703 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 10:44:36.703 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 10:44:36.703 +03:00 [DBG] Error Url: /home/error
2020-04-08 10:44:36.704 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 10:49:49.116 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 10:49:49.197 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 10:49:49.211 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 10:49:49.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 10:49:49.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 10:49:49.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 10:49:49.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 10:49:49.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 10:49:49.837 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 10:49:49.841 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 10:49:49.841 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 10:49:49.841 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 10:49:49.841 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 10:49:49.841 +03:00 [DBG] Error Url: /home/error
2020-04-08 10:49:49.841 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 10:59:06.208 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 10:59:06.279 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 10:59:06.294 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 10:59:06.294 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 10:59:06.294 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 10:59:06.294 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 10:59:06.294 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 10:59:06.294 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 10:59:06.831 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 10:59:06.835 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 10:59:06.835 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 10:59:06.835 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 10:59:06.835 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 10:59:06.835 +03:00 [DBG] Error Url: /home/error
2020-04-08 10:59:06.836 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:14:01.474 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:14:01.564 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:14:01.585 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:14:01.585 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:14:01.585 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:14:01.586 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:14:01.586 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:14:01.586 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:14:02.184 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:14:02.188 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:14:02.188 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:14:02.188 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:14:02.188 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:14:02.188 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:14:02.189 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:20:41.561 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:20:41.651 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:20:41.664 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:20:41.664 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:20:41.664 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:20:41.664 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:20:41.664 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:20:41.664 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:20:42.354 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:20:42.358 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:20:42.358 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:20:42.358 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:20:42.358 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:20:42.358 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:20:42.358 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:24:24.456 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:24:24.532 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:24:24.545 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:24:24.545 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:24:24.545 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:24:24.545 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:24:24.545 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:24:24.546 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:24:25.160 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:24:25.165 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:24:25.165 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:24:25.165 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:24:25.165 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:24:25.165 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:24:25.165 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:25:43.811 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:25:43.882 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:25:43.899 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:25:43.900 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:25:43.900 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:25:43.900 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:25:43.900 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:25:43.900 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:25:44.527 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:25:44.530 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:25:44.530 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:25:44.530 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:25:44.530 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:25:44.531 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:25:44.531 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:26:26.706 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:26:26.780 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:26:26.792 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:26:26.793 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:26:26.793 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:26:26.793 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:26:26.793 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:26:26.793 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:26:27.306 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:26:27.310 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:26:27.310 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:26:27.310 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:26:27.310 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:26:27.310 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:26:27.310 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:27:47.429 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 11:27:48.157 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Login/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 11:27:48.942 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Login/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 11:29:29.018 +03:00 [DBG] CORS request made for path: /Login/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 11:29:55.716 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Login/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 11:29:56.434 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Login/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 11:41:42.047 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:41:42.125 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:41:42.138 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:41:42.138 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:41:42.138 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:41:42.138 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:41:42.138 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:41:42.138 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:41:42.917 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:41:42.920 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:41:42.920 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:41:42.920 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:41:42.920 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:41:42.920 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:41:42.920 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:42:32.263 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 11:45:32.026 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 11:45:32.850 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 11:55:31.498 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 11:55:31.569 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 11:55:31.583 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 11:55:31.583 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 11:55:31.583 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 11:55:31.583 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 11:55:31.583 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 11:55:31.583 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 11:55:32.284 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 11:55:32.289 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 11:55:32.289 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 11:55:32.289 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 11:55:32.289 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 11:55:32.289 +03:00 [DBG] Error Url: /home/error
2020-04-08 11:55:32.290 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 11:56:27.179 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 11:57:43.372 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 11:57:44.231 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 12:23:59.073 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 12:23:59.160 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 12:23:59.175 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 12:23:59.175 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 12:23:59.175 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 12:23:59.175 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 12:23:59.175 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 12:23:59.176 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 12:23:59.962 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 12:23:59.966 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 12:23:59.966 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 12:23:59.966 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 12:23:59.966 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 12:23:59.966 +03:00 [DBG] Error Url: /home/error
2020-04-08 12:23:59.966 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 12:24:57.317 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 12:25:06.140 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Xml.XPath.XPathException: '//:Attribute[@Name='urn:egov:bg:eauth:1.0:attributes:personNamesLatin'' has an invalid token.
   at MS.Internal.Xml.XPath.XPathScanner.NextLex()
   at MS.Internal.Xml.XPath.XPathParser.ParseLocationPath(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParsePathExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseUnionExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseUnaryExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseMultiplicativeExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseAdditiveExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseRelationalExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseEqualityExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseAndExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseOrExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseExpression(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseXPathExpression(String xpathExpression)
   at System.Xml.XPath.XPathExpression.Compile(String xpath, IXmlNamespaceResolver nsResolver)
   at System.Xml.XPath.XPathNavigator.Select(String xpath)
   at System.Xml.XmlNode.SelectNodes(String xpath)
   at ESTI.Common.EAuthUtils.ExtractName(XmlDocument samlResponse) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 153
   at RegiX.IdentityServer.AccountController.AuthenticateCertificate() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 355
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 12:27:45.072 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 12:27:45.143 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 12:27:45.156 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 12:27:45.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 12:27:45.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 12:27:45.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 12:27:45.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 12:27:45.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 12:27:45.922 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 12:27:45.926 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 12:27:45.926 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 12:27:45.926 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 12:27:45.926 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 12:27:45.926 +03:00 [DBG] Error Url: /home/error
2020-04-08 12:27:45.926 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 12:28:45.253 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 12:28:49.232 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Xml.XPath.XPathException: '//a:Attribute[@Name='urn:egov:bg:eauth:1.0:attributes:personNamesLatin'' has an invalid token.
   at MS.Internal.Xml.XPath.XPathParser.CheckToken(LexKind t)
   at MS.Internal.Xml.XPath.XPathParser.ParsePredicate(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseStep(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseRelativeLocationPath(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseLocationPath(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParsePathExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseUnionExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseUnaryExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseMultiplicativeExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseAdditiveExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseRelationalExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseEqualityExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseAndExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseOrExpr(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseExpression(AstNode qyInput)
   at MS.Internal.Xml.XPath.XPathParser.ParseXPathExpression(String xpathExpression)
   at System.Xml.XPath.XPathExpression.Compile(String xpath, IXmlNamespaceResolver nsResolver)
   at System.Xml.XPath.XPathNavigator.Compile(String xpath)
   at System.Xml.XmlNode.SelectNodes(String xpath, XmlNamespaceManager nsmgr)
   at ESTI.Common.EAuthUtils.ExtractName(XmlDocument samlResponse) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\EAuthUtils.cs:line 154
   at RegiX.IdentityServer.AccountController.AuthenticateCertificate() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 355
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 12:31:31.098 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 12:31:31.173 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 12:31:31.198 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 12:31:31.199 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 12:31:31.199 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 12:31:31.199 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 12:31:31.199 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 12:31:31.200 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 12:31:31.778 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 12:31:31.781 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 12:31:31.782 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 12:31:31.782 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 12:31:31.782 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 12:31:31.782 +03:00 [DBG] Error Url: /home/error
2020-04-08 12:31:31.782 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 12:32:31.738 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 12:34:05.322 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 12:34:05.397 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 12:34:05.414 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 12:34:05.414 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 12:34:05.415 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 12:34:05.415 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 12:34:05.415 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 12:34:05.415 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 12:34:06.182 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 12:34:06.185 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 12:34:06.185 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 12:34:06.185 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 12:34:06.185 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 12:34:06.185 +03:00 [DBG] Error Url: /home/error
2020-04-08 12:34:06.185 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 12:35:03.880 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 12:35:25.123 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 12:35:25.921 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 13:34:51.305 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:34:51.396 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:34:51.411 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:34:51.411 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:34:51.412 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:34:51.412 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:34:51.412 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:34:51.412 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:34:52.144 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 13:34:52.148 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 13:34:52.148 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 13:34:52.148 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 13:34:52.148 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 13:34:52.148 +03:00 [DBG] Error Url: /home/error
2020-04-08 13:34:52.148 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 13:37:24.056 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 13:37:24.061 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:37:24.061 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:37:24.063 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 13:37:24.068 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 13:37:24.068 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 13:37:24.073 +03:00 [DBG] Start discovery request
2020-04-08 13:37:27.794 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:37:27.998 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:37:28.006 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:37:28.012 +03:00 [DBG] Start authorize request
2020-04-08 13:37:28.025 +03:00 [DBG] No user present in authorize request
2020-04-08 13:37:28.032 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:37:28.060 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:37:28.079 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:37:28.132 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:37:28.157 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863422476780.25502174288421120.9566427228073004","UiLocales":null,"Nonce":"N0.81093531577560431586342247678","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.81093531577560431586342247678","state":"15863422476780.25502174288421120.9566427228073004","code_challenge":"E1ROmXgkQTUoOpUam2xUA6Ckx8TFRBt0fKTOPzMtYVQ","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:37:28.201 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:37:28.298 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:37:28.299 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:37:28.299 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:37:28.299 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:37:28.307 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:38:19.878 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 13:38:53.174 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 13:38:53.951 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 13:46:48.920 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:46:48.994 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:46:49.007 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:46:49.007 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:46:49.007 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:46:49.007 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:46:49.007 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:46:49.007 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:47:14.607 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:47:14.686 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:47:14.699 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:47:14.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:47:14.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:47:14.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:47:14.699 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:47:14.700 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:47:42.653 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:47:42.730 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:47:42.743 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:47:42.743 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:47:42.743 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:47:42.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:47:42.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:47:42.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:47:43.272 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 13:47:43.279 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 13:47:43.279 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 13:47:43.280 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 13:47:43.280 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 13:47:43.280 +03:00 [DBG] Error Url: /home/error
2020-04-08 13:47:43.281 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 13:47:53.372 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 13:47:53.378 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:47:53.378 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:47:53.380 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 13:47:53.385 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 13:47:53.385 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 13:47:53.391 +03:00 [DBG] Start discovery request
2020-04-08 13:47:55.313 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:47:55.502 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:47:55.502 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:47:55.508 +03:00 [DBG] Start authorize request
2020-04-08 13:47:55.522 +03:00 [DBG] No user present in authorize request
2020-04-08 13:47:55.532 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:47:55.562 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:47:55.583 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:47:55.638 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:47:55.663 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863428751580.94311599809056810.6288795943563199","UiLocales":null,"Nonce":"N0.066286713565762321586342875158","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.066286713565762321586342875158","state":"15863428751580.94311599809056810.6288795943563199","code_challenge":"0_3ZDYdHr9JzzncQmxs6fwkEjKCWnOoniyY6bFhyh_Y","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:47:55.697 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:47:55.803 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:47:55.804 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:47:55.804 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:47:55.805 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:47:55.811 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:48:23.222 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 13:48:23.223 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:48:23.223 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:48:23.223 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 13:48:23.223 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 13:48:23.224 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 13:48:23.224 +03:00 [DBG] Start discovery request
2020-04-08 13:48:25.209 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:48:25.210 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:48:25.210 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:48:25.210 +03:00 [DBG] Start authorize request
2020-04-08 13:48:25.211 +03:00 [DBG] No user present in authorize request
2020-04-08 13:48:25.211 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:48:25.211 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:48:25.212 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:48:25.214 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:48:25.217 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863429050550.497271888219610550.06753650699952485","UiLocales":null,"Nonce":"N0.61760198330052821586342905055","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.61760198330052821586342905055","state":"15863429050550.497271888219610550.06753650699952485","code_challenge":"oARZE96TxsSFpe-uYuhOK6LWEwhST9yaMcZIQPJvmfo","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:48:25.217 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:48:25.267 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:48:25.268 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:48:25.268 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:48:25.269 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:48:25.270 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:49:09.587 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 13:49:09.905 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:49:09.905 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:49:09.905 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:49:09.905 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:49:10.727 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: SubjectId is mandatory
Parameter name: subjectId
   at IdentityServer4.IdentityServerUser..ctor(String subjectId) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\IdentityServerUser.cs:line 55
   at Microsoft.AspNetCore.Http.AuthenticationManagerExtensions.SignInAsync(HttpContext context, String subject, String name, String identityProvider, Claim[] claims) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\HttpContextAuthenticationExtensions.cs:line 121
   at RegiX.IdentityServer.AccountController.AuthenticateCertificate() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 400
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 13:49:48.285 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:49:48.360 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:49:48.372 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:49:48.373 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:49:48.373 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:49:48.373 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:49:48.373 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:49:48.373 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:50:56.761 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:50:56.898 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:50:56.924 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:50:56.924 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:50:56.924 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:50:56.924 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:50:56.924 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:50:56.925 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:50:57.766 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 13:50:57.769 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 13:50:57.769 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 13:50:57.769 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 13:50:57.769 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 13:50:57.770 +03:00 [DBG] Error Url: /home/error
2020-04-08 13:50:57.770 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 13:51:05.304 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 13:51:05.310 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:51:05.310 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:51:05.313 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 13:51:05.328 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 13:51:05.329 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 13:51:05.334 +03:00 [DBG] Start discovery request
2020-04-08 13:51:07.902 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:51:08.145 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:51:08.145 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:51:08.151 +03:00 [DBG] Start authorize request
2020-04-08 13:51:08.164 +03:00 [DBG] No user present in authorize request
2020-04-08 13:51:08.172 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:51:08.199 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:51:08.219 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:51:08.275 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:51:08.309 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863430677870.140957662854892750.16274226291260674","UiLocales":null,"Nonce":"N0.77949640629528321586343067787","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.77949640629528321586343067787","state":"15863430677870.140957662854892750.16274226291260674","code_challenge":"COnaM9SotKaJNGmMhqgH-K3HmWlrjTHQzGaMQn7nnlE","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:51:08.360 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:51:08.467 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:51:08.467 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:51:08.468 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:51:08.468 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:51:08.473 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:51:52.437 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 13:52:09.977 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:52:09.977 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:52:09.978 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:52:09.978 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:53:54.491 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:53:54.563 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:53:54.576 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:53:54.576 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:53:54.576 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:53:54.577 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:53:54.577 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:53:54.577 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:55:09.483 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 13:55:09.589 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 13:55:09.604 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 13:55:09.604 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 13:55:09.605 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 13:55:09.605 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 13:55:09.605 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 13:55:09.605 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 13:55:10.363 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 13:55:10.368 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 13:55:10.368 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 13:55:10.368 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 13:55:10.368 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 13:55:10.368 +03:00 [DBG] Error Url: /home/error
2020-04-08 13:55:10.368 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 13:55:49.168 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 13:55:49.174 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:55:49.174 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:55:49.176 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 13:55:49.181 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 13:55:49.182 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 13:55:49.187 +03:00 [DBG] Start discovery request
2020-04-08 13:55:51.211 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:55:51.220 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:55:51.220 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:55:51.227 +03:00 [DBG] Start authorize request
2020-04-08 13:55:51.253 +03:00 [DBG] No user present in authorize request
2020-04-08 13:55:51.266 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:55:51.312 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:55:51.343 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:55:51.409 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:55:51.438 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863433510810.296378112226516330.16278597366766778","UiLocales":null,"Nonce":"N0.385179520075623171586343351081","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.385179520075623171586343351081","state":"15863433510810.296378112226516330.16278597366766778","code_challenge":"vs6b68vc6dXH9C29z4-Ss4uMdRQqdPUaPEpVknOkv_o","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:55:51.483 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:55:51.515 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:55:51.516 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:55:51.516 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:55:51.516 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:55:51.519 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:56:51.030 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 13:57:02.099 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:57:02.099 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:57:02.100 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:57:02.100 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:57:11.386 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 13:57:12.206 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 13:57:17.999 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:57:18.000 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:57:18.000 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:57:18.000 +03:00 [DBG] Start authorize request
2020-04-08 13:57:18.001 +03:00 [DBG] No user present in authorize request
2020-04-08 13:57:18.001 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:57:18.001 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:57:18.001 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:57:18.002 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:57:18.003 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863433510810.296378112226516330.16278597366766778","UiLocales":null,"Nonce":"N0.98537394831103841586343437904","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.98537394831103841586343437904","state":"15863433510810.296378112226516330.16278597366766778","code_challenge":"i4FMJz5Ma3Eptdn8B0OOuEh6eTMaBZ-rIgOk5iqdwOw","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:57:18.004 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:57:18.026 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:57:18.026 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:57:18.026 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:57:18.027 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:57:18.027 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:24.112 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 13:58:24.155 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:58:24.155 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:24.156 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:58:24.156 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:58:24.305 +03:00 [DBG] Augmenting SignInContext
2020-04-08 13:58:24.309 +03:00 [DBG] Adding idp claim with value: local
2020-04-08 13:58:24.309 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-08 13:58:24.326 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 13:58:24.328 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:24.358 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-04-08 13:58:24.359 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-04-08 13:58:24.359 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-04-08 13:58:24.369 +03:00 [DBG] Start authorize callback request
2020-04-08 13:58:24.378 +03:00 [DBG] User in authorize request: 1061
2020-04-08 13:58:24.378 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:58:24.378 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:24.379 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:58:24.379 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:58:24.380 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"1061","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863433510810.296378112226516330.16278597366766778","UiLocales":null,"Nonce":"N0.98537394831103841586343437904","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d10b85404600eeb80e5b462598303b1f","Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.98537394831103841586343437904","state":"15863433510810.296378112226516330.16278597366766778","code_challenge":"i4FMJz5Ma3Eptdn8B0OOuEh6eTMaBZ-rIgOk5iqdwOw","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:58:24.420 +03:00 [DBG] Client is configured to not require consent, no consent is required
2020-04-08 13:58:24.428 +03:00 [DBG] Creating Authorization Code Flow response.
2020-04-08 13:58:24.472 +03:00 [DBG] Authorize endpoint response
{"SubjectId":"1061","ClientId":"regixlocalclientangular","RedirectUri":"http://localhost:4200/authorize.html","State":"15863433510810.296378112226516330.16278597366766778","Scope":"openid profile regixclientapi regixcoremetadataapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-04-08 13:58:24.498 +03:00 [DBG] Augmenting SignInContext
2020-04-08 13:58:24.499 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 13:58:24.925 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-08 13:58:24.926 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:24.928 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:24.929 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-08 13:58:24.929 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-08 13:58:24.929 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:24.929 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:24.929 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-08 13:58:24.942 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-08 13:58:24.942 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-08 13:58:24.942 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-08 13:58:24.942 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-08 13:58:24.962 +03:00 [DBG] Start token request.
2020-04-08 13:58:24.962 +03:00 [DBG] Start token request.
2020-04-08 13:58:24.977 +03:00 [DBG] Start client validation
2020-04-08 13:58:24.977 +03:00 [DBG] Start client validation
2020-04-08 13:58:24.993 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-08 13:58:24.993 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-08 13:58:25.001 +03:00 [DBG] Start parsing for secret in post body
2020-04-08 13:58:25.001 +03:00 [DBG] Start parsing for secret in post body
2020-04-08 13:58:25.002 +03:00 [DBG] client id without secret found
2020-04-08 13:58:25.002 +03:00 [DBG] client id without secret found
2020-04-08 13:58:25.002 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-08 13:58:25.002 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-08 13:58:25.002 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-08 13:58:25.002 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-08 13:58:25.002 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.002 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.002 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-08 13:58:25.003 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-08 13:58:25.003 +03:00 [DBG] Client validation success
2020-04-08 13:58:25.003 +03:00 [DBG] Client validation success
2020-04-08 13:58:25.015 +03:00 [DBG] Start token request validation
2020-04-08 13:58:25.015 +03:00 [DBG] Start token request validation
2020-04-08 13:58:25.033 +03:00 [DBG] Start validation of authorization code token request
2020-04-08 13:58:25.033 +03:00 [DBG] Start validation of authorization code token request
2020-04-08 13:58:25.057 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-08 13:58:25.057 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-08 13:58:25.067 +03:00 [DBG] Validation of authorization code token request success
2020-04-08 13:58:25.074 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"6e2997ba3fbf636eb154fa61935f107bc43164da7e425b22c67ef8a30313f7b9","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.21417573772033682158634343790415863434379040.6168209721560123","code":"6e2997ba3fbf636eb154fa61935f107bc43164da7e425b22c67ef8a30313f7b9","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-08 13:58:25.092 +03:00 [DBG] Validation of authorization code token request success
2020-04-08 13:58:25.092 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"6e2997ba3fbf636eb154fa61935f107bc43164da7e425b22c67ef8a30313f7b9","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.21417573772033682158634343790415863434379040.6168209721560123","code":"6e2997ba3fbf636eb154fa61935f107bc43164da7e425b22c67ef8a30313f7b9","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-08 13:58:25.096 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.096 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.114 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-08 13:58:25.114 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-08 13:58:25.115 +03:00 [DBG] Getting claims for access token for subject: 1061
2020-04-08 13:58:25.115 +03:00 [DBG] Getting claims for access token for subject: 1061
2020-04-08 13:58:25.122 +03:00 [INF] Getting claims for user: tl_regix3_local in client: regixlocalclientangular
2020-04-08 13:58:25.122 +03:00 [INF] Getting claims for user: tl_regix3_local in client: regixlocalclientangular
2020-04-08 13:58:25.155 +03:00 [WRN] The Include operation for navigation '[u].FederationUsers' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-08 13:58:25.156 +03:00 [WRN] The Include operation for navigation '[u].UsersToRoles' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-08 13:58:25.356 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.356 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.371 +03:00 [DBG] Getting claims for identity token for subject: 1061 and client: regixlocalclientangular
2020-04-08 13:58:25.371 +03:00 [DBG] Getting claims for identity token for subject: 1061 and client: regixlocalclientangular
2020-04-08 13:58:25.371 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-08 13:58:25.371 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-08 13:58:25.560 +03:00 [DBG] Token request success.
2020-04-08 13:58:25.560 +03:00 [DBG] Token request success.
2020-04-08 13:58:25.581 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-08 13:58:25.581 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:25.582 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:25.582 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-08 13:58:25.583 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-08 13:58:25.583 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-08 13:58:25.590 +03:00 [DBG] Start key discovery request
2020-04-08 13:58:25.612 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-08 13:58:25.613 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:25.613 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:25.614 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-08 13:58:25.614 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-08 13:58:25.614 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-08 13:58:25.614 +03:00 [DBG] Start key discovery request
2020-04-08 13:58:25.640 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 13:58:25.641 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:25.641 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:25.647 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 13:58:25.648 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:25.648 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:25.648 +03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-04-08 13:58:25.651 +03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-04-08 13:58:25.651 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-04-08 13:58:25.666 +03:00 [DBG] Start userinfo request
2020-04-08 13:58:25.674 +03:00 [DBG] Bearer token found in header
2020-04-08 13:58:25.715 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.722 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:25.750 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 13:58:25.753 +03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":"openid","TokenHandle":"2224025e5d929bffee969be553881b849b7b6cf839bef82a829c18344f330647","JwtId":null,"Claims":{"iss":"https://localhost:44354","nbf":1586343505,"exp":1586347105,"aud":["https://localhost:44354/resources","regixcoremetadataapi","regixclientapi"],"client_id":"regixlocalclientangular","scope":["openid","profile","regixcoremetadataapi","regixclientapi"],"sub":"1061","auth_time":1586343504,"idp":"local","amr":"pwd","FullName":"Local Regix3 User","AdministrationID":"0","RoleID":"50","role":"GLOBAL_ADMIN"},"$type":"TokenValidationLog"}
2020-04-08 13:58:25.768 +03:00 [DBG] Creating userinfo response
2020-04-08 13:58:25.776 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:25.781 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:25.786 +03:00 [DBG] Requested claim types: 
2020-04-08 13:58:25.786 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:25.786 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-08 13:58:25.803 +03:00 [INF] Profile service returned the following claim types: FullName AdministrationID RoleID role
2020-04-08 13:58:25.804 +03:00 [DBG] End userinfo request
2020-04-08 13:58:31.015 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:58:31.015 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:58:31.016 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:58:31.016 +03:00 [DBG] Start authorize request
2020-04-08 13:58:31.016 +03:00 [DBG] User in authorize request: 1061
2020-04-08 13:58:31.016 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:58:31.016 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.016 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:58:31.017 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:58:31.017 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"1061","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863435109160.76610725334476590.7641494993131455","UiLocales":null,"Nonce":"N0.96720074867087621586343510916","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"d10b85404600eeb80e5b462598303b1f","Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.96720074867087621586343510916","state":"15863435109160.76610725334476590.7641494993131455","code_challenge":"ahF-HY6u0JdqZ6oa66WqJb4UDu9M9z8-OvG6CUAZgK8","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:58:31.024 +03:00 [DBG] Client is configured to not require consent, no consent is required
2020-04-08 13:58:31.024 +03:00 [DBG] Creating Authorization Code Flow response.
2020-04-08 13:58:31.025 +03:00 [DBG] Authorize endpoint response
{"SubjectId":"1061","ClientId":"regixlocalclientangular","RedirectUri":"http://localhost:4200/authorize.html","State":"15863435109160.76610725334476590.7641494993131455","Scope":"openid profile regixclientapi regixcoremetadataapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-04-08 13:58:31.106 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-08 13:58:31.106 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:31.106 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:31.107 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-08 13:58:31.107 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-08 13:58:31.108 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-08 13:58:31.108 +03:00 [DBG] Start token request.
2020-04-08 13:58:31.108 +03:00 [DBG] Start client validation
2020-04-08 13:58:31.108 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-08 13:58:31.108 +03:00 [DBG] Start parsing for secret in post body
2020-04-08 13:58:31.109 +03:00 [DBG] client id without secret found
2020-04-08 13:58:31.109 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-08 13:58:31.109 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-08 13:58:31.110 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.110 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-08 13:58:31.110 +03:00 [DBG] Client validation success
2020-04-08 13:58:31.110 +03:00 [DBG] Start token request validation
2020-04-08 13:58:31.110 +03:00 [DBG] Start validation of authorization code token request
2020-04-08 13:58:31.111 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-08 13:58:31.122 +03:00 [DBG] Validation of authorization code token request success
2020-04-08 13:58:31.123 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"90dae8318773b7b70f324b343ea4f8d30de4daa66957bef5f9c442d94ff8fe3a","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.467948349102403158634351091615863435109160.8329056899093528","code":"90dae8318773b7b70f324b343ea4f8d30de4daa66957bef5f9c442d94ff8fe3a","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-08 13:58:31.123 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.123 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-08 13:58:31.123 +03:00 [DBG] Getting claims for access token for subject: 1061
2020-04-08 13:58:31.123 +03:00 [INF] Getting claims for user: tl_regix3_local in client: regixlocalclientangular
2020-04-08 13:58:31.220 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.220 +03:00 [DBG] Getting claims for identity token for subject: 1061 and client: regixlocalclientangular
2020-04-08 13:58:31.221 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-08 13:58:31.225 +03:00 [DBG] Token request success.
2020-04-08 13:58:31.239 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-08 13:58:31.240 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:31.240 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:31.240 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-08 13:58:31.240 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-08 13:58:31.240 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-08 13:58:31.240 +03:00 [DBG] Start key discovery request
2020-04-08 13:58:31.271 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 13:58:31.271 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:31.272 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:31.279 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 13:58:31.280 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 13:58:31.280 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 13:58:31.280 +03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-04-08 13:58:31.281 +03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-04-08 13:58:31.281 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-04-08 13:58:31.281 +03:00 [DBG] Start userinfo request
2020-04-08 13:58:31.281 +03:00 [DBG] Bearer token found in header
2020-04-08 13:58:31.282 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.282 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:58:31.288 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 13:58:31.289 +03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":"openid","TokenHandle":"fbd7102b04a30cebcd77f270e3aa1f77df09ed211908066874af72e6b40146f4","JwtId":null,"Claims":{"iss":"https://localhost:44354","nbf":1586343511,"exp":1586347111,"aud":["https://localhost:44354/resources","regixcoremetadataapi","regixclientapi"],"client_id":"regixlocalclientangular","scope":["openid","profile","regixcoremetadataapi","regixclientapi"],"sub":"1061","auth_time":1586343504,"idp":"local","amr":"pwd","FullName":"Local Regix3 User","AdministrationID":"0","RoleID":"50","role":"GLOBAL_ADMIN"},"$type":"TokenValidationLog"}
2020-04-08 13:58:31.295 +03:00 [DBG] Creating userinfo response
2020-04-08 13:58:31.295 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:31.295 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:31.295 +03:00 [DBG] Requested claim types: 
2020-04-08 13:58:31.295 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 13:58:31.295 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-08 13:58:31.312 +03:00 [INF] Profile service returned the following claim types: FullName AdministrationID RoleID role
2020-04-08 13:58:31.312 +03:00 [DBG] End userinfo request
2020-04-08 13:59:54.457 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2020-04-08 13:59:54.458 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2020-04-08 13:59:54.458 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-04-08 13:59:54.468 +03:00 [DBG] Processing signout request for 1061
2020-04-08 13:59:54.477 +03:00 [DBG] Start end session request validation
2020-04-08 13:59:54.490 +03:00 [DBG] Start identity token validation
2020-04-08 13:59:54.511 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:59:54.511 +03:00 [DBG] Client found: regixlocalclientangular / RegiX Client Application
2020-04-08 13:59:54.586 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 13:59:54.587 +03:00 [DBG] Token validation success
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1586343511,"exp":1586343811,"iss":"https://localhost:44354","aud":"regixlocalclientangular","nonce":"N0.96720074867087621586343510916","iat":1586343511,"at_hash":"_OmC34rhFXcxPz3fAKndAw","sid":"d10b85404600eeb80e5b462598303b1f","sub":"1061","auth_time":1586343504,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2020-04-08 13:59:54.590 +03:00 [INF] End session request validation success
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","SubjectId":"1061","PostLogOutUri":"http://localhost:4200/logout.html","State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"http://localhost:4200/logout.html"},"$type":"EndSessionRequestValidationLog"}
2020-04-08 13:59:54.591 +03:00 [DBG] Success validating end session request from regixlocalclientangular
2020-04-08 13:59:54.674 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-08 13:59:54.785 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2020-04-08 13:59:54.788 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2020-04-08 13:59:54.788 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2020-04-08 13:59:54.796 +03:00 [DBG] Processing signout callback request
2020-04-08 13:59:54.813 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:59:54.813 +03:00 [DBG] No client front-channel logout URLs
2020-04-08 13:59:54.813 +03:00 [DBG] No client back-channel logout URLs
2020-04-08 13:59:54.814 +03:00 [INF] Successful signout callback.
2020-04-08 13:59:54.814 +03:00 [DBG] No client front-channel iframe urls
2020-04-08 13:59:54.814 +03:00 [DBG] No client back-channel iframe urls
2020-04-08 13:59:56.862 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 13:59:56.863 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 13:59:56.863 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 13:59:56.863 +03:00 [DBG] Start authorize request
2020-04-08 13:59:56.865 +03:00 [DBG] No user present in authorize request
2020-04-08 13:59:56.865 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:59:56.865 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:59:56.865 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:59:56.866 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:59:56.867 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863435967610.078415002152553590.3991392436579566","UiLocales":null,"Nonce":"N0.60208188375108971586343596761","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.60208188375108971586343596761","state":"15863435967610.078415002152553590.3991392436579566","code_challenge":"1yGcWzw-QJnBa_S-pjTpjn9kUx0k6gaSCu2tnyuN3r4","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 13:59:56.867 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 13:59:56.877 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 13:59:56.877 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 13:59:56.877 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 13:59:56.878 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 13:59:56.878 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:44.766 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 14:00:48.745 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:00:48.746 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:48.746 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:00:48.747 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:00:49.402 +03:00 [DBG] Augmenting SignInContext
2020-04-08 14:00:49.403 +03:00 [DBG] Adding amr claim with value: external
2020-04-08 14:00:49.403 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 14:00:49.404 +03:00 [INF] AuthenticationScheme: idsrv.external signed out.
2020-04-08 14:00:49.405 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:49.517 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-04-08 14:00:49.518 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-04-08 14:00:49.518 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-04-08 14:00:49.518 +03:00 [DBG] Start authorize callback request
2020-04-08 14:00:49.519 +03:00 [DBG] User in authorize request: 1080
2020-04-08 14:00:49.519 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:00:49.519 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:49.519 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:00:49.519 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:00:49.520 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"1080","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863435967610.078415002152553590.3991392436579566","UiLocales":null,"Nonce":"N0.60208188375108971586343596761","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"9ff33894219bff02b77093292a338633","Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.60208188375108971586343596761","state":"15863435967610.078415002152553590.3991392436579566","code_challenge":"1yGcWzw-QJnBa_S-pjTpjn9kUx0k6gaSCu2tnyuN3r4","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 14:00:49.527 +03:00 [DBG] Client is configured to not require consent, no consent is required
2020-04-08 14:00:49.528 +03:00 [DBG] Creating Authorization Code Flow response.
2020-04-08 14:00:49.528 +03:00 [DBG] Authorize endpoint response
{"SubjectId":"1080","ClientId":"regixlocalclientangular","RedirectUri":"http://localhost:4200/authorize.html","State":"15863435967610.078415002152553590.3991392436579566","Scope":"openid profile regixclientapi regixcoremetadataapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-04-08 14:00:49.529 +03:00 [DBG] Augmenting SignInContext
2020-04-08 14:00:49.529 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 14:00:49.929 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-08 14:00:49.929 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:00:49.929 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:00:49.930 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-08 14:00:49.930 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-08 14:00:49.930 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-08 14:00:49.930 +03:00 [DBG] Start token request.
2020-04-08 14:00:49.931 +03:00 [DBG] Start client validation
2020-04-08 14:00:49.931 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-08 14:00:49.931 +03:00 [DBG] Start parsing for secret in post body
2020-04-08 14:00:49.932 +03:00 [DBG] client id without secret found
2020-04-08 14:00:49.932 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-08 14:00:49.932 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-08 14:00:49.933 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:49.933 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-08 14:00:49.933 +03:00 [DBG] Client validation success
2020-04-08 14:00:49.933 +03:00 [DBG] Start token request validation
2020-04-08 14:00:49.933 +03:00 [DBG] Start validation of authorization code token request
2020-04-08 14:00:49.933 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-08 14:00:49.942 +03:00 [DBG] Validation of authorization code token request success
2020-04-08 14:00:49.942 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"df680f845d0ba1cd4e97e2868e08e6c23878d56e8ddbf8e2f112c5aa628e2010","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.6553417871690501158634359676215863435967620.6089545069300821","code":"df680f845d0ba1cd4e97e2868e08e6c23878d56e8ddbf8e2f112c5aa628e2010","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-08 14:00:49.943 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:49.943 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-08 14:00:49.943 +03:00 [DBG] Getting claims for access token for subject: 1080
2020-04-08 14:00:49.943 +03:00 [INF] Getting claims for user: 8309086567 in client: regixlocalclientangular
2020-04-08 14:00:49.969 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:49.969 +03:00 [DBG] Getting claims for identity token for subject: 1080 and client: regixlocalclientangular
2020-04-08 14:00:49.969 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-08 14:00:49.974 +03:00 [DBG] Token request success.
2020-04-08 14:00:49.991 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-08 14:00:49.992 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:00:49.992 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:00:49.992 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-08 14:00:49.992 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-08 14:00:49.992 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-08 14:00:49.993 +03:00 [DBG] Start key discovery request
2020-04-08 14:00:50.025 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 14:00:50.025 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:00:50.025 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:00:50.030 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 14:00:50.030 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:00:50.030 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:00:50.030 +03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-04-08 14:00:50.031 +03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-04-08 14:00:50.031 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-04-08 14:00:50.031 +03:00 [DBG] Start userinfo request
2020-04-08 14:00:50.031 +03:00 [DBG] Bearer token found in header
2020-04-08 14:00:50.031 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:50.032 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:00:50.044 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 14:00:50.044 +03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":"openid","TokenHandle":"c90811b06c39175d8d4b2714f8fb2665c8b30a89c12f043fa89f6029a84cdfa5","JwtId":null,"Claims":{"iss":"https://localhost:44354","nbf":1586343649,"exp":1586347249,"aud":["https://localhost:44354/resources","regixcoremetadataapi","regixclientapi"],"client_id":"regixlocalclientangular","scope":["openid","profile","regixcoremetadataapi","regixclientapi"],"sub":"1080","auth_time":1586343649,"idp":"EAuth","amr":"external","FullName":"Dimitar Vladimirov Mitev","AdministrationID":"0"},"$type":"TokenValidationLog"}
2020-04-08 14:00:50.056 +03:00 [DBG] Creating userinfo response
2020-04-08 14:00:50.056 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:00:50.056 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:00:50.056 +03:00 [DBG] Requested claim types: 
2020-04-08 14:00:50.056 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:00:50.056 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-08 14:00:50.081 +03:00 [INF] Profile service returned the following claim types: FullName AdministrationID
2020-04-08 14:00:50.081 +03:00 [DBG] End userinfo request
2020-04-08 14:07:54.113 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:07:54.195 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:07:54.207 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:07:54.208 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:07:54.208 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:07:54.208 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:07:54.208 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:07:54.208 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:07:54.613 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:07:54.616 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:07:54.616 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:07:54.616 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:07:54.616 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:07:54.616 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:07:54.616 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:07:59.581 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-08 14:07:59.586 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:07:59.587 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:07:59.589 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-08 14:07:59.600 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-08 14:07:59.601 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-08 14:07:59.609 +03:00 [DBG] Start discovery request
2020-04-08 14:08:01.315 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 14:08:01.470 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 14:08:01.470 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 14:08:01.478 +03:00 [DBG] Start authorize request
2020-04-08 14:08:01.496 +03:00 [DBG] No user present in authorize request
2020-04-08 14:08:01.506 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:08:01.533 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:01.552 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:08:01.602 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:08:01.624 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863440811690.26278970672381230.3007898411738352","UiLocales":null,"Nonce":"N0.04641437793799731586344081169","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.04641437793799731586344081169","state":"15863440811690.26278970672381230.3007898411738352","code_challenge":"O5BqWOqK08IIZAUPt5JZNiyzcUtpXfonFF13UhsH6dk","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 14:08:01.653 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 14:08:01.744 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:08:01.745 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:01.745 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:08:01.745 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:08:01.749 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:13.491 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 14:08:13.546 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:08:13.546 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:13.546 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:08:13.547 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:08:14.312 +03:00 [DBG] Augmenting SignInContext
2020-04-08 14:08:14.316 +03:00 [DBG] Adding idp claim with value: local
2020-04-08 14:08:14.316 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-08 14:08:14.330 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 14:08:14.332 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:14.351 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-04-08 14:08:14.353 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-04-08 14:08:14.354 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-04-08 14:08:14.363 +03:00 [DBG] Start authorize callback request
2020-04-08 14:08:14.370 +03:00 [DBG] User in authorize request: 1061
2020-04-08 14:08:14.370 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:08:14.370 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:14.370 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:08:14.370 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:08:14.370 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"1061","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863440811690.26278970672381230.3007898411738352","UiLocales":null,"Nonce":"N0.04641437793799731586344081169","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"82405c58e3efd4a8cf1c0fe9cce3966d","Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.04641437793799731586344081169","state":"15863440811690.26278970672381230.3007898411738352","code_challenge":"O5BqWOqK08IIZAUPt5JZNiyzcUtpXfonFF13UhsH6dk","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 14:08:14.413 +03:00 [DBG] Client is configured to not require consent, no consent is required
2020-04-08 14:08:14.422 +03:00 [DBG] Creating Authorization Code Flow response.
2020-04-08 14:08:14.460 +03:00 [DBG] Authorize endpoint response
{"SubjectId":"1061","ClientId":"regixlocalclientangular","RedirectUri":"http://localhost:4200/authorize.html","State":"15863440811690.26278970672381230.3007898411738352","Scope":"openid profile regixclientapi regixcoremetadataapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-04-08 14:08:14.484 +03:00 [DBG] Augmenting SignInContext
2020-04-08 14:08:14.484 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-08 14:08:14.980 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-08 14:08:14.981 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:08:14.981 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:08:14.981 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-08 14:08:14.991 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-08 14:08:14.991 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-08 14:08:15.012 +03:00 [DBG] Start token request.
2020-04-08 14:08:15.025 +03:00 [DBG] Start client validation
2020-04-08 14:08:15.041 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-08 14:08:15.049 +03:00 [DBG] Start parsing for secret in post body
2020-04-08 14:08:15.050 +03:00 [DBG] client id without secret found
2020-04-08 14:08:15.051 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-08 14:08:15.051 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-08 14:08:15.052 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:15.052 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-08 14:08:15.052 +03:00 [DBG] Client validation success
2020-04-08 14:08:15.078 +03:00 [DBG] Start token request validation
2020-04-08 14:08:15.097 +03:00 [DBG] Start validation of authorization code token request
2020-04-08 14:08:15.117 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-08 14:08:15.130 +03:00 [DBG] Validation of authorization code token request success
2020-04-08 14:08:15.137 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"20d4925c8e89ce9c57d6f1b983f5720582d23308b76d28cf5ba9a56e0f8ee7d9","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.021791727961100404158634408116915863440811690.930732116193258","code":"20d4925c8e89ce9c57d6f1b983f5720582d23308b76d28cf5ba9a56e0f8ee7d9","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-08 14:08:15.156 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:15.181 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-08 14:08:15.182 +03:00 [DBG] Getting claims for access token for subject: 1061
2020-04-08 14:08:15.190 +03:00 [INF] Getting claims for user: tl_regix3_local in client: regixlocalclientangular
2020-04-08 14:08:15.214 +03:00 [WRN] The Include operation for navigation '[u].FederationUsers' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-08 14:08:15.214 +03:00 [WRN] The Include operation for navigation '[u].UsersToRoles' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-08 14:08:15.386 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:15.397 +03:00 [DBG] Getting claims for identity token for subject: 1061 and client: regixlocalclientangular
2020-04-08 14:08:15.397 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-08 14:08:15.476 +03:00 [DBG] Token request success.
2020-04-08 14:08:15.511 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-08 14:08:15.512 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:08:15.512 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:08:15.512 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-08 14:08:15.513 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-08 14:08:15.514 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-08 14:08:15.526 +03:00 [DBG] Start key discovery request
2020-04-08 14:08:15.575 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 14:08:15.576 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:08:15.576 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:08:15.580 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-08 14:08:15.581 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-08 14:08:15.581 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-08 14:08:15.581 +03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-04-08 14:08:15.582 +03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-04-08 14:08:15.582 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-04-08 14:08:15.591 +03:00 [DBG] Start userinfo request
2020-04-08 14:08:15.596 +03:00 [DBG] Bearer token found in header
2020-04-08 14:08:15.629 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:15.635 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:08:15.643 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 14:08:15.644 +03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":"openid","TokenHandle":"7b5d6931e20ad7c613c8a5bf4cbc4c9a780cea14cdb9535d357e88b50e7df4c8","JwtId":null,"Claims":{"iss":"https://localhost:44354","nbf":1586344095,"exp":1586347695,"aud":["https://localhost:44354/resources","regixcoremetadataapi","regixclientapi"],"client_id":"regixlocalclientangular","scope":["openid","profile","regixcoremetadataapi","regixclientapi"],"sub":"1061","auth_time":1586344094,"idp":"local","amr":"pwd","FullName":"Local Regix3 User","AdministrationID":"0","RoleID":"50","role":"GLOBAL_ADMIN"},"$type":"TokenValidationLog"}
2020-04-08 14:08:15.658 +03:00 [DBG] Creating userinfo response
2020-04-08 14:08:15.663 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:08:15.666 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:08:15.670 +03:00 [DBG] Requested claim types: 
2020-04-08 14:08:15.670 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-08 14:08:15.671 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-08 14:08:15.699 +03:00 [INF] Profile service returned the following claim types: FullName AdministrationID RoleID role
2020-04-08 14:08:15.699 +03:00 [DBG] End userinfo request
2020-04-08 14:09:09.515 +03:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2020-04-08 14:09:09.519 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2020-04-08 14:09:09.519 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2020-04-08 14:09:09.531 +03:00 [DBG] Processing signout request for 1061
2020-04-08 14:09:09.543 +03:00 [DBG] Start end session request validation
2020-04-08 14:09:09.553 +03:00 [DBG] Start identity token validation
2020-04-08 14:09:09.570 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:09.571 +03:00 [DBG] Client found: regixlocalclientangular / RegiX Client Application
2020-04-08 14:09:09.647 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-08 14:09:09.649 +03:00 [DBG] Token validation success
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1586344095,"exp":1586344395,"iss":"https://localhost:44354","aud":"regixlocalclientangular","nonce":"N0.04641437793799731586344081169","iat":1586344095,"at_hash":"35--r_XSaf8GimdMVW7NYQ","sid":"82405c58e3efd4a8cf1c0fe9cce3966d","sub":"1061","auth_time":1586344094,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2020-04-08 14:09:09.655 +03:00 [INF] End session request validation success
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","SubjectId":"1061","PostLogOutUri":"http://localhost:4200/logout.html","State":null,"Raw":{"id_token_hint":"***REDACTED***","post_logout_redirect_uri":"http://localhost:4200/logout.html"},"$type":"EndSessionRequestValidationLog"}
2020-04-08 14:09:09.655 +03:00 [DBG] Success validating end session request from regixlocalclientangular
2020-04-08 14:09:09.750 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-08 14:09:09.869 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2020-04-08 14:09:09.873 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2020-04-08 14:09:09.874 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2020-04-08 14:09:09.884 +03:00 [DBG] Processing signout callback request
2020-04-08 14:09:09.901 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:09.901 +03:00 [DBG] No client front-channel logout URLs
2020-04-08 14:09:09.901 +03:00 [DBG] No client back-channel logout URLs
2020-04-08 14:09:09.902 +03:00 [INF] Successful signout callback.
2020-04-08 14:09:09.902 +03:00 [DBG] No client front-channel iframe urls
2020-04-08 14:09:09.902 +03:00 [DBG] No client back-channel iframe urls
2020-04-08 14:09:13.896 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 14:09:13.897 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 14:09:13.897 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 14:09:13.898 +03:00 [DBG] Start authorize request
2020-04-08 14:09:13.898 +03:00 [DBG] No user present in authorize request
2020-04-08 14:09:13.899 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:09:13.899 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:13.899 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:09:13.900 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:09:13.900 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863441530000.53791897110416410.23167340306050033","UiLocales":null,"Nonce":"N0.82755903952293711586344153000","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.82755903952293711586344153000","state":"15863441530000.53791897110416410.23167340306050033","code_challenge":"vcve0mdJxM_IsRrkNm7K-ETrlkMPrtF1sjy9vdy2eGY","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 14:09:13.900 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 14:09:13.916 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:09:13.916 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:13.917 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:09:13.918 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:09:13.918 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:57.268 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 14:09:57.580 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:09:57.580 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:09:57.580 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:09:57.581 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:09:57.597 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Account_Login.ExecuteAsync() in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Views\Account\Login.cshtml:line 12
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 14:13:01.277 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:13:01.354 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:13:01.369 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:13:01.369 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:13:01.369 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:13:01.370 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:13:01.370 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:13:01.370 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:13:01.955 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:13:01.958 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:13:01.958 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:13:01.958 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:13:01.958 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:13:01.958 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:13:01.958 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:13:06.269 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-08 14:13:06.404 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-08 14:13:06.404 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-08 14:13:06.412 +03:00 [DBG] Start authorize request
2020-04-08 14:13:06.426 +03:00 [DBG] No user present in authorize request
2020-04-08 14:13:06.436 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:13:06.470 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:13:06.495 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:13:06.565 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:13:06.589 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15863441530000.53791897110416410.23167340306050033","UiLocales":null,"Nonce":"N0.7596591260844251586344385157","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.7596591260844251586344385157","state":"15863441530000.53791897110416410.23167340306050033","code_challenge":"Xg8hrSCFSVRZqtafg9UldsAK3cd5VYtJm9hm43GkXm8","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-08 14:13:06.623 +03:00 [INF] Showing login: User is not authenticated
2020-04-08 14:13:06.731 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:13:06.731 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:13:06.731 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:13:06.732 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:13:06.737 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:14:14.269 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 14:14:14.574 +03:00 [DBG] Start authorize request protocol validation
2020-04-08 14:14:14.574 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-08 14:14:14.575 +03:00 [DBG] Checking for PKCE parameters
2020-04-08 14:14:14.575 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-08 14:32:14.398 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:32:14.494 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:32:14.513 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:32:14.513 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:32:14.513 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:32:14.513 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:32:14.513 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:32:14.513 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:32:15.349 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:32:15.353 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:32:15.354 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:32:15.354 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:32:15.354 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:32:15.354 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:32:15.354 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:34:55.265 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:34:55.338 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:34:55.352 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:34:55.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:34:55.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:34:55.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:34:55.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:34:55.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:34:56.051 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:34:56.055 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:34:56.056 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:34:56.056 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:34:56.056 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:34:56.056 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:34:56.056 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:36:09.473 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:36:09.568 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:36:09.590 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:36:09.590 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:36:09.590 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:36:09.590 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:36:09.590 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:36:09.591 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:36:10.266 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:36:10.269 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:36:10.269 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:36:10.270 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:36:10.270 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:36:10.270 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:36:10.270 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:38:08.753 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 14:38:08.847 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 14:38:08.862 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 14:38:08.862 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 14:38:08.862 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 14:38:08.863 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 14:38:08.863 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 14:38:08.863 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 14:38:09.656 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 14:38:09.661 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 14:38:09.661 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 14:38:09.661 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 14:38:09.661 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 14:38:09.661 +03:00 [DBG] Error Url: /home/error
2020-04-08 14:38:09.661 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 14:40:14.294 +03:00 [DBG] CORS request made for path: /Account/AuthenticateCertificate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-08 14:40:22.620 +03:00 [ERR] The view 'InvalidSignature' was not found. Searched locations: ["/Views/Account/InvalidSignature.cshtml","/Views/Shared/InvalidSignature.cshtml","/Pages/Shared/InvalidSignature.cshtml"]
2020-04-08 14:40:23.415 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'InvalidSignature' was not found. The following locations were searched:
/Views/Account/InvalidSignature.cshtml
/Views/Shared/InvalidSignature.cshtml
/Pages/Shared/InvalidSignature.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 17:00:39.388 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 17:00:39.502 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 17:00:39.524 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 17:00:39.524 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 17:00:39.524 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 17:00:39.525 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 17:00:39.525 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 17:00:39.525 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 17:00:40.540 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The 'ClientId' option must be provided.
Parameter name: ClientId
   at Microsoft.AspNetCore.Authentication.OAuth.OAuthOptions.Validate()
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationOptions.Validate(String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-08 17:01:11.039 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 17:01:11.117 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 17:01:11.131 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 17:01:11.131 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 17:01:11.131 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 17:01:11.132 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 17:01:11.132 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 17:01:11.132 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 17:01:11.676 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 17:01:11.679 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 17:01:11.679 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 17:01:11.679 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 17:01:11.679 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 17:01:11.680 +03:00 [DBG] Error Url: /home/error
2020-04-08 17:01:11.680 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 17:08:01.817 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 17:08:01.930 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 17:08:01.951 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 17:08:01.951 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 17:08:01.951 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 17:08:01.951 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 17:08:01.951 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 17:08:01.951 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 17:08:02.466 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 17:08:02.470 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 17:08:02.470 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 17:08:02.470 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 17:08:02.470 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 17:08:02.471 +03:00 [DBG] Error Url: /home/error
2020-04-08 17:08:02.471 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 17:08:20.943 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-08 20:37:55.960 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 20:37:56.032 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 20:37:56.046 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 20:37:56.046 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 20:37:56.046 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 20:37:56.046 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 20:37:56.046 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 20:37:56.046 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 20:37:56.931 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 20:37:56.935 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 20:37:56.935 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 20:37:56.935 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 20:37:56.935 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 20:37:56.935 +03:00 [DBG] Error Url: /home/error
2020-04-08 20:37:56.935 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 20:38:14.486 +03:00 [INF] AuthenticationScheme: Google was challenged.
2020-04-08 20:39:55.332 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-08 20:39:55.403 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-08 20:39:55.417 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-08 20:39:55.417 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-08 20:39:55.418 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-08 20:39:55.418 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-08 20:39:55.418 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-08 20:39:55.418 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-08 20:39:55.944 +03:00 [DBG] Login Url: /Account/Login
2020-04-08 20:39:55.948 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-08 20:39:55.948 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-08 20:39:55.948 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-08 20:39:55.948 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-08 20:39:55.948 +03:00 [DBG] Error Url: /home/error
2020-04-08 20:39:55.948 +03:00 [DBG] Error Id Parameter: errorId
2020-04-08 20:40:12.046 +03:00 [INF] AuthenticationScheme: Google was challenged.
2020-04-08 20:40:37.433 +03:00 [INF] AuthenticationScheme: Google was challenged.
2020-04-09 08:33:19.891 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 08:33:20.013 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 08:33:20.029 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 08:33:20.029 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 08:33:20.029 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 08:33:20.029 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 08:33:20.029 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 08:33:20.029 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 08:33:21.284 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The 'CallbackPath' option must be provided.
Parameter name: CallbackPath
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationOptions.Validate()
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationOptions.Validate(String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 08:36:27.242 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 08:36:27.316 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 08:36:27.331 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 08:36:27.331 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 08:36:27.331 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 08:36:27.331 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 08:36:27.331 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 08:36:27.331 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 08:36:28.401 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The path in 'value' must start with '/'.
Parameter name: value
   at Microsoft.AspNetCore.Http.PathString..ctor(String value)
   at Microsoft.AspNetCore.Http.PathString.op_Implicit(String s)
   at RegiX.IdentityServer.Startup.<>c.<ConfigureServices>b__9_3(EAuthOptions opt) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Startup.cs:line 67
   at Microsoft.Extensions.Options.ConfigureNamedOptions`1.Configure(String name, TOptions options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.OptionsMonitor`1.<>c__DisplayClass10_0.<Get>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd(String name, Func`1 createOptions)
   at Microsoft.Extensions.Options.OptionsMonitor`1.Get(String name)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at IdentityServer4.Hosting.FederatedSignOut.FederatedSignoutAuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\FederatedSignOut\FederatedSignoutAuthenticationHandlerProvider.cs:line 33
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 08:36:58.199 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 08:36:58.273 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 08:36:58.292 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 08:36:58.292 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 08:36:58.292 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 08:36:58.292 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 08:36:58.292 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 08:36:58.292 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 08:36:59.032 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 08:36:59.035 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 08:36:59.035 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 08:36:59.036 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 08:36:59.036 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 08:36:59.036 +03:00 [DBG] Error Url: /home/error
2020-04-09 08:36:59.036 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 08:37:53.201 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 08:48:42.786 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 08:51:35.203 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 08:51:35.295 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 08:51:35.312 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 08:51:35.312 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 08:51:35.312 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 08:51:35.312 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 08:51:35.312 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 08:51:35.312 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 08:51:35.923 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 08:51:35.928 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 08:51:35.929 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 08:51:35.929 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 08:51:35.929 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 08:51:35.929 +03:00 [DBG] Error Url: /home/error
2020-04-09 08:51:35.930 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 08:55:03.902 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 08:55:03.976 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 08:55:03.991 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 08:55:03.991 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 08:55:03.992 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 08:55:03.992 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 08:55:03.992 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 08:55:03.992 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 08:55:04.546 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 08:55:04.549 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 08:55:04.550 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 08:55:04.550 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 08:55:04.550 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 08:55:04.550 +03:00 [DBG] Error Url: /home/error
2020-04-09 08:55:04.550 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 09:06:45.351 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 09:06:45.432 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 09:06:45.446 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 09:06:45.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 09:06:45.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 09:06:45.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 09:06:45.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 09:06:45.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 09:06:46.468 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 09:06:46.472 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 09:06:46.472 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 09:06:46.472 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 09:06:46.474 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 09:06:46.474 +03:00 [DBG] Error Url: /home/error
2020-04-09 09:06:46.474 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 09:07:15.373 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 09:08:18.630 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 09:09:11.746 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 09:09:12.662 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotImplementedException: The method or operation is not implemented.
   at RegiX.IdentityServer.ExternalController.ChallengePost(String provider, String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\ExternalController.cs:line 50
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 09:09:40.177 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 09:09:40.279 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 09:09:40.295 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 09:09:40.296 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 09:09:40.296 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 09:09:40.296 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 09:09:40.296 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 09:09:40.296 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 09:09:41.008 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 09:09:41.013 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 09:09:41.013 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 09:09:41.013 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 09:09:41.013 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 09:09:41.013 +03:00 [DBG] Error Url: /home/error
2020-04-09 09:09:41.013 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 09:10:03.387 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 09:11:06.867 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 09:11:06.950 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 09:11:06.968 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 09:11:06.969 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 09:11:06.969 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 09:11:06.969 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 09:11:06.969 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 09:11:06.969 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 09:11:07.787 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 09:11:07.792 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 09:11:07.792 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 09:11:07.792 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 09:11:07.792 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 09:11:07.792 +03:00 [DBG] Error Url: /home/error
2020-04-09 09:11:07.792 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 09:11:14.081 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 09:11:14.161 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 09:11:30.436 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 09:11:30.440 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 10:00:07.780 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 10:00:07.866 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 10:00:07.884 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 10:00:07.884 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 10:00:07.884 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 10:00:07.884 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 10:00:07.885 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 10:00:07.885 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 10:00:08.687 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 10:00:08.691 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 10:00:08.691 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 10:00:08.691 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 10:00:08.692 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 10:00:08.692 +03:00 [DBG] Error Url: /home/error
2020-04-09 10:00:08.692 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 10:00:16.626 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 10:01:27.034 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 10:01:27.114 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 10:01:27.128 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 10:01:27.128 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 10:01:27.128 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 10:01:27.128 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 10:01:27.128 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 10:01:27.129 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 10:01:27.896 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 10:01:27.900 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 10:01:27.901 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 10:01:27.901 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 10:01:27.901 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 10:01:27.901 +03:00 [DBG] Error Url: /home/error
2020-04-09 10:01:27.901 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 10:01:34.373 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 10:02:52.749 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 10:02:52.833 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 10:02:52.850 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 10:02:52.851 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 10:02:52.852 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 10:02:52.853 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 10:02:52.854 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 10:02:52.855 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 10:02:53.551 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 10:02:53.555 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 10:02:53.556 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 10:02:53.556 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 10:02:53.556 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 10:02:53.556 +03:00 [DBG] Error Url: /home/error
2020-04-09 10:02:53.556 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 10:03:00.317 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 10:03:02.686 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 10:48:35.928 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 10:48:36.010 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 10:48:36.025 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 10:48:36.025 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 10:48:36.025 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 10:48:36.025 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 10:48:36.026 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 10:48:36.026 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 10:48:37.115 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 10:48:37.118 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 10:48:37.118 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 10:48:37.118 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 10:48:37.118 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 10:48:37.119 +03:00 [DBG] Error Url: /home/error
2020-04-09 10:48:37.119 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 10:48:44.042 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 10:49:04.656 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 10:51:06.946 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 10:51:07.044 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 10:51:07.058 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 10:51:07.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 10:51:07.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 10:51:07.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 10:51:07.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 10:51:07.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 10:51:08.141 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 10:51:08.145 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 10:51:08.145 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 10:51:08.146 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 10:51:08.146 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 10:51:08.146 +03:00 [DBG] Error Url: /home/error
2020-04-09 10:51:08.146 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 10:51:18.686 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-09 11:09:07.228 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:09:07.308 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:09:07.323 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:09:07.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:09:07.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:09:07.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:09:07.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:09:07.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:09:08.439 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:09:08.449 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:09:08.449 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:09:08.450 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:09:08.450 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:09:08.450 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:09:08.450 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:09:22.105 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-09 11:10:02.650 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-09 11:14:46.103 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:14:46.201 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:14:46.219 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:14:46.219 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:14:46.219 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:14:46.220 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:14:46.220 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:14:46.220 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:14:46.948 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:14:46.952 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:14:46.952 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:14:46.952 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:14:46.952 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:14:46.952 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:14:46.952 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:14:56.792 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-09 11:15:08.948 +03:00 [INF] EAuth was not authenticated. Failure message: JUST NO
2020-04-09 11:19:58.880 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:19:59.006 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:19:59.023 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:19:59.023 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:19:59.023 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:19:59.023 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:19:59.024 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:19:59.024 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:20:00.137 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:20:00.140 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:20:00.140 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:20:00.140 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:20:00.141 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:20:00.141 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:20:00.141 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:20:24.700 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:20:46.673 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Specified method is not supported.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpRequestStream.set_Position(Int64 value)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:21:17.293 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:21:17.389 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:21:17.403 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:21:17.403 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:21:17.404 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:21:17.404 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:21:17.404 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:21:17.404 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:21:18.476 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:21:18.482 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:21:18.482 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:21:18.482 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:21:18.482 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:21:18.482 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:21:18.482 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:21:24.762 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:21:35.879 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Specified method is not supported.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseStream.set_Position(Int64 value)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:21:57.944 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:21:58.016 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:21:58.031 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:21:58.031 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:21:58.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:21:58.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:21:58.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:21:58.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:21:58.957 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:21:58.960 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:21:58.961 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:21:58.961 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:21:58.961 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:21:58.961 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:21:58.961 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:22:05.200 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:22:22.594 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.Internal.DefaultHttpResponse.Redirect(String location, Boolean permanent)
   at Microsoft.AspNetCore.Http.HttpResponse.Redirect(String location)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 57
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:22:22.741 +03:00 [WRN] The response has already started, the error page middleware will not be executed.
2020-04-09 11:22:22.889 +03:00 [ERR] Connection id "0HLUSBS95F04P", Request id "0HLUSBS95F04P:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.Internal.DefaultHttpResponse.Redirect(String location, Boolean permanent)
   at Microsoft.AspNetCore.Http.HttpResponse.Redirect(String location)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 57
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-04-09 11:22:30.777 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:22:36.823 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.Internal.DefaultHttpResponse.Redirect(String location, Boolean permanent)
   at Microsoft.AspNetCore.Http.HttpResponse.Redirect(String location)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 57
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:22:36.826 +03:00 [WRN] The response has already started, the error page middleware will not be executed.
2020-04-09 11:22:36.945 +03:00 [ERR] Connection id "0HLUSBS95F04R", Request id "0HLUSBS95F04R:00000003": An unhandled exception was thrown by the application.
System.InvalidOperationException: StatusCode cannot be set because the response has already started.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ThrowResponseAlreadyStartedException(String value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.Microsoft.AspNetCore.Http.Features.IHttpResponseFeature.set_StatusCode(Int32 value)
   at Microsoft.AspNetCore.Http.Internal.DefaultHttpResponse.Redirect(String location, Boolean permanent)
   at Microsoft.AspNetCore.Http.HttpResponse.Redirect(String location)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 57
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2020-04-09 11:23:33.616 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:23:33.688 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:23:33.704 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:23:33.704 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:23:33.704 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:23:33.704 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:23:33.704 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:23:33.705 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:23:34.687 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:23:34.691 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:23:34.692 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:23:34.692 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:23:34.692 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:23:34.692 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:23:34.692 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:23:40.977 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:23:56.467 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Specified method is not supported.
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.ReadOnlyStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleChallengeAsync(AuthenticationProperties properties) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 54
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.ChallengeAsync(AuthenticationProperties properties)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ChallengeAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ChallengeResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:42:43.571 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:42:43.665 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:42:43.679 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:42:43.679 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:42:43.679 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:42:43.679 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:42:43.679 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:42:43.680 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:42:44.628 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:42:44.632 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:42:44.632 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:42:44.632 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:42:44.632 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:42:44.632 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:42:44.632 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:48:08.407 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:48:08.488 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:48:08.504 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:48:08.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:48:08.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:48:08.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:48:08.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:48:08.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:48:09.579 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:48:09.582 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:48:09.582 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:48:09.582 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:48:09.583 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:48:09.583 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:48:09.583 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:48:31.876 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:48:36.234 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 11:54:38.661 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:54:38.733 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:54:38.746 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:54:38.746 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:54:38.747 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:54:38.747 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:54:38.747 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:54:38.747 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:54:39.688 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:54:39.692 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:54:39.692 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:54:39.692 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:54:39.693 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:54:39.693 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:54:39.693 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:54:46.215 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String.
Parameter name: s
   at System.Text.Encoding.GetBytes(String s)
   at RegiX.IdentityServer.eAuth.StringUtils.Base64Encode(String plainText) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\eAuth\StringUtils.cs:line 14
   at RegiX.IdentityServer.AccountController.BuildLoginViewModelAsync(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 508
   at RegiX.IdentityServer.AccountController.Login(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:55:41.880 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String.
Parameter name: s
   at System.Text.Encoding.GetBytes(String s)
   at RegiX.IdentityServer.eAuth.StringUtils.Base64Encode(String plainText) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\eAuth\StringUtils.cs:line 14
   at RegiX.IdentityServer.AccountController.BuildLoginViewModelAsync(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 508
   at RegiX.IdentityServer.AccountController.Login(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 79
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 11:56:06.862 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:56:06.941 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:56:06.954 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:56:06.954 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:56:06.954 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:56:06.954 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:56:06.955 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:56:06.955 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:56:07.569 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:56:07.571 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:56:07.572 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:56:07.572 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:56:07.572 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:56:07.572 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:56:07.572 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:56:42.269 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 11:56:42.368 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 11:56:42.399 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 11:56:42.399 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 11:56:42.399 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 11:56:42.399 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 11:56:42.399 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 11:56:42.400 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 11:56:43.256 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 11:56:43.259 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 11:56:43.259 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 11:56:43.259 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 11:56:43.259 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 11:56:43.259 +03:00 [DBG] Error Url: /home/error
2020-04-09 11:56:43.259 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 11:56:59.130 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:57:11.517 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 11:57:46.812 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 11:57:46.836 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:04:39.118 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:04:39.204 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:04:39.222 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:04:39.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:04:39.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:04:39.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:04:39.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:04:39.223 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:04:40.188 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:04:40.192 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:04:40.194 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:04:40.194 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:04:40.194 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:04:40.194 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:04:40.194 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:04:52.974 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:04:53.318 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:05:30.282 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:05:30.366 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:05:30.380 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:05:30.380 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:05:30.380 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:05:30.381 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:05:30.381 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:05:30.381 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:05:31.416 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:05:31.419 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:05:31.419 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:05:31.419 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:05:31.419 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:05:31.419 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:05:31.419 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:05:40.034 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:05:40.356 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:05:53.275 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:05:53.292 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:18:56.507 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:18:56.577 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:18:56.591 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:18:56.591 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:18:56.591 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:18:56.592 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:18:56.592 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:18:56.592 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:18:57.565 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:18:57.569 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:18:57.569 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:18:57.569 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:18:57.570 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:18:57.570 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:18:57.570 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:19:04.742 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:22:20.206 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:22:20.284 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:22:20.297 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:22:20.297 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:22:20.297 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:22:20.297 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:22:20.297 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:22:20.297 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:22:21.118 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:22:21.121 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:22:21.121 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:22:21.121 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:22:21.121 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:22:21.121 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:22:21.121 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:22:34.437 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:22:34.816 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:25:40.924 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:25:40.945 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:33:27.668 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:33:27.690 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:34:02.772 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:34:02.844 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:34:02.857 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:34:02.857 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:34:02.857 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:34:02.857 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:34:02.857 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:34:02.857 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:34:03.701 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:34:03.705 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:34:03.705 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:34:03.705 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:34:03.705 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:34:03.705 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:34:03.705 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:34:13.571 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:34:13.895 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 12:35:49.661 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 12:35:49.731 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 12:35:49.744 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 12:35:49.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 12:35:49.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 12:35:49.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 12:35:49.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 12:35:49.744 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 12:35:50.712 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 12:35:50.716 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 12:35:50.716 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 12:35:50.716 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 12:35:50.716 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 12:35:50.716 +03:00 [DBG] Error Url: /home/error
2020-04-09 12:35:50.716 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 12:36:01.925 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 12:36:02.248 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 13:07:15.987 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:07:16.057 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:07:16.070 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:07:16.071 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:07:16.071 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:07:16.071 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:07:16.071 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:07:16.071 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:07:17.047 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:07:17.051 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:07:17.051 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:07:17.051 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:07:17.051 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:07:17.051 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:07:17.051 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:07:22.113 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at TechnoLogica.Authentication.EAuth.Utils.GenerateNewSamlRequest(EAuthOptions options) in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\Utils.cs:line 25
   at RegiX.IdentityServer.AccountController.BuildLoginViewModelAsync(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 505
   at RegiX.IdentityServer.AccountController.Login(String returnUrl) in E:\RegiX\RegiX.IdentityServer - master\RegiX.IdentityServer\Quickstart\Account\AccountController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 13:08:10.713 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:08:10.788 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:08:10.805 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:08:10.805 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:08:10.805 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:08:10.805 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:08:10.805 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:08:10.805 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:08:11.431 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:08:11.434 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:08:11.434 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:08:11.435 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:08:11.435 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:08:11.435 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:08:11.435 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:08:42.899 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:08:42.971 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:08:42.984 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:08:42.984 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:08:42.984 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:08:42.984 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:08:42.984 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:08:42.984 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:08:47.078 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:08:47.082 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:08:47.082 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:08:47.082 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:08:47.082 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:08:47.083 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:08:47.083 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:14:19.229 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:14:19.316 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:14:19.329 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:14:19.329 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:14:19.329 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:14:19.329 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:14:19.329 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:14:19.329 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:14:24.318 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:14:24.322 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:14:24.322 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:14:24.322 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:14:24.322 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:14:24.322 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:14:24.322 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:15:19.067 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:15:19.142 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:15:19.156 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:15:19.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:15:19.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:15:19.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:15:19.156 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:15:19.157 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:15:23.295 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:15:23.299 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:15:23.299 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:15:23.299 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:15:23.299 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:15:23.299 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:15:23.299 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:17:29.347 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:17:29.421 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:17:29.437 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:17:29.437 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:17:29.438 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:17:29.438 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:17:29.438 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:17:29.438 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:17:33.663 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:17:33.667 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:17:33.667 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:17:33.667 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:17:33.667 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:17:33.667 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:17:33.667 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:22:16.732 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:22:16.804 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:22:16.817 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:22:16.817 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:22:16.817 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:22:16.817 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:22:16.818 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:22:16.818 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:22:20.847 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:22:20.850 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:22:20.850 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:22:20.850 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:22:20.851 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:22:20.851 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:22:20.851 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:22:32.956 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 13:22:33.038 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 13:23:11.030 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 13:24:02.871 +03:00 [INF] Error from RemoteAuthentication: The method or operation is not implemented..
2020-04-09 13:24:03.067 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.NotImplementedException: The method or operation is not implemented.
   at TechnoLogica.Authentication.EAuth.EAuthHandler.HandleRemoteAuthenticateAsync() in E:\RegiX\RegiX.IdentityServer - master\TechnoLogica.Authentication.EAuth\EAuthHandler.cs:line 73
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 13:54:15.361 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 13:54:15.434 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 13:54:15.447 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 13:54:15.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 13:54:15.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 13:54:15.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 13:54:15.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 13:54:15.447 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 13:54:19.316 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 13:54:19.320 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 13:54:19.320 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 13:54:19.320 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 13:54:19.320 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 13:54:19.321 +03:00 [DBG] Error Url: /home/error
2020-04-09 13:54:19.321 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 13:54:28.015 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 13:54:28.103 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 13:55:19.696 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 13:56:13.905 +03:00 [DBG] Augmenting SignInContext
2020-04-09 13:56:13.909 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 13:56:13.909 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 13:56:13.909 +03:00 [DBG] Adding auth_time claim with value: 1586429773
2020-04-09 13:56:13.929 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:03:41.403 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 14:03:41.487 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 14:03:41.504 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 14:03:41.504 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 14:03:41.505 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 14:03:41.505 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 14:03:41.505 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 14:03:41.505 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 14:03:45.854 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 14:03:45.858 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 14:03:45.858 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 14:03:45.858 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 14:03:45.858 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 14:03:45.858 +03:00 [DBG] Error Url: /home/error
2020-04-09 14:03:45.858 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 14:04:08.149 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-09 14:04:08.156 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:04:08.157 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:04:08.159 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-09 14:04:08.163 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-09 14:04:08.164 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-09 14:04:08.170 +03:00 [DBG] Start discovery request
2020-04-09 14:04:10.330 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:04:10.517 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:04:10.517 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:04:10.522 +03:00 [DBG] Start authorize request
2020-04-09 14:04:10.535 +03:00 [DBG] No user present in authorize request
2020-04-09 14:04:10.544 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:04:10.572 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:04:10.590 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:04:10.646 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:04:10.670 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864302501890.202086349866365870.4077285253774843","UiLocales":null,"Nonce":"N0.011829417599803051586430250190","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.011829417599803051586430250190","state":"15864302501890.202086349866365870.4077285253774843","code_challenge":"3ZAuDU7CT__Dliabht203evogovH5UjzBYFjrnKINa0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:04:10.716 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:04:10.827 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:04:10.828 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:04:10.828 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:04:10.829 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:04:10.836 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:04:15.969 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:04:16.040 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:04:59.207 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:05:01.832 +03:00 [INF] Error from RemoteAuthentication: .
2020-04-09 14:05:02.028 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: An error was encountered while handling the remote login. ---> System.Exception
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Authentication.RemoteAuthenticationHandler`1.HandleRequestAsync()
   at IdentityServer4.Hosting.FederatedSignOut.AuthenticationRequestHandlerWrapper.HandleRequestAsync() in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\FederatedSignOut\AuthenticationRequestHandlerWrapper.cs:line 38
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-04-09 14:05:30.507 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:05:30.515 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:05:30.515 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:05:30.515 +03:00 [DBG] Start authorize request
2020-04-09 14:05:30.515 +03:00 [DBG] No user present in authorize request
2020-04-09 14:05:30.516 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:05:30.516 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:05:30.516 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:05:30.516 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:05:30.517 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864302501890.202086349866365870.4077285253774843","UiLocales":null,"Nonce":"N0.59540977897829221586430330378","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.59540977897829221586430330378","state":"15864302501890.202086349866365870.4077285253774843","code_challenge":"bojdNul7Ht1kvvxI6cJLe3zid97eUTlMwaqB7KeCca0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:05:30.517 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:05:30.528 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:05:30.528 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:05:30.528 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:05:30.529 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:05:30.529 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:05:32.790 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:05:32.803 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:05:56.704 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:06:14.276 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:06:14.279 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:06:14.280 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:06:14.280 +03:00 [DBG] Adding auth_time claim with value: 1586430374
2020-04-09 14:06:14.295 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:07:42.458 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:07:42.460 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:07:42.460 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:07:42.460 +03:00 [DBG] Start authorize request
2020-04-09 14:07:42.460 +03:00 [DBG] User in authorize request: 8309086567
2020-04-09 14:07:42.461 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:07:42.461 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:42.461 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:07:42.462 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:07:42.462 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"8309086567","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864302501890.202086349866365870.4077285253774843","UiLocales":null,"Nonce":"N0.75436221392619031586430462299","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"04049e1f4b4e91682508d66ac75b4998","Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.75436221392619031586430462299","state":"15864302501890.202086349866365870.4077285253774843","code_challenge":"97I02NNiA5QMFkV0HjGxE4oOjIn4QmNk2nva08hwJyQ","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:07:43.781 +03:00 [ERR] Failed executing DbCommand (301ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:43.924 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:43.990 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:44.101 +03:00 [DBG] Client is configured to not require consent, no consent is required
2020-04-09 14:07:44.112 +03:00 [DBG] Creating Authorization Code Flow response.
2020-04-09 14:07:44.162 +03:00 [DBG] Authorize endpoint response
{"SubjectId":"8309086567","ClientId":"regixlocalclientangular","RedirectUri":"http://localhost:4200/authorize.html","State":"15864302501890.202086349866365870.4077285253774843","Scope":"openid profile regixclientapi regixcoremetadataapi","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2020-04-09 14:07:44.187 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:07:44.188 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:07:44.603 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-09 14:07:44.603 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-09 14:07:44.605 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:44.605 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:44.605 +03:00 [DBG] CORS request made for path: /connect/token from origin: http://localhost:4200
2020-04-09 14:07:44.605 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:44.605 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:44.605 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:44.605 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:44.605 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-09 14:07:44.605 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-09 14:07:44.606 +03:00 [DBG] Request path /connect/token matched to endpoint type Token
2020-04-09 14:07:44.618 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-09 14:07:44.618 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-09 14:07:44.619 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-09 14:07:44.619 +03:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2020-04-09 14:07:44.619 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-09 14:07:44.619 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2020-04-09 14:07:44.636 +03:00 [DBG] Start token request.
2020-04-09 14:07:44.636 +03:00 [DBG] Start token request.
2020-04-09 14:07:44.636 +03:00 [DBG] Start token request.
2020-04-09 14:07:44.657 +03:00 [DBG] Start client validation
2020-04-09 14:07:44.659 +03:00 [DBG] Start client validation
2020-04-09 14:07:44.659 +03:00 [DBG] Start client validation
2020-04-09 14:07:44.670 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-09 14:07:44.670 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-09 14:07:44.670 +03:00 [DBG] Start parsing Basic Authentication secret
2020-04-09 14:07:44.678 +03:00 [DBG] Start parsing for secret in post body
2020-04-09 14:07:44.678 +03:00 [DBG] Start parsing for secret in post body
2020-04-09 14:07:44.678 +03:00 [DBG] Start parsing for secret in post body
2020-04-09 14:07:44.679 +03:00 [DBG] client id without secret found
2020-04-09 14:07:44.679 +03:00 [DBG] client id without secret found
2020-04-09 14:07:44.679 +03:00 [DBG] client id without secret found
2020-04-09 14:07:44.679 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-09 14:07:44.679 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-09 14:07:44.679 +03:00 [DBG] Parser found secret: PostBodySecretParser
2020-04-09 14:07:44.679 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-09 14:07:44.679 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-09 14:07:44.679 +03:00 [DBG] Secret id found: regixlocalclientangular
2020-04-09 14:07:44.679 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:44.679 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:44.679 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-09 14:07:44.679 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:44.680 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-09 14:07:44.680 +03:00 [DBG] Client validation success
2020-04-09 14:07:44.680 +03:00 [DBG] Client validation success
2020-04-09 14:07:44.680 +03:00 [DBG] Public Client - skipping secret validation success
2020-04-09 14:07:44.680 +03:00 [DBG] Client validation success
2020-04-09 14:07:44.691 +03:00 [DBG] Start token request validation
2020-04-09 14:07:44.691 +03:00 [DBG] Start token request validation
2020-04-09 14:07:44.691 +03:00 [DBG] Start token request validation
2020-04-09 14:07:44.710 +03:00 [DBG] Start validation of authorization code token request
2020-04-09 14:07:44.710 +03:00 [DBG] Start validation of authorization code token request
2020-04-09 14:07:44.710 +03:00 [DBG] Start validation of authorization code token request
2020-04-09 14:07:44.737 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-09 14:07:44.737 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-09 14:07:44.737 +03:00 [DBG] Client required a proof key for code exchange. Starting PKCE validation
2020-04-09 14:07:45.124 +03:00 [ERR] Failed executing DbCommand (345ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:45.438 +03:00 [ERR] Failed executing DbCommand (515ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:45.546 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:45.595 +03:00 [ERR] Failed executing DbCommand (529ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:45.813 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:45.842 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:45.843 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:45.906 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:46.031 +03:00 [DBG] Validation of authorization code token request success
2020-04-09 14:07:46.059 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:46.157 +03:00 [DBG] Validation of authorization code token request success
2020-04-09 14:07:46.252 +03:00 [DBG] Validation of authorization code token request success
2020-04-09 14:07:46.254 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.46945371083857235158643046229915864304622990.8557579974319065","code":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-09 14:07:46.254 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.46945371083857235158643046229915864304622990.8557579974319065","code":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-09 14:07:46.254 +03:00 [INF] Token request validation success, {"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"authorization_code","client_id":"regixlocalclientangular","code_verifier":"C0.46945371083857235158643046229915864304622990.8557579974319065","code":"d32b5e0825a8518baf79a041cfc2037fa8d1b8e0da2dae2377c00eb2b63f30d0","redirect_uri":"http://localhost:4200/authorize.html"},"$type":"TokenRequestValidationLog"}
2020-04-09 14:07:46.274 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:46.274 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:46.274 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:46.293 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-09 14:07:46.293 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-09 14:07:46.293 +03:00 [DBG] Getting claims for access token for client: regixlocalclientangular
2020-04-09 14:07:46.294 +03:00 [DBG] Getting claims for access token for subject: 8309086567
2020-04-09 14:07:46.294 +03:00 [DBG] Getting claims for access token for subject: 8309086567
2020-04-09 14:07:46.294 +03:00 [DBG] Getting claims for access token for subject: 8309086567
2020-04-09 14:07:46.302 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-09 14:07:46.302 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-09 14:07:46.302 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-09 14:07:46.344 +03:00 [WRN] The Include operation for navigation '[u].FederationUsers' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-09 14:07:46.344 +03:00 [WRN] The Include operation for navigation '[u].UsersToRoles' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-09 14:07:46.435 +03:00 [WRN] The Include operation for navigation '[u].FederationUsers' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-09 14:07:46.436 +03:00 [WRN] The Include operation for navigation '[u].UsersToRoles' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2020-04-09 14:07:46.910 +03:00 [ERR] Failed executing DbCommand (462ms) [Parameters=[@__userID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[NAME], [u.FederationUsers].[USER_AUTHORITY_ID] AS [UserAuthorityId], [u].[ID]
FROM [USERS] AS [u]
LEFT JOIN [FEDERATION_USERS] AS [u.FederationUsers] ON [u].[ID] = [u.FederationUsers].[ID]
WHERE [u].[ID] = @__userID_0
ORDER BY [u].[ID]
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:46.910 +03:00 [ERR] Failed executing DbCommand (462ms) [Parameters=[@__userID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[NAME], [u.FederationUsers].[USER_AUTHORITY_ID] AS [UserAuthorityId], [u].[ID]
FROM [USERS] AS [u]
LEFT JOIN [FEDERATION_USERS] AS [u.FederationUsers] ON [u].[ID] = [u.FederationUsers].[ID]
WHERE [u].[ID] = @__userID_0
ORDER BY [u].[ID]
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:47.163 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:47.251 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:47.373 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:47.464 +03:00 [ERR] Failed executing DbCommand (304ms) [Parameters=[@__userID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[NAME], [u.FederationUsers].[USER_AUTHORITY_ID] AS [UserAuthorityId], [u].[ID]
FROM [USERS] AS [u]
LEFT JOIN [FEDERATION_USERS] AS [u.FederationUsers] ON [u].[ID] = [u.FederationUsers].[ID]
WHERE [u].[ID] = @__userID_0
ORDER BY [u].[ID]
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:47.678 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:47.738 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:47.892 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:48.009 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:48.009 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:48.009 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:48.023 +03:00 [DBG] Getting claims for identity token for subject: 8309086567 and client: regixlocalclientangular
2020-04-09 14:07:48.023 +03:00 [DBG] Getting claims for identity token for subject: 8309086567 and client: regixlocalclientangular
2020-04-09 14:07:48.023 +03:00 [DBG] Getting claims for identity token for subject: 8309086567 and client: regixlocalclientangular
2020-04-09 14:07:48.023 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-09 14:07:48.023 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-09 14:07:48.023 +03:00 [DBG] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
2020-04-09 14:07:48.135 +03:00 [DBG] Token request success.
2020-04-09 14:07:48.135 +03:00 [DBG] Token request success.
2020-04-09 14:07:48.135 +03:00 [DBG] Token request success.
2020-04-09 14:07:48.177 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-09 14:07:48.177 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:48.177 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:48.178 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-09 14:07:48.178 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-09 14:07:48.179 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-09 14:07:48.186 +03:00 [DBG] Start key discovery request
2020-04-09 14:07:48.215 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-09 14:07:48.215 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:48.215 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:48.215 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-09 14:07:48.216 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-09 14:07:48.216 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-09 14:07:48.216 +03:00 [DBG] Start key discovery request
2020-04-09 14:07:48.220 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration/jwks from origin: http://localhost:4200
2020-04-09 14:07:48.221 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:48.221 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:48.221 +03:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2020-04-09 14:07:48.221 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2020-04-09 14:07:48.221 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2020-04-09 14:07:48.221 +03:00 [DBG] Start key discovery request
2020-04-09 14:07:48.248 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-09 14:07:48.249 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:48.249 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:48.254 +03:00 [DBG] CORS request made for path: /connect/userinfo from origin: http://localhost:4200
2020-04-09 14:07:48.255 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:07:48.255 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:07:48.255 +03:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2020-04-09 14:07:48.258 +03:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2020-04-09 14:07:48.259 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2020-04-09 14:07:48.273 +03:00 [DBG] Start userinfo request
2020-04-09 14:07:48.279 +03:00 [DBG] Bearer token found in header
2020-04-09 14:07:48.311 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:48.317 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:07:48.574 +03:00 [ERR] Failed executing DbCommand (256ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:48.710 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:48.786 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:48.888 +03:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2020-04-09 14:07:48.891 +03:00 [DBG] Token validation success
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Reference","ExpectedScope":"openid","TokenHandle":"8520dc3dfefd366c954906aee39a63bd57a193c05ff2fe430ec49840103295ad","JwtId":null,"Claims":{"iss":"https://localhost:44354","nbf":1586430467,"exp":1586434067,"aud":["https://localhost:44354/resources","regixcoremetadataapi","regixclientapi"],"client_id":"regixlocalclientangular","scope":["openid","profile","regixcoremetadataapi","regixclientapi"],"sub":"8309086567","auth_time":1586430374,"idp":"local","amr":"pwd"},"$type":"TokenValidationLog"}
2020-04-09 14:07:49.140 +03:00 [ERR] Failed executing DbCommand (246ms) [Parameters=[@__subjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ID], [u].[ACCESS_FAILED_COUNT], [u].[CREATED_BY], [u].[CREATED_ON], [u].[IS_ACTIVE], [u].[LOCKOUT_END_DATE], [u].[MODIFIED_BY], [u].[MODIFIED_ON], [u].[NAME], [u].[USER_NAME], [u].[USER_TYPE]
FROM [USERS] AS [u]
WHERE [u].[ID] = @__subjectId_0
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:49.263 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:49.334 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider._TrackEntities[TOut,TIn](IEnumerable`1 results, QueryContext queryContext, IList`1 entityTrackingInfos, IList`1 entityAccessors)+MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:49.435 +03:00 [DBG] Creating userinfo response
2020-04-09 14:07:49.442 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-09 14:07:49.446 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-09 14:07:49.450 +03:00 [DBG] Requested claim types: 
2020-04-09 14:07:49.450 +03:00 [DBG] Scopes in access token: openid profile regixcoremetadataapi regixclientapi
2020-04-09 14:07:49.450 +03:00 [INF] Getting claims for user:  in client: regixlocalclientangular
2020-04-09 14:07:49.685 +03:00 [ERR] Failed executing DbCommand (233ms) [Parameters=[@__userID_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[NAME], [u.FederationUsers].[USER_AUTHORITY_ID] AS [UserAuthorityId], [u].[ID]
FROM [USERS] AS [u]
LEFT JOIN [FEDERATION_USERS] AS [u.FederationUsers] ON [u].[ID] = [u.FederationUsers].[ID]
WHERE [u].[ID] = @__userID_0
ORDER BY [u].[ID]
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2020-04-09 14:07:49.816 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
2020-04-09 14:07:49.891 +03:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'RegiX.IdentityServer.RegiXClientUsers.RegiXClientContext'.
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
System.OverflowException: Failed to convert parameter value from a Decimal to a Int32. ---> System.OverflowException: Value was either too large or too small for an Int32.
   at System.Decimal.ToInt32(Decimal d)
   at System.Decimal.System.IConvertible.ToInt32(IFormatProvider provider)
   at System.Convert.ChangeType(Object value, Type conversionType, IFormatProvider provider)
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   --- End of inner exception stack trace ---
   at System.Data.SqlClient.SqlParameter.CoerceValue(Object value, MetaType destinationType, Boolean& coercedToDataFeed, Boolean& typeChanged, Boolean allowStreaming)
   at System.Data.SqlClient.SqlParameter.GetCoercedValue()
   at System.Data.SqlClient.SqlParameter.Validate(Int32 index, Boolean isCommandProc)
   at System.Data.SqlClient.SqlCommand.BuildParamList(TdsParser parser, SqlParameterCollection parameters)
   at System.Data.SqlClient.SqlCommand.BuildExecuteSql(CommandBehavior behavior, String commandText, SqlParameterCollection parameters, _SqlRPC& rpc)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(DbContext _, Boolean buffer)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at lambda_method(Closure )
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ResultEnumerable`1.GetEnumerator()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Linq.Enumerable.TryGetFirst[TSource](IEnumerable`1 source, Boolean& found)
   at System.Linq.Enumerable.First[TSource](IEnumerable`1 source)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass15_1`1.<CompileQueryCore>b__0(QueryContext qc)
2020-04-09 14:07:50.000 +03:00 [INF] Profile service returned the following claim types: 
2020-04-09 14:07:50.001 +03:00 [DBG] End userinfo request
2020-04-09 14:08:09.663 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:08:09.712 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:08:09.783 +03:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2020-04-09 14:08:09.791 +03:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2020-04-09 14:08:09.792 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2020-04-09 14:08:09.815 +03:00 [DBG] Processing signout callback request
2020-04-09 14:08:09.838 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:08:09.838 +03:00 [DBG] No client front-channel logout URLs
2020-04-09 14:08:09.838 +03:00 [DBG] No client back-channel logout URLs
2020-04-09 14:08:09.838 +03:00 [INF] Successful signout callback.
2020-04-09 14:08:09.838 +03:00 [DBG] No client front-channel iframe urls
2020-04-09 14:08:09.839 +03:00 [DBG] No client back-channel iframe urls
2020-04-09 14:08:12.380 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:08:12.381 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:08:12.381 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:08:12.381 +03:00 [DBG] Start authorize request
2020-04-09 14:08:12.382 +03:00 [DBG] No user present in authorize request
2020-04-09 14:08:12.382 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:08:12.382 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:08:12.382 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:08:12.383 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:08:12.384 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864304922590.41375682262750990.5512992440938567","UiLocales":null,"Nonce":"N0.90600621850616151586430492259","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.90600621850616151586430492259","state":"15864304922590.41375682262750990.5512992440938567","code_challenge":"g_Xc8aEEGsXnaGXZh-vCRplTesXqVQVl0eH7MebxRj8","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:08:12.384 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:08:12.411 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:08:12.412 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:08:12.412 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:08:12.413 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:08:12.413 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:08:16.838 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:08:16.851 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:08:54.525 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:10:23.747 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:10:23.747 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:10:23.747 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:10:23.747 +03:00 [DBG] Adding auth_time claim with value: 1586430623
2020-04-09 14:10:23.748 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:10:58.739 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:10:58.741 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:11:03.754 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:11:03.754 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:11:03.754 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:11:03.754 +03:00 [DBG] Start authorize request
2020-04-09 14:11:03.755 +03:00 [DBG] No user present in authorize request
2020-04-09 14:11:03.755 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:11:03.755 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:11:03.755 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:11:03.755 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:11:03.756 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864304922590.41375682262750990.5512992440938567","UiLocales":null,"Nonce":"N0.112440324682188561586430663616","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.112440324682188561586430663616","state":"15864304922590.41375682262750990.5512992440938567","code_challenge":"ZCJGXsMyrx39e-A1lwTbJ_mzPm2rF3ziAsWugKhLhA4","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:11:03.756 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:11:03.768 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:11:03.769 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:11:03.769 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:11:03.770 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:11:03.770 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:11:05.832 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:11:05.845 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:11:37.165 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:12:09.510 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:12:09.515 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:12:09.515 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:12:09.515 +03:00 [DBG] Adding auth_time claim with value: 1586430729
2020-04-09 14:12:09.516 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:12:41.804 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:12:41.806 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:14:33.817 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 14:14:33.890 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 14:14:33.902 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 14:14:33.903 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 14:14:33.903 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 14:14:33.903 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 14:14:33.903 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 14:14:33.903 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 14:14:40.510 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 14:14:40.514 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 14:14:40.514 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 14:14:40.514 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 14:14:40.514 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 14:14:40.514 +03:00 [DBG] Error Url: /home/error
2020-04-09 14:14:40.514 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 14:14:50.520 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-09 14:14:50.526 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:14:50.526 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:14:50.528 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-09 14:14:50.533 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-09 14:14:50.534 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-09 14:14:50.539 +03:00 [DBG] Start discovery request
2020-04-09 14:14:52.502 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:14:52.692 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:14:52.693 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:14:52.698 +03:00 [DBG] Start authorize request
2020-04-09 14:14:52.710 +03:00 [DBG] No user present in authorize request
2020-04-09 14:14:52.718 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:14:52.745 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:14:52.764 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:14:52.817 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:14:52.839 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864308923570.159130837495460530.43084504669532975","UiLocales":null,"Nonce":"N0.92716534979540331586430892357","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.92716534979540331586430892357","state":"15864308923570.159130837495460530.43084504669532975","code_challenge":"NwDyAlmLLAUD9LclMmEIECaurV6cEMPoH38XnGEJ-lU","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:14:52.882 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:14:52.997 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:14:52.997 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:14:52.998 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:14:52.998 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:14:53.003 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:14:58.456 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:14:58.524 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:15:36.703 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:15:50.988 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:15:50.992 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:15:50.992 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:15:50.992 +03:00 [DBG] Adding auth_time claim with value: 1586430950
2020-04-09 14:15:51.007 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:17:05.491 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:17:05.525 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:17:18.784 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:17:18.785 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:17:18.785 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:17:18.785 +03:00 [DBG] Start authorize request
2020-04-09 14:17:18.785 +03:00 [DBG] No user present in authorize request
2020-04-09 14:17:18.786 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:17:18.786 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:17:18.786 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:17:18.787 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:17:18.789 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864308923570.159130837495460530.43084504669532975","UiLocales":null,"Nonce":"N0.067879751294720241586431038666","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.067879751294720241586431038666","state":"15864308923570.159130837495460530.43084504669532975","code_challenge":"v0fbeJZaQqSEpXLVP5YrdwcasJ-ikMTo1qa7nxN6m5M","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:17:18.789 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:17:18.807 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:17:18.807 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:17:18.808 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:17:18.808 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:17:18.808 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:17:21.224 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:17:42.308 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:18:18.740 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:19:23.158 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:19:23.158 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:19:23.158 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:19:23.158 +03:00 [DBG] Adding auth_time claim with value: 1586431163
2020-04-09 14:19:23.159 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:19:33.083 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:19:33.085 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:40:58.454 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 14:40:58.525 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 14:40:58.538 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 14:40:58.538 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 14:40:58.538 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 14:40:58.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 14:40:58.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 14:40:58.539 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 14:40:59.456 +03:00 [DBG] Login Url: /Account/Login
2020-04-09 14:40:59.460 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-04-09 14:40:59.460 +03:00 [DBG] Logout Url: /Account/Logout
2020-04-09 14:40:59.460 +03:00 [DBG] ConsentUrl Url: /consent
2020-04-09 14:40:59.460 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-04-09 14:40:59.460 +03:00 [DBG] Error Url: /home/error
2020-04-09 14:40:59.460 +03:00 [DBG] Error Id Parameter: errorId
2020-04-09 14:41:09.516 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-04-09 14:41:09.522 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-04-09 14:41:09.523 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-04-09 14:41:09.525 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-04-09 14:41:09.530 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-04-09 14:41:09.531 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-04-09 14:41:09.537 +03:00 [DBG] Start discovery request
2020-04-09 14:41:12.943 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:41:13.180 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:41:13.180 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:41:13.188 +03:00 [DBG] Start authorize request
2020-04-09 14:41:13.201 +03:00 [DBG] No user present in authorize request
2020-04-09 14:41:13.209 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:41:13.239 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:41:13.258 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:41:13.310 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:41:13.333 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864324728360.83526821203412390.32611460464575437","UiLocales":null,"Nonce":"N0.0292451986256476731586432472836","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.0292451986256476731586432472836","state":"15864324728360.83526821203412390.32611460464575437","code_challenge":"QG5Ep7MohFnkHWPP8W6KKAyxo8qEIxI-sFjqyYlgZvM","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:41:13.378 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:41:13.486 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:41:13.487 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:41:13.487 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:41:13.488 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:41:13.492 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:41:19.826 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:41:21.453 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:42:05.101 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:42:39.509 +03:00 [DBG] Augmenting SignInContext
2020-04-09 14:42:39.513 +03:00 [DBG] Adding idp claim with value: local
2020-04-09 14:42:39.513 +03:00 [DBG] Adding amr claim with value: pwd
2020-04-09 14:42:39.513 +03:00 [DBG] Adding auth_time claim with value: 1586432559
2020-04-09 14:42:39.529 +03:00 [INF] AuthenticationScheme: idsrv signed in.
2020-04-09 14:43:27.933 +03:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:43:27.976 +03:00 [INF] AuthenticationScheme: idsrv signed out.
2020-04-09 14:43:35.978 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-04-09 14:43:35.979 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-04-09 14:43:35.979 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-04-09 14:43:35.979 +03:00 [DBG] Start authorize request
2020-04-09 14:43:35.979 +03:00 [DBG] No user present in authorize request
2020-04-09 14:43:35.980 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:43:35.980 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:43:35.980 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:43:35.980 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:43:35.981 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalclientangular","ClientName":"RegiX Client Application","RedirectUri":"http://localhost:4200/authorize.html","AllowedRedirectUris":["http://localhost:4200/authorize.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixclientapi regixcoremetadataapi","State":"15864324728360.83526821203412390.32611460464575437","UiLocales":null,"Nonce":"N0.327315053233565131586432615883","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"regixlocalclientangular","redirect_uri":"http://localhost:4200/authorize.html","response_type":"code","scope":"openid profile regixclientapi regixcoremetadataapi","nonce":"N0.327315053233565131586432615883","state":"15864324728360.83526821203412390.32611460464575437","code_challenge":"5JuUEIbqdOjI1G4cn7P-7UU0qBApKOdT52mb1Y3PIrY","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-04-09 14:43:35.981 +03:00 [INF] Showing login: User is not authenticated
2020-04-09 14:43:36.019 +03:00 [DBG] Start authorize request protocol validation
2020-04-09 14:43:36.019 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:43:36.020 +03:00 [DBG] Checking for PKCE parameters
2020-04-09 14:43:36.020 +03:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2020-04-09 14:43:36.020 +03:00 [DBG] client configuration validation for client regixlocalclientangular succeeded.
2020-04-09 14:43:47.261 +03:00 [DBG] CORS request made for path: /External/ChallengePost from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 14:44:17.559 +03:00 [INF] AuthenticationScheme: EAuthHandler was challenged.
2020-04-09 14:44:48.066 +03:00 [DBG] CORS request made for path: /EAuthAuthenticate from origin: https://eauthn.egov.bg:9445 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-04-09 15:17:15.387 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 15:17:15.466 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 15:17:15.482 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 15:17:15.483 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 15:17:15.483 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 15:17:15.483 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 15:17:15.483 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 15:17:15.483 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-04-09 15:17:55.187 +03:00 [INF] Starting IdentityServer4 version 2.5.0.0
2020-04-09 15:17:55.255 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-04-09 15:17:55.267 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-04-09 15:17:55.267 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-04-09 15:17:55.267 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-04-09 15:17:55.267 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-04-09 15:17:55.268 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-04-09 15:17:55.268 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-07-29 16:31:13.541 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-07-29 16:31:13.582 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-07-29 16:31:13.588 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-07-29 16:31:13.588 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-07-29 16:31:13.589 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-07-29 16:31:13.589 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-07-29 16:31:13.589 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-07-29 16:31:13.590 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-07-29 16:31:14.793 +03:00 [DBG] Login Url: /Account/Login
2020-07-29 16:31:14.796 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-07-29 16:31:14.798 +03:00 [DBG] Logout Url: /Account/Logout
2020-07-29 16:31:14.798 +03:00 [DBG] ConsentUrl Url: /consent
2020-07-29 16:31:14.799 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-07-29 16:31:14.799 +03:00 [DBG] Error Url: /home/error
2020-07-29 16:31:14.799 +03:00 [DBG] Error Id Parameter: errorId
2020-07-29 17:43:14.768 +03:00 [DBG] CORS request made for path: /.well-known/openid-configuration from origin: http://localhost:4200
2020-07-29 17:43:14.775 +03:00 [DBG] Client list checked and origin: http://localhost:4200 is allowed
2020-07-29 17:43:14.776 +03:00 [DBG] CorsPolicyService allowed origin: http://localhost:4200
2020-07-29 17:43:14.782 +03:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2020-07-29 17:43:14.788 +03:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2020-07-29 17:43:14.789 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2020-07-29 17:43:14.791 +03:00 [DBG] Start discovery request
2020-07-29 17:43:16.797 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-07-29 17:43:16.802 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-07-29 17:43:16.803 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-07-29 17:43:16.806 +03:00 [DBG] Start authorize request
2020-07-29 17:43:16.813 +03:00 [DBG] No user present in authorize request
2020-07-29 17:43:16.815 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:16.830 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:16.842 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:16.864 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:16.882 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalconsumerprofileangular","ClientName":"RegiX - Профили на консуматор - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixinfoapi","State":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","UiLocales":null,"Nonce":"a5ef3841d33de3c73c3fce85b6ec81855dhQWGCfU","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocalconsumerprofileangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"openid profile regixinfoapi","nonce":"a5ef3841d33de3c73c3fce85b6ec81855dhQWGCfU","state":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","code_challenge":"bnLlRRvsMWMDYDuWEZWV9SEV2SuaJ_ox_frEYA1yCUQ","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-07-29 17:43:16.910 +03:00 [INF] Showing login: User is not authenticated
2020-07-29 17:43:16.966 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:16.967 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:16.968 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:16.969 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:16.972 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:44.732 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:43:44.813 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:44.813 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:44.814 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:44.815 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:44.819 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:44.819 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:44.820 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:44.820 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:44.821 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:55.445 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:43:55.451 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:55.452 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:55.452 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:55.453 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:55.454 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:43:55.454 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:43:55.455 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:43:55.455 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:43:55.456 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:44:40.981 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-07-29 17:44:41.027 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-07-29 17:44:41.031 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-07-29 17:44:41.031 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-07-29 17:44:41.031 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-07-29 17:44:41.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-07-29 17:44:41.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-07-29 17:44:41.032 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-07-29 17:44:42.140 +03:00 [DBG] Login Url: /Account/Login
2020-07-29 17:44:42.143 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-07-29 17:44:42.143 +03:00 [DBG] Logout Url: /Account/Logout
2020-07-29 17:44:42.144 +03:00 [DBG] ConsentUrl Url: /consent
2020-07-29 17:44:42.144 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-07-29 17:44:42.145 +03:00 [DBG] Error Url: /home/error
2020-07-29 17:44:42.145 +03:00 [DBG] Error Id Parameter: errorId
2020-07-29 17:44:55.373 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:44:55.383 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:44:55.392 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:44:55.413 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:44:55.418 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:44:56.934 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-07-29 17:44:56.939 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-07-29 17:44:56.940 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-07-29 17:44:56.942 +03:00 [DBG] Start authorize request
2020-07-29 17:44:56.944 +03:00 [DBG] No user present in authorize request
2020-07-29 17:44:56.945 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:44:56.945 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:44:56.946 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:44:56.947 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:44:56.963 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalconsumerprofileangular","ClientName":"RegiX - Профили на консуматор - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixinfoapi","State":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","UiLocales":null,"Nonce":"12867cfb534620a0b21815fd265b83e802c1cSh0F","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocalconsumerprofileangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"openid profile regixinfoapi","nonce":"12867cfb534620a0b21815fd265b83e802c1cSh0F","state":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","code_challenge":"i2npK51KHYLHmMqoQWGKJ-lb-T_JyCpnS06WTLPYDZ0","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-07-29 17:44:56.992 +03:00 [INF] Showing login: User is not authenticated
2020-07-29 17:44:57.021 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:44:57.021 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:44:57.023 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:44:57.024 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:44:57.025 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:10.896 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:45:10.930 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:45:10.930 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:10.931 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:45:10.932 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:45:10.936 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:45:10.936 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:10.937 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:45:10.938 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:45:10.938 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:19.809 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:45:19.815 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:45:19.816 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:19.816 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:45:19.817 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:45:19.818 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:45:19.818 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:45:19.819 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:45:19.819 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:45:19.820 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:27.544 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:46:27.549 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:46:27.549 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:27.550 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:46:27.550 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:46:27.551 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:46:27.551 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:27.552 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:46:27.552 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:46:27.553 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:35.922 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:46:35.926 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:46:35.927 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:35.927 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:46:35.928 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:46:35.929 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:46:35.929 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:46:35.930 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:46:35.930 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:46:35.931 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:02.999 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-07-29 17:51:03.001 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-07-29 17:51:03.002 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-07-29 17:51:03.003 +03:00 [DBG] Start authorize request
2020-07-29 17:51:03.004 +03:00 [DBG] No user present in authorize request
2020-07-29 17:51:03.004 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:51:03.005 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:03.005 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:51:03.006 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:51:03.008 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocalconsumerprofileangular","ClientName":"RegiX - Профили на консуматор - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"openid profile regixinfoapi","State":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","UiLocales":null,"Nonce":"defa0d37690c646eb104a23f5509a2769el7F7hxk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocalconsumerprofileangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"openid profile regixinfoapi","nonce":"defa0d37690c646eb104a23f5509a2769el7F7hxk","state":"1fd1a6bdf862c884aad28c67556b94bc87ZNKak5v","code_challenge":"q7QiDzmsEJ0WYMR95yO11b8qtZ0Y6zOHFKMY_UQFPUY","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-07-29 17:51:03.013 +03:00 [INF] Showing login: User is not authenticated
2020-07-29 17:51:03.024 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:51:03.026 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:03.028 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:51:03.030 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:51:03.032 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:11.868 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:51:11.874 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:51:11.875 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:11.875 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:51:11.877 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:51:11.878 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:51:11.878 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:51:11.879 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:51:11.880 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:51:11.881 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:53:26.111 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-07-29 17:53:26.116 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:53:26.116 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:53:26.117 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:53:26.118 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:53:26.119 +03:00 [DBG] Start authorize request protocol validation
2020-07-29 17:53:26.119 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-29 17:53:26.120 +03:00 [DBG] Checking for PKCE parameters
2020-07-29 17:53:26.120 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-07-29 17:53:26.121 +03:00 [DBG] client configuration validation for client regixlocalconsumerprofileangular succeeded.
2020-07-30 09:21:36.279 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-07-30 09:21:36.317 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-07-30 09:21:36.321 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-07-30 09:21:36.322 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-07-30 09:21:36.322 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-07-30 09:21:36.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-07-30 09:21:36.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-07-30 09:21:36.323 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-07-30 09:21:36.879 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-08-19 15:15:14.015 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-08-19 15:15:14.054 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-08-19 15:15:14.058 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-08-19 15:15:14.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-08-19 15:15:14.058 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-08-19 15:15:14.059 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-08-19 15:15:14.059 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-08-19 15:15:14.059 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-08-19 15:15:15.574 +03:00 [DBG] Login Url: /Account/Login
2020-08-19 15:15:15.575 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-19 15:15:15.577 +03:00 [DBG] Logout Url: /Account/Logout
2020-08-19 15:15:15.577 +03:00 [DBG] ConsentUrl Url: /consent
2020-08-19 15:15:15.578 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-19 15:15:15.579 +03:00 [DBG] Error Url: /home/error
2020-08-19 15:15:15.580 +03:00 [DBG] Error Id Parameter: errorId
2020-08-19 15:15:42.634 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-08-19 15:15:42.668 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-08-19 15:15:42.672 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-08-19 15:15:42.672 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-08-19 15:15:42.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-08-19 15:15:42.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-08-19 15:15:42.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-08-19 15:15:42.673 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-08-19 15:15:44.107 +03:00 [DBG] Login Url: /Account/Login
2020-08-19 15:15:44.108 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-08-19 15:15:44.110 +03:00 [DBG] Logout Url: /Account/Logout
2020-08-19 15:15:44.110 +03:00 [DBG] ConsentUrl Url: /consent
2020-08-19 15:15:44.111 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-08-19 15:15:44.112 +03:00 [DBG] Error Url: /home/error
2020-08-19 15:15:44.112 +03:00 [DBG] Error Id Parameter: errorId
2020-08-19 15:16:51.301 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:17:01.721 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-19 15:17:01.730 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-19 15:17:01.734 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-19 15:17:01.736 +03:00 [DBG] Start authorize request
2020-08-19 15:17:01.741 +03:00 [DBG] No user present in authorize request
2020-08-19 15:17:01.745 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:01.754 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:01.770 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:01.802 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:01.817 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocaladminangular","ClientName":"Административно приложение - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/assets/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"regixcoremetadataapi regixadminapi openid profile","State":"a745e048c6509401fdd3a128d45757732bfK7iMo7","UiLocales":null,"Nonce":"6448e9e9c8514349ee89e80e92ec4a13eeE4owqzk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocaladminangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"regixcoremetadataapi regixadminapi openid profile","nonce":"6448e9e9c8514349ee89e80e92ec4a13eeE4owqzk","state":"a745e048c6509401fdd3a128d45757732bfK7iMo7","code_challenge":"DZk2vdM4ihXcAqzYtkuLf2V1QnJqHXGuRQkT9x6ELTU","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-08-19 15:17:01.841 +03:00 [INF] Showing login: User is not authenticated
2020-08-19 15:17:01.883 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:01.884 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:01.886 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:01.887 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:01.890 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:06.477 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:17:06.506 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:06.507 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:06.508 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:06.509 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:06.514 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:06.514 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:06.517 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:06.518 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:06.518 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:16.803 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:17:16.813 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:16.814 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:16.817 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:16.819 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:16.821 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:16.821 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:16.823 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:16.824 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:16.828 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:39.889 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:17:39.895 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:39.896 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:39.897 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:39.899 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:39.902 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:17:39.902 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:17:39.903 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:17:39.904 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:17:39.907 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:08.521 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:18:08.528 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:08.530 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:08.531 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:08.533 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:08.535 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:08.535 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:08.537 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:08.539 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:08.540 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:33.397 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-19 15:18:33.400 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-19 15:18:33.401 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-19 15:18:33.402 +03:00 [DBG] Start authorize request
2020-08-19 15:18:33.403 +03:00 [DBG] No user present in authorize request
2020-08-19 15:18:33.403 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:33.405 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:33.406 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:33.408 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:33.411 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocaladminangular","ClientName":"Административно приложение - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/assets/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"regixcoremetadataapi regixadminapi openid profile","State":"a745e048c6509401fdd3a128d45757732bfK7iMo7","UiLocales":null,"Nonce":"93cc8e9ee48f203edaaa782d761496f6a76bbH7XL","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocaladminangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"regixcoremetadataapi regixadminapi openid profile","nonce":"93cc8e9ee48f203edaaa782d761496f6a76bbH7XL","state":"a745e048c6509401fdd3a128d45757732bfK7iMo7","code_challenge":"vSVYZ5Vc-9ONQP2bYLXVhlFJObtcuPjvoD7VUMXLe4E","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-08-19 15:18:33.418 +03:00 [INF] Showing login: User is not authenticated
2020-08-19 15:18:33.430 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:33.430 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:33.432 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:33.432 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:33.434 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:42.216 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:18:42.222 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:42.222 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:42.226 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:42.228 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:42.230 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:18:42.231 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:18:42.232 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:18:42.233 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:18:42.234 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:08.605 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:19:08.606 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:08.608 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:19:08.609 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:19:08.610 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:11.575 +03:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2020-08-19 15:19:11.587 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2020-08-19 15:19:11.590 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2020-08-19 15:19:11.591 +03:00 [DBG] Start authorize request
2020-08-19 15:19:11.592 +03:00 [DBG] No user present in authorize request
2020-08-19 15:19:11.593 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:19:11.594 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:11.595 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:19:11.596 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:19:11.602 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocaladminangular","ClientName":"Административно приложение - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/assets/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"regixcoremetadataapi regixadminapi openid profile","State":"a745e048c6509401fdd3a128d45757732bfK7iMo7","UiLocales":null,"Nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocaladminangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"regixcoremetadataapi regixadminapi openid profile","nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","state":"a745e048c6509401fdd3a128d45757732bfK7iMo7","code_challenge":"zjT4laXphchW8ollQOA9vuxQeoSlnTLVJpGEWzHy6ms","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-08-19 15:19:11.620 +03:00 [INF] Showing login: User is not authenticated
2020-08-19 15:19:11.652 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:19:11.652 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:11.654 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:19:11.658 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:19:11.661 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:12.889 +03:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:19:12.895 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:19:12.896 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:12.897 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:19:12.898 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:19:12.949 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:13.074 +03:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2020-08-19 15:19:13.078 +03:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2020-08-19 15:19:13.079 +03:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2020-08-19 15:19:13.082 +03:00 [DBG] Start authorize callback request
2020-08-19 15:19:13.099 +03:00 [DBG] No user present in authorize request
2020-08-19 15:19:13.099 +03:00 [DBG] Start authorize request protocol validation
2020-08-19 15:19:13.101 +03:00 [DBG] client configuration validation for client regixlocaladminangular succeeded.
2020-08-19 15:19:13.102 +03:00 [DBG] Checking for PKCE parameters
2020-08-19 15:19:13.102 +03:00 [DBG] Calling into custom validator: TechnoLogica.IdentityServer.CustomAuthorizeRequestValidator
2020-08-19 15:19:13.103 +03:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"regixlocaladminangular","ClientName":"Административно приложение - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/assets/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"regixcoremetadataapi regixadminapi openid profile","State":"a745e048c6509401fdd3a128d45757732bfK7iMo7","UiLocales":null,"Nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocaladminangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"regixcoremetadataapi regixadminapi openid profile","nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","state":"a745e048c6509401fdd3a128d45757732bfK7iMo7","code_challenge":"zjT4laXphchW8ollQOA9vuxQeoSlnTLVJpGEWzHy6ms","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-08-19 15:19:13.109 +03:00 [INF] Error: User denied consent
2020-08-19 15:19:13.113 +03:00 [INF] {"ClientId":"regixlocaladminangular","ClientName":"Административно приложение - Локално","RedirectUri":"http://localhost:4200/postlogin","AllowedRedirectUris":["http://localhost:4200/postlogin","http://localhost:4200/assets/silent-renew.html"],"SubjectId":"anonymous","ResponseType":"code","ResponseMode":"query","GrantType":"authorization_code","RequestedScopes":"regixcoremetadataapi regixadminapi openid profile","State":"a745e048c6509401fdd3a128d45757732bfK7iMo7","UiLocales":null,"Nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"","Raw":{"client_id":"regixlocaladminangular","redirect_uri":"http://localhost:4200/postlogin","response_type":"code","scope":"regixcoremetadataapi regixadminapi openid profile","nonce":"a65edc93e2652508588e8ca58717a49abaqtLbUaR","state":"a745e048c6509401fdd3a128d45757732bfK7iMo7","code_challenge":"zjT4laXphchW8ollQOA9vuxQeoSlnTLVJpGEWzHy6ms","code_challenge_method":"S256"},"$type":"AuthorizeRequestValidationLog"}
2020-08-19 15:19:51.446 +03:00 [DBG] CORS request made for path: /api/account/regixlocaladminangular from origin: http://localhost:4200 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:19:51.452 +03:00 [DBG] CORS request made for path: /api/account/regixlocaladminangular from origin: http://localhost:4200 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:20:20.491 +03:00 [DBG] CORS request made for path: /api/account/regixlocaladminangular from origin: http://localhost:4200 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 15:20:20.497 +03:00 [DBG] CORS request made for path: /api/account/regixlocaladminangular from origin: http://localhost:4200 but was ignored because path was not for an allowed IdentityServer CORS endpoint
2020-08-19 17:32:43.172 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-08-19 17:32:43.206 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-08-19 17:32:43.210 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-08-19 17:32:43.210 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-08-19 17:32:43.210 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-08-19 17:32:43.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-08-19 17:32:43.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-08-19 17:32:43.211 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-08-19 17:32:43.478 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-08-20 10:51:46.399 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-08-20 10:51:46.448 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-08-20 10:51:46.455 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-08-20 10:51:46.456 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-08-20 10:51:46.456 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-08-20 10:51:46.457 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-08-20 10:51:46.457 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-08-20 10:51:46.457 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-08-20 10:51:46.866 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
2020-10-02 10:36:22.093 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-10-02 10:36:22.138 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-10-02 10:36:22.146 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-10-02 10:36:22.147 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-10-02 10:36:22.147 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-10-02 10:36:22.147 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-10-02 10:36:22.147 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-10-02 10:36:22.148 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-10-02 10:36:23.743 +03:00 [ERR] An exception occurred while processing the key element '<key id="cfbaaf17-da0a-47e9-8f25-4b20338bfb12" version="1" />'.
System.Security.Cryptography.CryptographicException: Unable to retrieve the decryption key.
   at System.Security.Cryptography.Xml.EncryptedXml.GetDecryptionKey(EncryptedData encryptedData, String symmetricAlgorithmUri)
   at System.Security.Cryptography.Xml.EncryptedXml.DecryptDocument()
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.EncryptedXmlDecryptor.Decrypt(XElement encryptedElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.DecryptElement(XElement element, IActivator activator)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.DeserializeDescriptorFromKeyElement(XElement keyElement)
2020-10-02 10:36:23.834 +03:00 [WRN] Key {cfbaaf17-da0a-47e9-8f25-4b20338bfb12} is ineligible to be the default key because its CreateEncryptor method failed.
System.Security.Cryptography.CryptographicException: Unable to retrieve the decryption key.
   at System.Security.Cryptography.Xml.EncryptedXml.GetDecryptionKey(EncryptedData encryptedData, String symmetricAlgorithmUri)
   at System.Security.Cryptography.Xml.EncryptedXml.DecryptDocument()
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.EncryptedXmlDecryptor.Decrypt(XElement encryptedElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.DecryptElement(XElement element, IActivator activator)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.DeserializeDescriptorFromKeyElement(XElement keyElement)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.DeferredKey.<>c__DisplayClass1_0.<GetLazyDescriptorDelegate>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyBase.get_Descriptor()
   at Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngGcmAuthenticatedEncryptorFactory.CreateEncryptorInstance(IKey key)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyBase.CreateEncryptor()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver.CanCreateAuthenticatedEncryptor(IKey key)
2020-10-02 10:36:23.843 +03:00 [WRN] Key {cfbaaf17-da0a-47e9-8f25-4b20338bfb12} is ineligible to be the default key because its CreateEncryptor method failed.
System.Security.Cryptography.CryptographicException: Unable to retrieve the decryption key.
   at System.Security.Cryptography.Xml.EncryptedXml.GetDecryptionKey(EncryptedData encryptedData, String symmetricAlgorithmUri)
   at System.Security.Cryptography.Xml.EncryptedXml.DecryptDocument()
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.EncryptedXmlDecryptor.Decrypt(XElement encryptedElement)
   at Microsoft.AspNetCore.DataProtection.XmlEncryption.XmlEncryptionExtensions.DecryptElement(XElement element, IActivator activator)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.IInternalXmlKeyManager.DeserializeDescriptorFromKeyElement(XElement keyElement)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.DeferredKey.<>c__DisplayClass1_0.<GetLazyDescriptorDelegate>b__0()
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
--- End of stack trace from previous location where exception was thrown ---
   at System.Lazy`1.CreateValue()
   at System.Lazy`1.get_Value()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyBase.get_Descriptor()
   at Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.CngGcmAuthenticatedEncryptorFactory.CreateEncryptorInstance(IKey key)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyBase.CreateEncryptor()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.DefaultKeyResolver.CanCreateAuthenticatedEncryptor(IKey key)
2020-10-02 10:36:25.560 +03:00 [DBG] Login Url: /Account/Login
2020-10-02 10:36:25.563 +03:00 [DBG] Login Return Url Parameter: ReturnUrl
2020-10-02 10:36:25.565 +03:00 [DBG] Logout Url: /Account/Logout
2020-10-02 10:36:25.566 +03:00 [DBG] ConsentUrl Url: /consent
2020-10-02 10:36:25.566 +03:00 [DBG] Consent Return Url Parameter: returnUrl
2020-10-02 10:36:25.567 +03:00 [DBG] Error Url: /home/error
2020-10-02 10:36:25.567 +03:00 [DBG] Error Id Parameter: errorId
2020-10-05 11:18:14.278 +03:00 [INF] Starting IdentityServer4 version 3.1.3.0
2020-10-05 11:18:14.334 +03:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2020-10-05 11:18:14.349 +03:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2020-10-05 11:18:14.350 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2020-10-05 11:18:14.350 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2020-10-05 11:18:14.351 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2020-10-05 11:18:14.351 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2020-10-05 11:18:14.352 +03:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2020-10-05 11:18:15.798 +03:00 [FTL] Unable to start Kestrel.
System.IO.IOException: Failed to bind to address https://127.0.0.1:5001: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.
 ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.<>c__DisplayClass21_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(IServerAddressesFeature addresses, KestrelServerOptions serverOptions, ILogger logger, Func`2 createBinding)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServer.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
