<nb-card class="card-single-page-height" [formGroup]="fullForm.group">
  <nb-card-header class="card-header-shadow">
    <div class="d-flex" style="justify-content: space-between">
      <div class="d-flex align-items-center">
        <div style="font-weight: bold; font-size: 22px">{{ title }}</div>
      </div>
      <div class="d-flex">
        <div>
          <button
            (click)="onSearch()"
            nbButton
            matRipple
            type="button"
            class="ml-2"
            style="min-width: 100px"
          >
            Търсене
          </button>
        </div>
      </div>
    </div>
  </nb-card-header>
  <nb-card-body class="overflow-scroll">
    <form autocomplete="off">
      <div class="row">
        <div class="form-group col-md-3">
          <cais-autocomplete
            [label]="'Бюро съдимост'"
            [inputFormControl]="fullForm.authorityId"
            [parentGroup]="fullForm.group"
            [inputName]="'authorityId'"
            [items]="dbData.authorities"
          ></cais-autocomplete>
        </div>
        <div class="form-group col-md-3">
          <cais-input
            [type]="'date'"
            [label]="'От'"
            [inputFormControl]="fullForm.fromDate"
            [parentGroup]="fullForm.group"
          ></cais-input>
        </div>
        <div class="form-group col-md-3">
          <cais-input
            [type]="'date'"
            [label]="'До'"
            [inputFormControl]="fullForm.toDate"
            [parentGroup]="fullForm.group"
          ></cais-input>
        </div>
      </div>
    </form>
    <div class="chart">
      <!-- <igx-pie-chart
        [dataSource]="data"
        width="100%"
        height="100%"
        labelMemberPath="count"
        valueMemberPath="objectType"
      >
      </igx-pie-chart> -->
    </div>
    <ng-container *ngIf="showChart">
      <!-- <igx-pie-chart
      [dataSource]="energyGlobalDemand"
      valueMemberPath="value"
      labelMemberPath="summary"
      legendLabelMemberPath="summary"
      labelsPosition="OutsideEnd"
      radiusFactor="0.7"
      [legend]="legend"
      labelExtent="30"
      outlines="white"
      name="chart"
      #chart>
      </igx-pie-chart> -->
      <div class="container">
        <!-- <div class="chart">
          <igx-pie-chart
            [dataSource]="data"
            width="100%"
            height="100%"
            labelMemberPath="count"
            valueMemberPath="objectType"
          >
          </igx-pie-chart>
        </div> -->
        <div class="grid">
          <igx-grid #dataGrid [data]="data">
            <igx-column
              field="objectType"
              header="Тип"
              [cellClasses]="condClasses"
              dataType="string"
            ></igx-column>
            <igx-column
              field="count"
              header="Брой"
              [cellClasses]="condClasses"
              dataType="number"
            >
            </igx-column>
          </igx-grid>
        </div>
      </div>
    </ng-container>
  </nb-card-body>
</nb-card>
